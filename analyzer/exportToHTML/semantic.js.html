<html>
<head>
<title>semantic.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: rgb(0,0,0); font-weight: normal; font-style: normal; }
.s0 { color: rgb(0,0,0); }
.s1 { color: rgb(128,128,128); font-style: italic; }
.s2 { color: rgb(0,0,128); font-weight: bold; }
.s3 { color: rgb(0,128,0); font-weight: bold; }
.s4 { color: rgb(0,0,255); }
</style>
</head>
<BODY BGCOLOR="#ffffff">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#C0C0C0" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
semantic.js</FONT>
</center></TD></TR></TABLE>
<pre>
 <span class="s1">/* 
 * # Semantic UI 
 * https://github.com/Semantic-Org/Semantic-UI 
 * http://www.semantic-ui.com/ 
 * 
 * Copyright 2014 Contributors 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
</span><span class="s1">/* 
 * # Semantic - Accordion 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">($, window, document, undefined) { 
 
</span><span class="s3">&quot;use strict&quot;</span><span class="s0">; 
 
$.fn.accordion = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules     = $(</span><span class="s2">this</span><span class="s0">), 
 
    time            = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance     = [], 
 
    query           = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked   = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments  = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
 
    requestAnimationFrame = window.requestAnimationFrame 
      || window.mozRequestAnimationFrame 
      || window.webkitRequestAnimationFrame 
      || window.msRequestAnimationFrame 
      || </span><span class="s2">function</span><span class="s0">(callback) { setTimeout(callback, </span><span class="s4">0</span><span class="s0">); }, 
 
    returnedValue 
  ; 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings        = ( $.isPlainObject(parameters) ) 
          ? $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.accordion.settings, parameters) 
          : $.extend({}, $.fn.accordion.settings), 
 
        className       = settings.className, 
        namespace       = settings.namespace, 
        selector        = settings.selector, 
        error           = settings.error, 
 
        eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace = </span><span class="s3">'module-' </span><span class="s0">+ namespace, 
        moduleSelector  = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
        $module  = $(</span><span class="s2">this</span><span class="s0">), 
        $title   = $module.find(selector.title), 
        $content = $module.find(selector.content), 
 
        element  = </span><span class="s2">this</span><span class="s0">, 
        instance = $module.data(moduleNamespace), 
        observer, 
        module 
      ; 
 
      module = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Initializing accordion with bound events'</span><span class="s0">, $module); 
          $module 
            .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, selector.title, module.event.click) 
          ; 
          module.observeChanges(); 
          module.instantiate(); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          instance = module; 
          $module 
            .data(moduleNamespace, module) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Destroying previous accordion for'</span><span class="s0">, $module); 
          $module 
            .removeData(moduleNamespace) 
          ; 
          $title 
            .off(eventNamespace) 
          ; 
        }, 
 
        refresh: </span><span class="s2">function</span><span class="s0">() { 
          $title   = $module.find(selector.title); 
          $content = $module.find(selector.content); 
        }, 
 
        observeChanges: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s3">'MutationObserver' </span><span class="s2">in </span><span class="s0">window) { 
            observer = </span><span class="s2">new </span><span class="s0">MutationObserver(</span><span class="s2">function</span><span class="s0">(mutations) { 
              module.debug(</span><span class="s3">'DOM tree modified, updating selector cache'</span><span class="s0">); 
              module.refresh(); 
            }); 
            observer.observe(element, { 
              childList : </span><span class="s2">true</span><span class="s0">, 
              subtree   : </span><span class="s2">true</span><span class="s0"> 
            }); 
            module.debug(</span><span class="s3">'Setting up mutation observer'</span><span class="s0">, observer); 
          } 
        }, 
 
 
        event: { 
          click: </span><span class="s2">function</span><span class="s0">() { 
            $.proxy(module.toggle, </span><span class="s2">this</span><span class="s0">)(); 
          } 
        }, 
 
        toggle: </span><span class="s2">function</span><span class="s0">(query) { 
          </span><span class="s2">var</span><span class="s0"> 
            $activeTitle = (query !== undefined) 
              ? (</span><span class="s2">typeof </span><span class="s0">query === </span><span class="s3">'number'</span><span class="s0">) 
                ? $title.eq(query) 
                : $(query) 
              : $(</span><span class="s2">this</span><span class="s0">), 
            $activeContent = $activeTitle.next($content), 
            contentIsOpen  = $activeContent.is(</span><span class="s3">':visible'</span><span class="s0">) 
          ; 
          module.debug(</span><span class="s3">'Toggling visibility of content'</span><span class="s0">, $activeTitle); 
          </span><span class="s2">if</span><span class="s0">(contentIsOpen) { 
            </span><span class="s2">if</span><span class="s0">(settings.collapsible) { 
              $.proxy(module.close, $activeTitle)(); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug(</span><span class="s3">'Cannot close accordion content collapsing is disabled'</span><span class="s0">); 
            } 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            $.proxy(module.open, $activeTitle)(); 
          } 
        }, 
 
        open: </span><span class="s2">function</span><span class="s0">(query) { 
          </span><span class="s2">var</span><span class="s0"> 
            $activeTitle = (query !== undefined) 
              ? (</span><span class="s2">typeof </span><span class="s0">query === </span><span class="s3">'number'</span><span class="s0">) 
                ? $title.eq(query) 
                : $(query) 
              : $(</span><span class="s2">this</span><span class="s0">), 
            $activeContent     = $activeTitle.next($content), 
            currentlyAnimating = $activeContent.is(</span><span class="s3">':animated'</span><span class="s0">), 
            currentlyActive    = $activeContent.hasClass(className.active) 
          ; 
          </span><span class="s2">if</span><span class="s0">(!currentlyAnimating &amp;&amp; !currentlyActive) { 
            module.debug(</span><span class="s3">'Opening accordion content'</span><span class="s0">, $activeTitle); 
            </span><span class="s2">if</span><span class="s0">(settings.exclusive) { 
              $.proxy(module.closeOthers, $activeTitle)(); 
            } 
            $activeTitle 
              .addClass(className.active) 
            ; 
            $activeContent 
              .stop() 
              .children() 
                .stop() 
                .animate({ 
                  opacity: </span><span class="s4">1</span><span class="s0"> 
                }, settings.duration, module.reset.display) 
                .end() 
              .slideDown(settings.duration, settings.easing, </span><span class="s2">function</span><span class="s0">() { 
                $activeContent 
                  .addClass(className.active) 
                ; 
                $.proxy(module.reset.display, </span><span class="s2">this</span><span class="s0">)(); 
                $.proxy(settings.onOpen, </span><span class="s2">this</span><span class="s0">)(); 
                $.proxy(settings.onChange, </span><span class="s2">this</span><span class="s0">)(); 
              }) 
            ; 
          } 
        }, 
 
        close: </span><span class="s2">function</span><span class="s0">(query) { 
          </span><span class="s2">var</span><span class="s0"> 
            $activeTitle = (query !== undefined) 
              ? (</span><span class="s2">typeof </span><span class="s0">query === </span><span class="s3">'number'</span><span class="s0">) 
                ? $title.eq(query) 
                : $(query) 
              : $(</span><span class="s2">this</span><span class="s0">), 
            $activeContent = $activeTitle.next($content), 
            isActive       = $activeContent.hasClass(className.active) 
          ; 
          </span><span class="s2">if</span><span class="s0">(isActive) { 
            module.debug(</span><span class="s3">'Closing accordion content'</span><span class="s0">, $activeContent); 
            $activeTitle 
              .removeClass(className.active) 
            ; 
            $activeContent 
              .removeClass(className.active) 
              .show() 
              .stop() 
              .children() 
                .stop() 
                .animate({ 
                  opacity: </span><span class="s4">0</span><span class="s0"> 
                }, settings.duration, module.reset.opacity) 
                .end() 
              .slideUp(settings.duration, settings.easing, </span><span class="s2">function</span><span class="s0">() { 
                $.proxy(module.reset.display, </span><span class="s2">this</span><span class="s0">)(); 
                $.proxy(settings.onClose, </span><span class="s2">this</span><span class="s0">)(); 
                $.proxy(settings.onChange, </span><span class="s2">this</span><span class="s0">)(); 
              }) 
            ; 
          } 
        }, 
 
        closeOthers: </span><span class="s2">function</span><span class="s0">(index) { 
          </span><span class="s2">var</span><span class="s0"> 
            $activeTitle = (index !== undefined) 
              ? $title.eq(index) 
              : $(</span><span class="s2">this</span><span class="s0">), 
            $parentTitles    = $activeTitle.parents(selector.content).prev(selector.title), 
            $activeAccordion = $activeTitle.closest(selector.accordion), 
            activeSelector   = selector.title + </span><span class="s3">'.' </span><span class="s0">+ className.active + </span><span class="s3">':visible'</span><span class="s0">, 
            activeContent    = selector.content + </span><span class="s3">'.' </span><span class="s0">+ className.active + </span><span class="s3">':visible'</span><span class="s0">, 
            $openTitles, 
            $nestedTitles, 
            $openContents 
          ; 
          </span><span class="s2">if</span><span class="s0">(settings.closeNested) { 
            $openTitles   = $activeAccordion.find(activeSelector).not($parentTitles); 
            $openContents = $openTitles.next($content); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            $openTitles   = $activeAccordion.find(activeSelector).not($parentTitles); 
            $nestedTitles = $activeAccordion.find(activeContent).find(activeSelector).not($parentTitles); 
            $openTitles = $openTitles.not($nestedTitles); 
            $openContents = $openTitles.next($content); 
          } 
          </span><span class="s2">if</span><span class="s0">( ($openTitles.size() &gt; </span><span class="s4">0</span><span class="s0">) ) { 
            module.debug(</span><span class="s3">'Exclusive enabled, closing other content'</span><span class="s0">, $openTitles); 
            $openTitles 
              .removeClass(className.active) 
            ; 
            $openContents 
              .stop() 
              .children() 
                .stop() 
                .animate({ 
                  opacity: </span><span class="s4">0</span><span class="s0"> 
                }, settings.duration, module.resetOpacity) 
                .end() 
              .slideUp(settings.duration , settings.easing, </span><span class="s2">function</span><span class="s0">() { 
                $(</span><span class="s2">this</span><span class="s0">).removeClass(className.active); 
                $.proxy(module.reset.display, </span><span class="s2">this</span><span class="s0">)(); 
              }) 
            ; 
          } 
        }, 
 
        reset: { 
 
          display: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Removing inline display from element'</span><span class="s0">, </span><span class="s2">this</span><span class="s0">); 
            $(</span><span class="s2">this</span><span class="s0">).css(</span><span class="s3">'display'</span><span class="s0">, </span><span class="s3">''</span><span class="s0">); 
            </span><span class="s2">if</span><span class="s0">( $(</span><span class="s2">this</span><span class="s0">).attr(</span><span class="s3">'style'</span><span class="s0">) === </span><span class="s3">''</span><span class="s0">) { 
              $(</span><span class="s2">this</span><span class="s0">) 
                .attr(</span><span class="s3">'style'</span><span class="s0">, </span><span class="s3">''</span><span class="s0">) 
                .removeAttr(</span><span class="s3">'style'</span><span class="s0">) 
              ; 
            } 
          }, 
 
          opacity: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Removing inline opacity from element'</span><span class="s0">, </span><span class="s2">this</span><span class="s0">); 
            $(</span><span class="s2">this</span><span class="s0">).css(</span><span class="s3">'opacity'</span><span class="s0">, </span><span class="s3">''</span><span class="s0">); 
            </span><span class="s2">if</span><span class="s0">( $(</span><span class="s2">this</span><span class="s0">).attr(</span><span class="s3">'style'</span><span class="s0">) === </span><span class="s3">''</span><span class="s0">) { 
              $(</span><span class="s2">this</span><span class="s0">) 
                .attr(</span><span class="s3">'style'</span><span class="s0">, </span><span class="s3">''</span><span class="s0">) 
                .removeAttr(</span><span class="s3">'style'</span><span class="s0">) 
              ; 
            } 
          }, 
 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing setting'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing internal'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">(value !== undefined) { 
            </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
              $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module[name] = value; 
            } 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
    }) 
  ; 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.accordion.settings = { 
 
  name        : </span><span class="s3">'Accordion'</span><span class="s0">, 
  namespace   : </span><span class="s3">'accordion'</span><span class="s0">, 
 
  debug       : </span><span class="s2">false</span><span class="s0">, 
  verbose     : </span><span class="s2">true</span><span class="s0">, 
  performance : </span><span class="s2">true</span><span class="s0">, 
 
  exclusive   : </span><span class="s2">true</span><span class="s0">, 
  collapsible : </span><span class="s2">true</span><span class="s0">, 
  closeNested : </span><span class="s2">false</span><span class="s0">, 
 
  duration    : </span><span class="s4">500</span><span class="s0">, 
  easing      : </span><span class="s3">'easeInOutQuint'</span><span class="s0">, 
 
  onOpen      : </span><span class="s2">function</span><span class="s0">(){}, 
  onClose     : </span><span class="s2">function</span><span class="s0">(){}, 
  onChange    : </span><span class="s2">function</span><span class="s0">(){}, 
 
  error: { 
    method    : </span><span class="s3">'The method you called is not defined'</span><span class="s0"> 
  }, 
 
  className   : { 
    active : </span><span class="s3">'active'</span><span class="s0"> 
  }, 
 
  selector    : { 
    accordion : </span><span class="s3">'.accordion'</span><span class="s0">, 
    title     : </span><span class="s3">'.title'</span><span class="s0">, 
    content   : </span><span class="s3">'.content'</span><span class="s0"> 
  } 
 
}; 
 
</span><span class="s1">// Adds easing</span><span class="s0"> 
$.extend( $.easing, { 
  easeInOutQuint: </span><span class="s2">function </span><span class="s0">(x, t, b, c, d) { 
    </span><span class="s2">if </span><span class="s0">((t/=d/</span><span class="s4">2</span><span class="s0">) &lt; </span><span class="s4">1</span><span class="s0">) </span><span class="s2">return </span><span class="s0">c/</span><span class="s4">2</span><span class="s0">*t*t*t*t*t + b; 
    </span><span class="s2">return </span><span class="s0">c/</span><span class="s4">2</span><span class="s0">*((t-=</span><span class="s4">2</span><span class="s0">)*t*t*t*t + </span><span class="s4">2</span><span class="s0">) + b; 
  } 
}); 
 
})( jQuery, window , document ); 
 
 
</span><span class="s1">/* 
 * # Semantic - API 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">( $, window, document, undefined ) { 
 
$.api = $.fn.api = </span><span class="s2">function</span><span class="s0">(parameters) { 
 
  </span><span class="s2">var</span><span class="s0"> 
    </span><span class="s1">// use window context if none specified</span><span class="s0"> 
    $allModules     = $.isFunction(</span><span class="s2">this</span><span class="s0">) 
        ? $(window) 
        : $(</span><span class="s2">this</span><span class="s0">), 
    moduleSelector = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
    time           = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance    = [], 
 
    query          = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked  = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
 
    returnedValue 
  ; 
 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings          = ( $.isPlainObject(parameters) ) 
          ? $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.api.settings, parameters) 
          : $.extend({}, $.fn.api.settings), 
 
        </span><span class="s1">// internal aliases</span><span class="s0"> 
        namespace       = settings.namespace, 
        metadata        = settings.metadata, 
        selector        = settings.selector, 
        error           = settings.error, 
        className       = settings.className, 
 
        </span><span class="s1">// define namespaces for modules</span><span class="s0"> 
        eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace = </span><span class="s3">'module-' </span><span class="s0">+ namespace, 
 
        </span><span class="s1">// element that creates request</span><span class="s0"> 
        $module         = $(</span><span class="s2">this</span><span class="s0">), 
        $form           = $module.closest(selector.form), 
 
        </span><span class="s1">// context used for state</span><span class="s0"> 
        $context        = (settings.stateContext) 
          ? $(settings.stateContext) 
          : $module, 
 
        </span><span class="s1">// request details</span><span class="s0"> 
        ajaxSettings, 
        requestSettings, 
        url, 
        data, 
 
        </span><span class="s1">// standard module</span><span class="s0"> 
        element         = </span><span class="s2">this</span><span class="s0">, 
        context         = $context.get(), 
        instance        = $module.data(moduleNamespace), 
        module 
      ; 
 
      module = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">var</span><span class="s0"> 
            triggerEvent = module.get.event() 
          ; 
          </span><span class="s1">// bind events</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">(!methodInvoked) { 
            </span><span class="s2">if</span><span class="s0">( triggerEvent ) { 
              module.debug(</span><span class="s3">'Attaching API events to element'</span><span class="s0">, triggerEvent); 
              $module 
                .on(triggerEvent + eventNamespace, module.event.trigger) 
              ; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.query(); 
            } 
          } 
          module.instantiate(); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of module'</span><span class="s0">, module); 
          instance = module; 
          $module 
            .data(moduleNamespace, instance) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying previous module for'</span><span class="s0">, element); 
          $module 
            .removeData(moduleNamespace) 
            .off(eventNamespace) 
          ; 
        }, 
 
        query: </span><span class="s2">function</span><span class="s0">() { 
 
          </span><span class="s2">if</span><span class="s0">(module.is.disabled()) { 
            module.debug(</span><span class="s3">'Element is disabled API request aborted'</span><span class="s0">); 
            </span><span class="s2">return</span><span class="s0">; 
          } 
          </span><span class="s1">// determine if an api event already occurred</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">(module.is.loading() &amp;&amp; settings.throttle === </span><span class="s4">0 </span><span class="s0">) { 
            module.debug(</span><span class="s3">'Cancelling request, previous request is still pending'</span><span class="s0">); 
            </span><span class="s2">return</span><span class="s0">; 
          } 
 
          </span><span class="s1">// pass element metadata to url (value, text)</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">(settings.defaultData) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings.urlData, module.get.defaultData()); 
          } 
 
          </span><span class="s1">// Add form content</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">(settings.serializeForm !== </span><span class="s2">false </span><span class="s0">|| $context.is(</span><span class="s3">'form'</span><span class="s0">)) { 
            </span><span class="s2">if</span><span class="s0">(settings.serializeForm == </span><span class="s3">'json'</span><span class="s0">) { 
              $.extend(</span><span class="s2">true</span><span class="s0">, settings.data, module.get.formData()); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              settings.data = module.get.formData(); 
            } 
          } 
 
          </span><span class="s1">// call beforesend and get any settings changes</span><span class="s0"> 
          requestSettings = module.get.settings(); 
 
          </span><span class="s1">// check if beforesend cancelled request</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">(requestSettings === </span><span class="s2">false</span><span class="s0">) { 
            module.error(error.beforeSend); 
            </span><span class="s2">return</span><span class="s0">; 
          } 
 
          </span><span class="s2">if</span><span class="s0">(settings.url) { 
            </span><span class="s1">// override with url if specified</span><span class="s0"> 
            module.debug(</span><span class="s3">'Using specified url'</span><span class="s0">, url); 
            url = module.add.urlData( settings.url ); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s1">// otherwise find url from api endpoints</span><span class="s0"> 
            url = module.add.urlData( module.get.templateURL() ); 
            module.debug(</span><span class="s3">'Added URL Data to url'</span><span class="s0">, url); 
          } 
 
          </span><span class="s1">// exit conditions reached, missing url parameters</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">( !url ) { 
            </span><span class="s2">if</span><span class="s0">($module.is(</span><span class="s3">'form'</span><span class="s0">)) { 
              module.debug(</span><span class="s3">'No url or action specified, defaulting to form action'</span><span class="s0">); 
              url = $module.attr(</span><span class="s3">'action'</span><span class="s0">); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.error(error.missingURL, settings.action); 
              </span><span class="s2">return</span><span class="s0">; 
            } 
          } 
 
          </span><span class="s1">// add loading state</span><span class="s0"> 
          module.set.loading(); 
 
          </span><span class="s1">// look for jQuery ajax parameters in settings</span><span class="s0"> 
          ajaxSettings = $.extend(</span><span class="s2">true</span><span class="s0">, {}, settings, { 
            type       : settings.method || settings.type, 
            data       : data, 
            url        : settings.base + url, 
            beforeSend : settings.beforeXHR, 
            success    : </span><span class="s2">function</span><span class="s0">() {}, 
            failure    : </span><span class="s2">function</span><span class="s0">() {}, 
            complete   : </span><span class="s2">function</span><span class="s0">() {} 
          }); 
 
          module.verbose(</span><span class="s3">'Creating AJAX request with settings'</span><span class="s0">, ajaxSettings); 
 
          </span><span class="s2">if</span><span class="s0">( !module.is.loading() ) { 
            module.request = module.create.request(); 
            module.xhr = module.create.xhr(); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s1">// throttle additional requests</span><span class="s0"> 
            module.timer = setTimeout(</span><span class="s2">function</span><span class="s0">() { 
              module.request = module.create.request(); 
              module.xhr = module.create.xhr(); 
            }, settings.throttle); 
          } 
 
        }, 
 
 
        is: { 
          disabled: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">($module.filter(settings.filter).size() &gt; </span><span class="s4">0</span><span class="s0">); 
          }, 
          loading: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">(module.request &amp;&amp; module.request.state() == </span><span class="s3">'pending'</span><span class="s0">); 
          } 
        }, 
 
        was: { 
          succesful: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">(module.request &amp;&amp; module.request.state() == </span><span class="s3">'resolved'</span><span class="s0">); 
          }, 
          failure: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">(module.request &amp;&amp; module.request.state() == </span><span class="s3">'rejected'</span><span class="s0">); 
          }, 
          complete: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">(module.request &amp;&amp; (module.request.state() == </span><span class="s3">'resolved' </span><span class="s0">|| module.request.state() == </span><span class="s3">'rejected'</span><span class="s0">) ); 
          } 
        }, 
 
        add: { 
          urlData: </span><span class="s2">function</span><span class="s0">(url, urlData) { 
            </span><span class="s2">var</span><span class="s0"> 
              requiredVariables, 
              optionalVariables 
            ; 
            </span><span class="s2">if</span><span class="s0">(url) { 
              requiredVariables = url.match(settings.regExp.required); 
              optionalVariables = url.match(settings.regExp.optional); 
              urlData           = urlData || settings.urlData; 
              </span><span class="s2">if</span><span class="s0">(requiredVariables) { 
                module.debug(</span><span class="s3">'Looking for required URL variables'</span><span class="s0">, requiredVariables); 
                $.each(requiredVariables, </span><span class="s2">function</span><span class="s0">(index, templatedString) { 
                  </span><span class="s2">var</span><span class="s0"> 
                    </span><span class="s1">// allow legacy {$var} style</span><span class="s0"> 
                    variable = (templatedString.indexOf(</span><span class="s3">'$'</span><span class="s0">) !== -</span><span class="s4">1</span><span class="s0">) 
                      ? templatedString.substr(</span><span class="s4">2</span><span class="s0">, templatedString.length - </span><span class="s4">3</span><span class="s0">) 
                      : templatedString.substr(</span><span class="s4">1</span><span class="s0">, templatedString.length - </span><span class="s4">2</span><span class="s0">), 
                    value   = ($.isPlainObject(urlData) &amp;&amp; urlData[variable] !== undefined) 
                      ? urlData[variable] 
                      : ($module.data(variable) !== undefined) 
                        ? $module.data(variable) 
                        : ($context.data(variable) !== undefined) 
                          ? $context.data(variable) 
                          : urlData[variable] 
                  ; 
                  </span><span class="s1">// remove value</span><span class="s0"> 
                  </span><span class="s2">if</span><span class="s0">(value === undefined) { 
                    module.error(error.requiredParameter, variable, url); 
                    url = </span><span class="s2">false</span><span class="s0">; 
                    </span><span class="s2">return false</span><span class="s0">; 
                  } 
                  </span><span class="s2">else </span><span class="s0">{ 
                    module.verbose(</span><span class="s3">'Found required variable'</span><span class="s0">, variable, value); 
                    url = url.replace(templatedString, value); 
                  } 
                }); 
              } 
              </span><span class="s2">if</span><span class="s0">(optionalVariables) { 
                module.debug(</span><span class="s3">'Looking for optional URL variables'</span><span class="s0">, requiredVariables); 
                $.each(optionalVariables, </span><span class="s2">function</span><span class="s0">(index, templatedString) { 
                  </span><span class="s2">var</span><span class="s0"> 
                    </span><span class="s1">// allow legacy {/$var} style</span><span class="s0"> 
                    variable = (templatedString.indexOf(</span><span class="s3">'$'</span><span class="s0">) !== -</span><span class="s4">1</span><span class="s0">) 
                      ? templatedString.substr(</span><span class="s4">3</span><span class="s0">, templatedString.length - </span><span class="s4">4</span><span class="s0">) 
                      : templatedString.substr(</span><span class="s4">2</span><span class="s0">, templatedString.length - </span><span class="s4">3</span><span class="s0">), 
                    value   = ($.isPlainObject(urlData) &amp;&amp; urlData[variable] !== undefined) 
                      ? urlData[variable] 
                      : ($module.data(variable) !== undefined) 
                        ? $module.data(variable) 
                        : ($context.data(variable) !== undefined) 
                          ? $context.data(variable) 
                          : urlData[variable] 
                  ; 
                  </span><span class="s1">// optional replacement</span><span class="s0"> 
                  </span><span class="s2">if</span><span class="s0">(value !== undefined) { 
                    module.verbose(</span><span class="s3">'Optional variable Found'</span><span class="s0">, variable, value); 
                    url = url.replace(templatedString, value); 
                  } 
                  </span><span class="s2">else </span><span class="s0">{ 
                    module.verbose(</span><span class="s3">'Optional variable not found'</span><span class="s0">, variable); 
                    </span><span class="s1">// remove preceding slash if set</span><span class="s0"> 
                    </span><span class="s2">if</span><span class="s0">(url.indexOf(</span><span class="s3">'/' </span><span class="s0">+ templatedString) !== -</span><span class="s4">1</span><span class="s0">) { 
                      url = url.replace(</span><span class="s3">'/' </span><span class="s0">+ templatedString, </span><span class="s3">''</span><span class="s0">); 
                    } 
                    </span><span class="s2">else </span><span class="s0">{ 
                      url = url.replace(templatedString, </span><span class="s3">''</span><span class="s0">); 
                    } 
                  } 
                }); 
              } 
            } 
            </span><span class="s2">return </span><span class="s0">url; 
          } 
        }, 
 
        event: { 
          trigger: </span><span class="s2">function</span><span class="s0">(event) { 
            module.query(); 
            </span><span class="s2">if</span><span class="s0">(event.type == </span><span class="s3">'submit' </span><span class="s0">|| event.type == </span><span class="s3">'click'</span><span class="s0">) { 
              event.preventDefault(); 
            } 
          }, 
          xhr: { 
            always: </span><span class="s2">function</span><span class="s0">() { 
              </span><span class="s1">// calculate if loading time was below minimum threshold</span><span class="s0"> 
            }, 
            done: </span><span class="s2">function</span><span class="s0">(response) { 
              </span><span class="s2">var</span><span class="s0"> 
                context      = </span><span class="s2">this</span><span class="s0">, 
                elapsedTime  = (</span><span class="s2">new </span><span class="s0">Date().getTime() - time), 
                timeLeft     = (settings.loadingDuration - elapsedTime) 
              ; 
              timeLeft = (timeLeft &gt; </span><span class="s4">0</span><span class="s0">) 
                ? timeLeft 
                : </span><span class="s4">0</span><span class="s0"> 
              ; 
              setTimeout(</span><span class="s2">function</span><span class="s0">() { 
                module.request.resolveWith(context, [response]); 
              }, timeLeft); 
            }, 
            fail: </span><span class="s2">function</span><span class="s0">(xhr, status, httpMessage) { 
              </span><span class="s2">var</span><span class="s0"> 
                context     = </span><span class="s2">this</span><span class="s0">, 
                elapsedTime = (</span><span class="s2">new </span><span class="s0">Date().getTime() - time), 
                timeLeft    = (settings.loadingDuration - elapsedTime) 
              ; 
              timeLeft = (timeLeft &gt; </span><span class="s4">0</span><span class="s0">) 
                ? timeLeft 
                : </span><span class="s4">0</span><span class="s0"> 
              ; 
              </span><span class="s1">// page triggers abort on navigation, dont show error</span><span class="s0"> 
              setTimeout(</span><span class="s2">function</span><span class="s0">() { 
                </span><span class="s2">if</span><span class="s0">(status !== </span><span class="s3">'abort'</span><span class="s0">) { 
                  module.request.rejectWith(context, [xhr, status, httpMessage]); 
                } 
                </span><span class="s2">else </span><span class="s0">{ 
                  module.reset(); 
                } 
              }, timeLeft); 
            } 
          }, 
          request: { 
            complete: </span><span class="s2">function</span><span class="s0">(response) { 
              module.remove.loading(); 
              $.proxy(settings.onComplete, context)(response, $module); 
            }, 
            done: </span><span class="s2">function</span><span class="s0">(response) { 
              module.debug(</span><span class="s3">'API Response Received'</span><span class="s0">, response); 
              </span><span class="s2">if</span><span class="s0">(settings.dataType == </span><span class="s3">'json'</span><span class="s0">) { 
                </span><span class="s2">if</span><span class="s0">( $.isFunction(settings.successTest) ) { 
                  module.debug(</span><span class="s3">'Checking JSON returned success'</span><span class="s0">, settings.successTest, response); 
                  </span><span class="s2">if</span><span class="s0">( settings.successTest(response) ) { 
                    $.proxy(settings.onSuccess, context)(response, $module); 
                  } 
                  </span><span class="s2">else </span><span class="s0">{ 
                    module.debug(</span><span class="s3">'JSON test specified by user and response failed'</span><span class="s0">, response); 
                    $.proxy(settings.onFailure, context)(response, $module); 
                  } 
                } 
                </span><span class="s2">else </span><span class="s0">{ 
                  $.proxy(settings.onSuccess, context)(response, $module); 
                } 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.proxy(settings.onSuccess, context)(response, $module); 
              } 
            }, 
            error: </span><span class="s2">function</span><span class="s0">(xhr, status, httpMessage) { 
              </span><span class="s2">var</span><span class="s0"> 
                errorMessage = (settings.error[status] !== undefined) 
                  ? settings.error[status] 
                  : httpMessage, 
                response 
              ; 
              </span><span class="s1">// let em know unless request aborted</span><span class="s0"> 
              </span><span class="s2">if</span><span class="s0">(xhr !== undefined) { 
                </span><span class="s1">// readyState 4 = done, anything less is not really sent</span><span class="s0"> 
                </span><span class="s2">if</span><span class="s0">(xhr.readyState !== undefined &amp;&amp; xhr.readyState == </span><span class="s4">4</span><span class="s0">) { 
 
                  </span><span class="s1">// if http status code returned and json returned error, look for it</span><span class="s0"> 
                  </span><span class="s2">if</span><span class="s0">( xhr.status != </span><span class="s4">200 </span><span class="s0">&amp;&amp; httpMessage !== undefined &amp;&amp; httpMessage !== </span><span class="s3">''</span><span class="s0">) { 
                    module.error(error.statusMessage + httpMessage); 
                  } 
                  </span><span class="s2">else </span><span class="s0">{ 
                    </span><span class="s2">if</span><span class="s0">(status == </span><span class="s3">'error' </span><span class="s0">&amp;&amp; settings.dataType == </span><span class="s3">'json'</span><span class="s0">) { 
                      </span><span class="s2">try </span><span class="s0">{ 
                        response = $.parseJSON(xhr.responseText); 
                        </span><span class="s2">if</span><span class="s0">(response &amp;&amp; response.error !== undefined) { 
                          errorMessage = response.error; 
                        } 
                      } 
                      </span><span class="s2">catch</span><span class="s0">(e) { 
                        module.error(error.JSONParse); 
                      } 
                    } 
                  } 
                  module.remove.loading(); 
                  module.set.error(); 
                  </span><span class="s1">// show error state only for duration specified in settings</span><span class="s0"> 
                  </span><span class="s2">if</span><span class="s0">(settings.errorDuration) { 
                    setTimeout(module.remove.error, settings.errorDuration); 
                  } 
                  module.debug(</span><span class="s3">'API Request error:'</span><span class="s0">, errorMessage); 
                  $.proxy(settings.onError, context)(errorMessage, context); 
                } 
                </span><span class="s2">else </span><span class="s0">{ 
                  $.proxy(settings.onAbort, context)(errorMessage, context); 
                  module.debug(</span><span class="s3">'Request Aborted (Most likely caused by page change or CORS Policy)'</span><span class="s0">, status, httpMessage); 
                } 
              } 
            } 
          } 
        }, 
 
        create: { 
          request: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$.Deferred() 
              .always(module.event.request.complete) 
              .done(module.event.request.done) 
              .fail(module.event.request.error) 
            ; 
          }, 
          xhr: </span><span class="s2">function</span><span class="s0">() { 
            $.ajax(ajaxSettings) 
              .always(module.event.xhr.always) 
              .done(module.event.xhr.done) 
              .fail(module.event.xhr.fail) 
            ; 
          } 
        }, 
 
        </span><span class="s2">set</span><span class="s0">: { 
          error: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Adding error state to element'</span><span class="s0">, $context); 
            $context.addClass(className.error); 
          }, 
          loading: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Adding loading state to element'</span><span class="s0">, $context); 
            $context.addClass(className.loading); 
          } 
        }, 
 
        remove: { 
          error: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Removing error state from element'</span><span class="s0">, $context); 
            $context.removeClass(className.error); 
          }, 
          loading: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Removing loading state from element'</span><span class="s0">, $context); 
            $context.removeClass(className.loading); 
          } 
        }, 
 
        </span><span class="s2">get</span><span class="s0">: { 
          request: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">module.request || </span><span class="s2">false</span><span class="s0">; 
          }, 
          xhr: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">module.xhr || </span><span class="s2">false</span><span class="s0">; 
          }, 
          settings: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              runSettings 
            ; 
            runSettings = $.proxy(settings.beforeSend, $module)(settings); 
            </span><span class="s2">if</span><span class="s0">(runSettings) { 
              </span><span class="s2">if</span><span class="s0">(runSettings.success !== undefined) { 
                module.debug(</span><span class="s3">'Legacy success callback detected'</span><span class="s0">, runSettings); 
                module.error(error.legacyParameters, runSettings.success); 
                runSettings.onSuccess = runSettings.success; 
              } 
              </span><span class="s2">if</span><span class="s0">(runSettings.failure !== undefined) { 
                module.debug(</span><span class="s3">'Legacy failure callback detected'</span><span class="s0">, runSettings); 
                module.error(error.legacyParameters, runSettings.failure); 
                runSettings.onFailure = runSettings.failure; 
              } 
              </span><span class="s2">if</span><span class="s0">(runSettings.complete !== undefined) { 
                module.debug(</span><span class="s3">'Legacy complete callback detected'</span><span class="s0">, runSettings); 
                module.error(error.legacyParameters, runSettings.complete); 
                runSettings.onComplete = runSettings.complete; 
              } 
            } 
            </span><span class="s2">if</span><span class="s0">(runSettings === undefined) { 
              module.error(error.noReturnedValue); 
            } 
            </span><span class="s2">return </span><span class="s0">(runSettings !== undefined) 
              ? runSettings 
              : settings 
            ; 
          }, 
          defaultData: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              data = {} 
            ; 
            </span><span class="s2">if</span><span class="s0">( !$.isWindow(element) ) { 
              </span><span class="s2">if</span><span class="s0">( $module.is(</span><span class="s3">'input'</span><span class="s0">) ) { 
                data.value = $module.val(); 
              } 
              </span><span class="s2">else if</span><span class="s0">( $module.is(</span><span class="s3">'form'</span><span class="s0">) ) { 
 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                data.text = $module.text(); 
              } 
            } 
            </span><span class="s2">return </span><span class="s0">data; 
          }, 
          event: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">( $.isWindow(element) || settings.on == </span><span class="s3">'now' </span><span class="s0">) { 
              module.debug(</span><span class="s3">'API called without element, no events attached'</span><span class="s0">); 
              </span><span class="s2">return false</span><span class="s0">; 
            } 
            </span><span class="s2">else if</span><span class="s0">(settings.on == </span><span class="s3">'auto'</span><span class="s0">) { 
              </span><span class="s2">if</span><span class="s0">( $module.is(</span><span class="s3">'input'</span><span class="s0">) ) { 
                </span><span class="s2">return </span><span class="s0">(element.oninput !== undefined) 
                  ? </span><span class="s3">'input'</span><span class="s0"> 
                  : (element.onpropertychange !== undefined) 
                    ? </span><span class="s3">'propertychange'</span><span class="s0"> 
                    : </span><span class="s3">'keyup'</span><span class="s0"> 
                ; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $module.is(</span><span class="s3">'form'</span><span class="s0">) ) { 
                </span><span class="s2">return </span><span class="s3">'submit'</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">return </span><span class="s3">'click'</span><span class="s0">; 
              } 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              </span><span class="s2">return </span><span class="s0">settings.on; 
            } 
          }, 
          formData: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              formData 
            ; 
            </span><span class="s2">if</span><span class="s0">($(</span><span class="s2">this</span><span class="s0">).serializeObject() !== undefined) { 
              formData = $form.serializeObject(); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.error(error.missingSerialize); 
              formData = $form.serialize(); 
            } 
            module.debug(</span><span class="s3">'Retrieved form data'</span><span class="s0">, formData); 
            </span><span class="s2">return </span><span class="s0">formData; 
          }, 
          templateURL: </span><span class="s2">function</span><span class="s0">(action) { 
            </span><span class="s2">var</span><span class="s0"> 
              url 
            ; 
            action = action || $module.data(settings.metadata.action) || settings.action || </span><span class="s2">false</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(action) { 
              module.debug(</span><span class="s3">'Looking up url for action'</span><span class="s0">, action, settings.api); 
              </span><span class="s2">if</span><span class="s0">(settings.api[action] !== undefined) { 
                url = settings.api[action]; 
                module.debug(</span><span class="s3">'Found template url'</span><span class="s0">, url); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.error(error.missingAction, settings.action, settings.api); 
              } 
            } 
            </span><span class="s2">return </span><span class="s0">url; 
          } 
        }, 
 
        </span><span class="s1">// reset state</span><span class="s0"> 
        reset: </span><span class="s2">function</span><span class="s0">() { 
          module.remove.error(); 
          module.remove.loading(); 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing setting'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s1">//'Element'        : element,</span><span class="s0"> 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.error(error.method, query); 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
    }) 
  ; 
 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.api.settings = { 
 
  name            : </span><span class="s3">'API'</span><span class="s0">, 
  namespace       : </span><span class="s3">'api'</span><span class="s0">, 
 
  debug           : </span><span class="s2">false</span><span class="s0">, 
  verbose         : </span><span class="s2">true</span><span class="s0">, 
  performance     : </span><span class="s2">true</span><span class="s0">, 
 
  </span><span class="s1">// event binding</span><span class="s0"> 
  on              : </span><span class="s3">'auto'</span><span class="s0">, 
  filter          : </span><span class="s3">'.disabled'</span><span class="s0">, 
  stateContext    : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// state</span><span class="s0"> 
  loadingDuration : </span><span class="s4">0</span><span class="s0">, 
  errorDuration   : </span><span class="s4">2000</span><span class="s0">, 
 
  </span><span class="s1">// templating</span><span class="s0"> 
  action          : </span><span class="s2">false</span><span class="s0">, 
  url             : </span><span class="s2">false</span><span class="s0">, 
  base            : </span><span class="s3">''</span><span class="s0">, 
 
  </span><span class="s1">// data</span><span class="s0"> 
  urlData         : {}, 
 
  </span><span class="s1">// ui</span><span class="s0"> 
  defaultData     : </span><span class="s2">true</span><span class="s0">, 
  serializeForm   : </span><span class="s2">false</span><span class="s0">, 
  throttle        : </span><span class="s4">0</span><span class="s0">, 
 
  </span><span class="s1">// jQ ajax</span><span class="s0"> 
  method          : </span><span class="s3">'get'</span><span class="s0">, 
  data            : {}, 
  dataType        : </span><span class="s3">'json'</span><span class="s0">, 
 
  </span><span class="s1">// callbacks</span><span class="s0"> 
  beforeSend  : </span><span class="s2">function</span><span class="s0">(settings) { </span><span class="s2">return </span><span class="s0">settings; }, 
  beforeXHR   : </span><span class="s2">function</span><span class="s0">(xhr) {}, 
 
  onSuccess   : </span><span class="s2">function</span><span class="s0">(response, $module) {}, 
  onComplete  : </span><span class="s2">function</span><span class="s0">(response, $module) {}, 
  onFailure   : </span><span class="s2">function</span><span class="s0">(errorMessage, $module) {}, 
  onError     : </span><span class="s2">function</span><span class="s0">(errorMessage, $module) {}, 
  onAbort     : </span><span class="s2">function</span><span class="s0">(errorMessage, $module) {}, 
 
  successTest : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// errors</span><span class="s0"> 
  error : { 
    beforeSend        : </span><span class="s3">'The before send function has aborted the request'</span><span class="s0">, 
    error             : </span><span class="s3">'There was an error with your request'</span><span class="s0">, 
    exitConditions    : </span><span class="s3">'API Request Aborted. Exit conditions met'</span><span class="s0">, 
    JSONParse         : </span><span class="s3">'JSON could not be parsed during error handling'</span><span class="s0">, 
    legacyParameters  : </span><span class="s3">'You are using legacy API success callback names'</span><span class="s0">, 
    missingAction     : </span><span class="s3">'API action used but no url was defined'</span><span class="s0">, 
    missingSerialize  : </span><span class="s3">'Required dependency jquery-serialize-object missing, using basic serialize'</span><span class="s0">, 
    missingURL        : </span><span class="s3">'No URL specified for api event'</span><span class="s0">, 
    noReturnedValue   : </span><span class="s3">'The beforeSend callback must return a settings object, beforeSend ignored.'</span><span class="s0">, 
    parseError        : </span><span class="s3">'There was an error parsing your request'</span><span class="s0">, 
    requiredParameter : </span><span class="s3">'Missing a required URL parameter: '</span><span class="s0">, 
    statusMessage     : </span><span class="s3">'Server gave an error: '</span><span class="s0">, 
    timeout           : </span><span class="s3">'Your request timed out'</span><span class="s0"> 
  }, 
 
  regExp  : { 
    required: </span><span class="s4">/\{\$*[A-z0-9]+\}/g</span><span class="s0">, 
    optional: </span><span class="s4">/\{\/\$*[A-z0-9]+\}/g</span><span class="s0">, 
  }, 
 
  className: { 
    loading : </span><span class="s3">'loading'</span><span class="s0">, 
    error   : </span><span class="s3">'error'</span><span class="s0"> 
  }, 
 
  selector: { 
    form: </span><span class="s3">'form'</span><span class="s0"> 
  }, 
 
  metadata: { 
    action  : </span><span class="s3">'action'</span><span class="s0">, 
    request : </span><span class="s3">'request'</span><span class="s0">, 
    xhr     : </span><span class="s3">'xhr'</span><span class="s0"> 
  } 
}; 
 
 
$.api.settings.api = {}; 
 
 
})( jQuery, window , document ); 
</span><span class="s1">/* 
 * # Semantic - Checkbox 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">( $, window, document, undefined ) { 
 
</span><span class="s3">&quot;use strict&quot;</span><span class="s0">; 
 
$.fn.checkbox = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules    = $(</span><span class="s2">this</span><span class="s0">), 
    moduleSelector = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
    time           = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance    = [], 
 
    query          = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked  = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
    returnedValue 
  ; 
 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings        = $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.checkbox.settings, parameters), 
 
        className       = settings.className, 
        namespace       = settings.namespace, 
        selector        = settings.selector, 
        error           = settings.error, 
 
        eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace = </span><span class="s3">'module-' </span><span class="s0">+ namespace, 
 
        $module         = $(</span><span class="s2">this</span><span class="s0">), 
        $label          = $(</span><span class="s2">this</span><span class="s0">).next(selector.label).first(), 
        $input          = $(</span><span class="s2">this</span><span class="s0">).find(selector.input), 
 
        instance        = $module.data(moduleNamespace), 
 
        observer, 
        element         = </span><span class="s2">this</span><span class="s0">, 
        module 
      ; 
 
      module      = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Initializing checkbox'</span><span class="s0">, settings); 
          $module 
            .on(</span><span class="s3">'click'   </span><span class="s0">+ eventNamespace, module.toggle) 
            .on(</span><span class="s3">'keydown' </span><span class="s0">+ eventNamespace, selector.input, module.event.keydown) 
          ; 
          </span><span class="s2">if</span><span class="s0">( module.is.checked() ) { 
            module.set.checked(); 
            </span><span class="s2">if</span><span class="s0">(settings.fireOnInit) { 
              $.proxy(settings.onChecked, $input.get())(); 
            } 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.remove.checked(); 
            </span><span class="s2">if</span><span class="s0">(settings.fireOnInit) { 
              $.proxy(settings.onUnchecked, $input.get())(); 
            } 
          } 
          module.observeChanges(); 
 
          module.instantiate(); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of module'</span><span class="s0">, module); 
          instance = module; 
          $module 
            .data(moduleNamespace, module) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying previous module'</span><span class="s0">); 
          $module 
            .off(eventNamespace) 
            .removeData(moduleNamespace) 
          ; 
          $input 
            .off(eventNamespace, module.event.keydown) 
          ; 
          $label 
            .off(eventNamespace) 
          ; 
        }, 
 
        refresh: </span><span class="s2">function</span><span class="s0">() { 
          $module = $(</span><span class="s2">this</span><span class="s0">); 
          $label  = $(</span><span class="s2">this</span><span class="s0">).next(selector.label).first(); 
          $input  = $(</span><span class="s2">this</span><span class="s0">).find(selector.input); 
        }, 
 
        observeChanges: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s3">'MutationObserver' </span><span class="s2">in </span><span class="s0">window) { 
            observer = </span><span class="s2">new </span><span class="s0">MutationObserver(</span><span class="s2">function</span><span class="s0">(mutations) { 
              module.debug(</span><span class="s3">'DOM tree modified, updating selector cache'</span><span class="s0">); 
              module.refresh(); 
            }); 
            observer.observe(element, { 
              childList : </span><span class="s2">true</span><span class="s0">, 
              subtree   : </span><span class="s2">true</span><span class="s0"> 
            }); 
            module.debug(</span><span class="s3">'Setting up mutation observer'</span><span class="s0">, observer); 
          } 
        }, 
 
        attachEvents: </span><span class="s2">function</span><span class="s0">(selector, event) { 
          </span><span class="s2">var</span><span class="s0"> 
            $toggle = $(selector) 
          ; 
          event = $.isFunction(module[event]) 
            ? module[event] 
            : module.toggle 
          ; 
          </span><span class="s2">if</span><span class="s0">($toggle.size() &gt; </span><span class="s4">0</span><span class="s0">) { 
            module.debug(</span><span class="s3">'Attaching checkbox events to element'</span><span class="s0">, selector, event); 
            $toggle 
              .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, event) 
            ; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.error(error.notFound); 
          } 
        }, 
 
        event: { 
          keydown: </span><span class="s2">function</span><span class="s0">(event) { 
            </span><span class="s2">var</span><span class="s0"> 
              key     = event.which, 
              keyCode = { 
                enter  : </span><span class="s4">13</span><span class="s0">, 
                escape : </span><span class="s4">27</span><span class="s0"> 
              } 
            ; 
            </span><span class="s2">if</span><span class="s0">( key == keyCode.escape) { 
              module.verbose(</span><span class="s3">'Escape key pressed blurring field'</span><span class="s0">); 
              $module 
                .blur() 
              ; 
            } 
            </span><span class="s2">if</span><span class="s0">(!event.ctrlKey &amp;&amp; key == keyCode.enter) { 
              module.verbose(</span><span class="s3">'Enter key pressed, toggling checkbox'</span><span class="s0">); 
              $.proxy(module.toggle, </span><span class="s2">this</span><span class="s0">)(); 
              event.preventDefault(); 
            } 
          } 
        }, 
 
        is: { 
          radio: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.radio); 
          }, 
          checked: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$input.prop(</span><span class="s3">'checked'</span><span class="s0">) !== undefined &amp;&amp; $input.prop(</span><span class="s3">'checked'</span><span class="s0">); 
          }, 
          unchecked: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">!module.is.checked(); 
          } 
        }, 
 
        can: { 
          change: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">!( $module.hasClass(className.disabled) || $module.hasClass(className.readOnly) || $input.prop(</span><span class="s3">'disabled'</span><span class="s0">) ); 
          }, 
          uncheck: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">settings.uncheckable === </span><span class="s3">'boolean'</span><span class="s0">) 
              ? settings.uncheckable 
              : !module.is.radio() 
            ; 
          } 
        }, 
 
        </span><span class="s2">set</span><span class="s0">: { 
          checked: </span><span class="s2">function</span><span class="s0">() { 
            $module.addClass(className.checked); 
          }, 
          tab: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">( $input.attr(</span><span class="s3">'tabindex'</span><span class="s0">) === undefined) { 
              $input 
                .attr(</span><span class="s3">'tabindex'</span><span class="s0">, </span><span class="s4">0</span><span class="s0">) 
              ; 
            } 
          } 
        }, 
 
        remove: { 
          checked: </span><span class="s2">function</span><span class="s0">() { 
            $module.removeClass(className.checked); 
          } 
        }, 
 
        enable: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Enabling checkbox functionality'</span><span class="s0">); 
          $module.removeClass(className.disabled); 
          $input.prop(</span><span class="s3">'disabled'</span><span class="s0">, </span><span class="s2">false</span><span class="s0">); 
          $.proxy(settings.onEnabled, $input.get())(); 
        }, 
 
        disable: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Disabling checkbox functionality'</span><span class="s0">); 
          $module.addClass(className.disabled); 
          $input.prop(</span><span class="s3">'disabled'</span><span class="s0">, </span><span class="s3">'disabled'</span><span class="s0">); 
          $.proxy(settings.onDisabled, $input.get())(); 
        }, 
 
        check: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Enabling checkbox'</span><span class="s0">, $input); 
          $input 
            .prop(</span><span class="s3">'checked'</span><span class="s0">, </span><span class="s2">true</span><span class="s0">) 
            .trigger(</span><span class="s3">'change'</span><span class="s0">) 
          ; 
          module.set.checked(); 
          $.proxy(settings.onChange, $input.get())(); 
          $.proxy(settings.onChecked, $input.get())(); 
        }, 
 
        uncheck: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Disabling checkbox'</span><span class="s0">); 
          $input 
            .prop(</span><span class="s3">'checked'</span><span class="s0">, </span><span class="s2">false</span><span class="s0">) 
            .trigger(</span><span class="s3">'change'</span><span class="s0">) 
          ; 
          module.remove.checked(); 
          $.proxy(settings.onChange, $input.get())(); 
          $.proxy(settings.onUnchecked, $input.get())(); 
        }, 
 
        toggle: </span><span class="s2">function</span><span class="s0">(event) { 
          </span><span class="s2">if</span><span class="s0">( !module.can.change() ) { 
            console.log(module.can.change()); 
            module.debug(</span><span class="s3">'Checkbox is read-only or disabled, ignoring toggle'</span><span class="s0">); 
            </span><span class="s2">return</span><span class="s0">; 
          } 
          module.verbose(</span><span class="s3">'Determining new checkbox state'</span><span class="s0">); 
          </span><span class="s2">if</span><span class="s0">( module.is.unchecked() ) { 
            module.check(); 
          } 
          </span><span class="s2">else if</span><span class="s0">( module.is.checked() &amp;&amp; module.can.uncheck() ) { 
            module.uncheck(); 
          } 
        }, 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing setting'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
    }) 
  ; 
 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.checkbox.settings = { 
 
  name        : </span><span class="s3">'Checkbox'</span><span class="s0">, 
  namespace   : </span><span class="s3">'checkbox'</span><span class="s0">, 
 
  debug       : </span><span class="s2">false</span><span class="s0">, 
  verbose     : </span><span class="s2">true</span><span class="s0">, 
  performance : </span><span class="s2">true</span><span class="s0">, 
 
  </span><span class="s1">// delegated event context</span><span class="s0"> 
  uncheckable : </span><span class="s3">'auto'</span><span class="s0">, 
  fireOnInit  : </span><span class="s2">true</span><span class="s0">, 
 
  onChange    : </span><span class="s2">function</span><span class="s0">(){}, 
  onChecked   : </span><span class="s2">function</span><span class="s0">(){}, 
  onUnchecked : </span><span class="s2">function</span><span class="s0">(){}, 
  onEnabled   : </span><span class="s2">function</span><span class="s0">(){}, 
  onDisabled  : </span><span class="s2">function</span><span class="s0">(){}, 
 
  className   : { 
    checked  : </span><span class="s3">'checked'</span><span class="s0">, 
    disabled : </span><span class="s3">'disabled'</span><span class="s0">, 
    radio    : </span><span class="s3">'radio'</span><span class="s0">, 
    readOnly : </span><span class="s3">'read-only'</span><span class="s0"> 
  }, 
 
  error     : { 
    method   : </span><span class="s3">'The method you called is not defined.'</span><span class="s0"> 
  }, 
 
  selector : { 
    input  : </span><span class="s3">'input[type=checkbox], input[type=radio]'</span><span class="s0">, 
    label  : </span><span class="s3">'label'</span><span class="s0"> 
  } 
 
}; 
 
})( jQuery, window , document ); 
 
</span><span class="s1">/* 
 * # Semantic - Colorize 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">( $, window, document, undefined ) { 
 
  </span><span class="s3">&quot;use strict&quot;</span><span class="s0">; 
 
  $.fn.colorize = </span><span class="s2">function</span><span class="s0">(parameters) { 
    </span><span class="s2">var</span><span class="s0"> 
      settings        = $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.colorize.settings, parameters), 
      </span><span class="s1">// hoist arguments</span><span class="s0"> 
      moduleArguments = arguments || </span><span class="s2">false</span><span class="s0"> 
    ; 
    $(</span><span class="s2">this</span><span class="s0">) 
      .each(</span><span class="s2">function</span><span class="s0">(instanceIndex) { 
 
        </span><span class="s2">var</span><span class="s0"> 
          $module         = $(</span><span class="s2">this</span><span class="s0">), 
 
          mainCanvas      = $(</span><span class="s3">'&lt;canvas /&gt;'</span><span class="s0">)[</span><span class="s4">0</span><span class="s0">], 
          imageCanvas     = $(</span><span class="s3">'&lt;canvas /&gt;'</span><span class="s0">)[</span><span class="s4">0</span><span class="s0">], 
          overlayCanvas   = $(</span><span class="s3">'&lt;canvas /&gt;'</span><span class="s0">)[</span><span class="s4">0</span><span class="s0">], 
 
          backgroundImage = </span><span class="s2">new </span><span class="s0">Image(), 
 
          </span><span class="s1">// defs</span><span class="s0"> 
          mainContext, 
          imageContext, 
          overlayContext, 
 
          image, 
          imageName, 
 
          width, 
          height, 
 
          </span><span class="s1">// shortucts</span><span class="s0"> 
          colors    = settings.colors, 
          paths     = settings.paths, 
          namespace = settings.namespace, 
          error     = settings.error, 
 
          </span><span class="s1">// boilerplate</span><span class="s0"> 
          instance   = $module.data(</span><span class="s3">'module-' </span><span class="s0">+ namespace), 
          module 
        ; 
 
        module = { 
 
          checkPreconditions: </span><span class="s2">function</span><span class="s0">() { 
            module.debug(</span><span class="s3">'Checking pre-conditions'</span><span class="s0">); 
 
            </span><span class="s2">if</span><span class="s0">( !$.isPlainObject(colors) || $.isEmptyObject(colors) ) { 
              module.error(error.undefinedColors); 
              </span><span class="s2">return false</span><span class="s0">; 
            } 
            </span><span class="s2">return true</span><span class="s0">; 
          }, 
 
          async: </span><span class="s2">function</span><span class="s0">(callback) { 
            </span><span class="s2">if</span><span class="s0">(settings.async) { 
              setTimeout(callback, </span><span class="s4">0</span><span class="s0">); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              callback(); 
            } 
          }, 
 
          getMetadata: </span><span class="s2">function</span><span class="s0">() { 
            module.debug(</span><span class="s3">'Grabbing metadata'</span><span class="s0">); 
            image     = $module.data(</span><span class="s3">'image'</span><span class="s0">) || settings.image || undefined; 
            imageName = $module.data(</span><span class="s3">'name'</span><span class="s0">)  || settings.name  || instanceIndex; 
            width     = settings.width        || $module.width(); 
            height    = settings.height       || $module.height(); 
            </span><span class="s2">if</span><span class="s0">(width === </span><span class="s4">0 </span><span class="s0">|| height === </span><span class="s4">0</span><span class="s0">) { 
              module.error(error.undefinedSize); 
            } 
          }, 
 
          initialize: </span><span class="s2">function</span><span class="s0">() { 
            module.debug(</span><span class="s3">'Initializing with colors'</span><span class="s0">, colors); 
            </span><span class="s2">if</span><span class="s0">( module.checkPreconditions() ) { 
 
              module.async(</span><span class="s2">function</span><span class="s0">() { 
                module.getMetadata(); 
                module.canvas.create(); 
 
                module.draw.image(</span><span class="s2">function</span><span class="s0">() { 
                  module.draw.colors(); 
                  module.canvas.merge(); 
                }); 
                $module 
                  .data(</span><span class="s3">'module-' </span><span class="s0">+ namespace, module) 
                ; 
              }); 
            } 
          }, 
 
          redraw: </span><span class="s2">function</span><span class="s0">() { 
            module.debug(</span><span class="s3">'Redrawing image'</span><span class="s0">); 
            module.async(</span><span class="s2">function</span><span class="s0">() { 
              module.canvas.clear(); 
              module.draw.colors(); 
              module.canvas.merge(); 
            }); 
          }, 
 
          change: { 
            color: </span><span class="s2">function</span><span class="s0">(colorName, color) { 
              module.debug(</span><span class="s3">'Changing color'</span><span class="s0">, colorName); 
              </span><span class="s2">if</span><span class="s0">(colors[colorName] === undefined) { 
                module.error(error.missingColor); 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              colors[colorName] = color; 
              module.redraw(); 
            } 
          }, 
 
          canvas: { 
            create: </span><span class="s2">function</span><span class="s0">() { 
              module.debug(</span><span class="s3">'Creating canvases'</span><span class="s0">); 
 
              mainCanvas.width     = width; 
              mainCanvas.height    = height; 
              imageCanvas.width    = width; 
              imageCanvas.height   = height; 
              overlayCanvas.width  = width; 
              overlayCanvas.height = height; 
 
              mainContext    = mainCanvas.getContext(</span><span class="s3">'2d'</span><span class="s0">); 
              imageContext   = imageCanvas.getContext(</span><span class="s3">'2d'</span><span class="s0">); 
              overlayContext = overlayCanvas.getContext(</span><span class="s3">'2d'</span><span class="s0">); 
 
              $module 
                .append( mainCanvas ) 
              ; 
              mainContext    = $module.children(</span><span class="s3">'canvas'</span><span class="s0">)[</span><span class="s4">0</span><span class="s0">].getContext(</span><span class="s3">'2d'</span><span class="s0">); 
            }, 
            clear: </span><span class="s2">function</span><span class="s0">(context) { 
              module.debug(</span><span class="s3">'Clearing canvas'</span><span class="s0">); 
              overlayContext.fillStyle = </span><span class="s3">'#FFFFFF'</span><span class="s0">; 
              overlayContext.fillRect(</span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, width, height); 
            }, 
            merge: </span><span class="s2">function</span><span class="s0">() { 
              </span><span class="s2">if</span><span class="s0">( !$.isFunction(mainContext.blendOnto) ) { 
                module.error(error.missingPlugin); 
                </span><span class="s2">return</span><span class="s0">; 
              } 
              mainContext.putImageData( imageContext.getImageData(</span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">, width, height), </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">); 
              overlayContext.blendOnto(mainContext, </span><span class="s3">'multiply'</span><span class="s0">); 
            } 
          }, 
 
          draw: { 
 
            image: </span><span class="s2">function</span><span class="s0">(callback) { 
              module.debug(</span><span class="s3">'Drawing image'</span><span class="s0">); 
              callback = callback || </span><span class="s2">function</span><span class="s0">(){}; 
              </span><span class="s2">if</span><span class="s0">(image) { 
                backgroundImage.src    = image; 
                backgroundImage.onload = </span><span class="s2">function</span><span class="s0">() { 
                  imageContext.drawImage(backgroundImage, </span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">); 
                  callback(); 
                }; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.error(error.noImage); 
                callback(); 
              } 
            }, 
 
            colors: </span><span class="s2">function</span><span class="s0">() { 
              module.debug(</span><span class="s3">'Drawing color overlays'</span><span class="s0">, colors); 
              $.each(colors, </span><span class="s2">function</span><span class="s0">(colorName, color) { 
                settings.onDraw(overlayContext, imageName, colorName, color); 
              }); 
            } 
 
          }, 
 
          debug: </span><span class="s2">function</span><span class="s0">(message, variableName) { 
            </span><span class="s2">if</span><span class="s0">(settings.debug) { 
              </span><span class="s2">if</span><span class="s0">(variableName !== undefined) { 
                console.info(settings.name + </span><span class="s3">': ' </span><span class="s0">+ message, variableName); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                console.info(settings.name + </span><span class="s3">': ' </span><span class="s0">+ message); 
              } 
            } 
          }, 
          error: </span><span class="s2">function</span><span class="s0">(errorMessage) { 
            console.warn(settings.name + </span><span class="s3">': ' </span><span class="s0">+ errorMessage); 
          }, 
          invoke: </span><span class="s2">function</span><span class="s0">(methodName, context, methodArguments) { 
            </span><span class="s2">var</span><span class="s0"> 
              method 
            ; 
            methodArguments = methodArguments || Array.prototype.slice.call( arguments, </span><span class="s4">2 </span><span class="s0">); 
 
            </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">methodName == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; instance !== undefined) { 
              methodName = methodName.split(</span><span class="s3">'.'</span><span class="s0">); 
              $.each(methodName, </span><span class="s2">function</span><span class="s0">(index, name) { 
                </span><span class="s2">if</span><span class="s0">( $.isPlainObject( instance[name] ) ) { 
                  instance = instance[name]; 
                  </span><span class="s2">return true</span><span class="s0">; 
                } 
                </span><span class="s2">else if</span><span class="s0">( $.isFunction( instance[name] ) ) { 
                  method = instance[name]; 
                  </span><span class="s2">return true</span><span class="s0">; 
                } 
                module.error(settings.error.method); 
                </span><span class="s2">return false</span><span class="s0">; 
              }); 
            } 
            </span><span class="s2">return </span><span class="s0">( $.isFunction( method ) ) 
              ? method.apply(context, methodArguments) 
              : </span><span class="s2">false</span><span class="s0"> 
            ; 
          } 
 
        }; 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined &amp;&amp; moduleArguments) { 
          </span><span class="s1">// simpler than invoke realizing to invoke itself (and losing scope due prototype.call()</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">(moduleArguments[</span><span class="s4">0</span><span class="s0">] == </span><span class="s3">'invoke'</span><span class="s0">) { 
            moduleArguments = Array.prototype.slice.call( moduleArguments, </span><span class="s4">1 </span><span class="s0">); 
          } 
          </span><span class="s2">return </span><span class="s0">module.invoke(moduleArguments[</span><span class="s4">0</span><span class="s0">], </span><span class="s2">this</span><span class="s0">, Array.prototype.slice.call( moduleArguments, </span><span class="s4">1 </span><span class="s0">) ); 
        } 
        </span><span class="s1">// initializing</span><span class="s0"> 
        module.initialize(); 
      }) 
    ; 
    </span><span class="s2">return this</span><span class="s0">; 
  }; 
 
  $.fn.colorize.settings = { 
    name      : </span><span class="s3">'Image Colorizer'</span><span class="s0">, 
    debug     : </span><span class="s2">true</span><span class="s0">, 
    namespace : </span><span class="s3">'colorize'</span><span class="s0">, 
 
    onDraw    : </span><span class="s2">function</span><span class="s0">(overlayContext, imageName, colorName, color) {}, 
 
    </span><span class="s1">// whether to block execution while updating canvas</span><span class="s0"> 
    async     : </span><span class="s2">true</span><span class="s0">, 
    </span><span class="s1">// object containing names and default values of color regions</span><span class="s0"> 
    colors    : {}, 
 
    metadata: { 
      image : </span><span class="s3">'image'</span><span class="s0">, 
      name  : </span><span class="s3">'name'</span><span class="s0"> 
    }, 
 
    error: { 
      noImage         : </span><span class="s3">'No tracing image specified'</span><span class="s0">, 
      undefinedColors : </span><span class="s3">'No default colors specified.'</span><span class="s0">, 
      missingColor    : </span><span class="s3">'Attempted to change color that does not exist'</span><span class="s0">, 
      missingPlugin   : </span><span class="s3">'Blend onto plug-in must be included'</span><span class="s0">, 
      undefinedHeight : </span><span class="s3">'The width or height of image canvas could not be automatically determined. Please specify a height.'</span><span class="s0"> 
    } 
 
  }; 
 
})( jQuery, window , document ); 
 
</span><span class="s1">/* 
 * # Semantic - Dimmer 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">( $, window, document, undefined ) { 
 
$.fn.dimmer = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules     = $(</span><span class="s2">this</span><span class="s0">), 
 
    time            = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance     = [], 
 
    query           = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked   = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments  = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
 
    returnedValue 
  ; 
 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings        = ( $.isPlainObject(parameters) ) 
          ? $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.dimmer.settings, parameters) 
          : $.extend({}, $.fn.dimmer.settings), 
 
        selector        = settings.selector, 
        namespace       = settings.namespace, 
        className       = settings.className, 
        error           = settings.error, 
 
        eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace = </span><span class="s3">'module-' </span><span class="s0">+ namespace, 
        moduleSelector  = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
        clickEvent      = (</span><span class="s3">'ontouchstart' </span><span class="s2">in </span><span class="s0">document.documentElement) 
          ? </span><span class="s3">'touchstart'</span><span class="s0"> 
          : </span><span class="s3">'click'</span><span class="s0">, 
 
        $module = $(</span><span class="s2">this</span><span class="s0">), 
        $dimmer, 
        $dimmable, 
 
        element   = </span><span class="s2">this</span><span class="s0">, 
        instance  = $module.data(moduleNamespace), 
        module 
      ; 
 
      module = { 
 
        preinitialize: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">( module.is.dimmer() ) { 
            $dimmable = $module.parent(); 
            $dimmer   = $module; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            $dimmable = $module; 
            </span><span class="s2">if</span><span class="s0">( module.has.dimmer() ) { 
              </span><span class="s2">if</span><span class="s0">(settings.dimmerName) { 
                $dimmer = $dimmable.children(selector.dimmer).filter(</span><span class="s3">'.' </span><span class="s0">+ settings.dimmerName); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $dimmer = $dimmable.children(selector.dimmer); 
              } 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              $dimmer = module.create(); 
            } 
          } 
        }, 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Initializing dimmer'</span><span class="s0">, settings); 
          </span><span class="s2">if</span><span class="s0">(settings.on == </span><span class="s3">'hover'</span><span class="s0">) { 
            $dimmable 
              .on(</span><span class="s3">'mouseenter' </span><span class="s0">+ eventNamespace, module.show) 
              .on(</span><span class="s3">'mouseleave' </span><span class="s0">+ eventNamespace, module.hide) 
            ; 
          } 
          </span><span class="s2">else if</span><span class="s0">(settings.on == </span><span class="s3">'click'</span><span class="s0">) { 
            $dimmable 
              .on(clickEvent + eventNamespace, module.toggle) 
            ; 
          } 
          </span><span class="s2">if</span><span class="s0">( module.is.page() ) { 
            module.debug(</span><span class="s3">'Setting as a page dimmer'</span><span class="s0">, $dimmable); 
            module.set.pageDimmer(); 
          } 
 
          </span><span class="s2">if</span><span class="s0">( module.is.closable() ) { 
            module.verbose(</span><span class="s3">'Adding dimmer close event'</span><span class="s0">, $dimmer); 
            $dimmer 
              .on(clickEvent + eventNamespace, module.event.click) 
            ; 
          } 
          module.set.dimmable(); 
          module.instantiate(); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of module'</span><span class="s0">, module); 
          instance = module; 
          $module 
            .data(moduleNamespace, instance) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying previous module'</span><span class="s0">, $dimmer); 
          $module 
            .removeData(moduleNamespace) 
          ; 
          $dimmable 
            .off(eventNamespace) 
          ; 
          $dimmer 
            .off(eventNamespace) 
          ; 
        }, 
 
        event: { 
          click: </span><span class="s2">function</span><span class="s0">(event) { 
            module.verbose(</span><span class="s3">'Determining if event occured on dimmer'</span><span class="s0">, event); 
            </span><span class="s2">if</span><span class="s0">( $dimmer.find(event.target).size() === </span><span class="s4">0 </span><span class="s0">|| $(event.target).is(selector.content) ) { 
              module.hide(); 
              event.stopImmediatePropagation(); 
            } 
          } 
        }, 
 
        addContent: </span><span class="s2">function</span><span class="s0">(element) { 
          </span><span class="s2">var</span><span class="s0"> 
            $content = $(element) 
          ; 
          module.debug(</span><span class="s3">'Add content to dimmer'</span><span class="s0">, $content); 
          </span><span class="s2">if</span><span class="s0">($content.parent()[</span><span class="s4">0</span><span class="s0">] !== $dimmer[</span><span class="s4">0</span><span class="s0">]) { 
            $content.detach().appendTo($dimmer); 
          } 
        }, 
 
        create: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">var</span><span class="s0"> 
            $element = $( settings.template.dimmer() ) 
          ; 
          </span><span class="s2">if</span><span class="s0">(settings.variation) { 
            module.debug(</span><span class="s3">'Creating dimmer with variation'</span><span class="s0">, settings.variation); 
            $element.addClass(className.variation); 
          } 
          </span><span class="s2">if</span><span class="s0">(settings.dimmerName) { 
            module.debug(</span><span class="s3">'Creating named dimmer'</span><span class="s0">, settings.dimmerName); 
            $element.addClass(settings.dimmerName); 
          } 
          $element 
            .appendTo($dimmable) 
          ; 
          </span><span class="s2">return </span><span class="s0">$element; 
        }, 
 
        show: </span><span class="s2">function</span><span class="s0">(callback) { 
          callback = $.isFunction(callback) 
            ? callback 
            : </span><span class="s2">function</span><span class="s0">(){} 
          ; 
          module.debug(</span><span class="s3">'Showing dimmer'</span><span class="s0">, $dimmer, settings); 
          </span><span class="s2">if</span><span class="s0">( (!module.is.dimmed() || module.is.animating()) &amp;&amp; module.is.enabled() ) { 
            module.animate.show(callback); 
            $.proxy(settings.onShow, element)(); 
            $.proxy(settings.onChange, element)(); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.debug(</span><span class="s3">'Dimmer is already shown or disabled'</span><span class="s0">); 
          } 
        }, 
 
        hide: </span><span class="s2">function</span><span class="s0">(callback) { 
          callback = $.isFunction(callback) 
            ? callback 
            : </span><span class="s2">function</span><span class="s0">(){} 
          ; 
          </span><span class="s2">if</span><span class="s0">( module.is.dimmed() || module.is.animating() ) { 
            module.debug(</span><span class="s3">'Hiding dimmer'</span><span class="s0">, $dimmer); 
            module.animate.hide(callback); 
            $.proxy(settings.onHide, element)(); 
            $.proxy(settings.onChange, element)(); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.debug(</span><span class="s3">'Dimmer is not visible'</span><span class="s0">); 
          } 
        }, 
 
        toggle: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Toggling dimmer visibility'</span><span class="s0">, $dimmer); 
          </span><span class="s2">if</span><span class="s0">( !module.is.dimmed() ) { 
            module.show(); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.hide(); 
          } 
        }, 
 
        animate: { 
          show: </span><span class="s2">function</span><span class="s0">(callback) { 
            callback = $.isFunction(callback) 
              ? callback 
              : </span><span class="s2">function</span><span class="s0">(){} 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.useCSS &amp;&amp; $.fn.transition !== undefined &amp;&amp; $dimmer.transition(</span><span class="s3">'is supported'</span><span class="s0">)) { 
              $dimmer 
                .transition({ 
                  animation : settings.transition + </span><span class="s3">' in'</span><span class="s0">, 
                  queue       : </span><span class="s2">false</span><span class="s0">, 
                  duration  : module.get.duration(), 
                  onStart   : </span><span class="s2">function</span><span class="s0">() { 
                    module.set.dimmed(); 
                  }, 
                  onComplete : </span><span class="s2">function</span><span class="s0">() { 
                    module.set.active(); 
                    callback(); 
                  } 
                }) 
              ; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose(</span><span class="s3">'Showing dimmer animation with javascript'</span><span class="s0">); 
              module.set.dimmed(); 
              $dimmer 
                .stop() 
                .css({ 
                  opacity : </span><span class="s4">0</span><span class="s0">, 
                  width   : </span><span class="s3">'100%'</span><span class="s0">, 
                  height  : </span><span class="s3">'100%'</span><span class="s0"> 
                }) 
                .fadeTo(module.get.duration(), </span><span class="s4">1</span><span class="s0">, </span><span class="s2">function</span><span class="s0">() { 
                  $dimmer.removeAttr(</span><span class="s3">'style'</span><span class="s0">); 
                  module.set.active(); 
                  callback(); 
                }) 
              ; 
            } 
          }, 
          hide: </span><span class="s2">function</span><span class="s0">(callback) { 
            callback = $.isFunction(callback) 
              ? callback 
              : </span><span class="s2">function</span><span class="s0">(){} 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.useCSS &amp;&amp; $.fn.transition !== undefined &amp;&amp; $dimmer.transition(</span><span class="s3">'is supported'</span><span class="s0">)) { 
              module.verbose(</span><span class="s3">'Hiding dimmer with css'</span><span class="s0">); 
              $dimmer 
                .transition({ 
                  animation  : settings.transition + </span><span class="s3">' out'</span><span class="s0">, 
                  queue      : </span><span class="s2">false</span><span class="s0">, 
                  duration   : module.get.duration(), 
                  onStart    : </span><span class="s2">function</span><span class="s0">() { 
                    module.remove.dimmed(); 
                  }, 
                  onComplete : </span><span class="s2">function</span><span class="s0">() { 
                    module.remove.active(); 
                    callback(); 
                  } 
                }) 
              ; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose(</span><span class="s3">'Hiding dimmer with javascript'</span><span class="s0">); 
              module.remove.dimmed(); 
              $dimmer 
                .stop() 
                .fadeOut(module.get.duration(), </span><span class="s2">function</span><span class="s0">() { 
                  module.remove.active(); 
                  $dimmer.removeAttr(</span><span class="s3">'style'</span><span class="s0">); 
                  callback(); 
                }) 
              ; 
            } 
          } 
        }, 
 
        </span><span class="s2">get</span><span class="s0">: { 
          dimmer: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$dimmer; 
          }, 
          duration: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">settings.duration == </span><span class="s3">'object'</span><span class="s0">) { 
              </span><span class="s2">if</span><span class="s0">( module.is.active() ) { 
                </span><span class="s2">return </span><span class="s0">settings.duration.hide; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">return </span><span class="s0">settings.duration.show; 
              } 
            } 
            </span><span class="s2">return </span><span class="s0">settings.duration; 
          } 
        }, 
 
        has: { 
          dimmer: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(settings.dimmerName) { 
              </span><span class="s2">return </span><span class="s0">($module.children(selector.dimmer).filter(</span><span class="s3">'.' </span><span class="s0">+ settings.dimmerName).size() &gt; </span><span class="s4">0</span><span class="s0">); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              </span><span class="s2">return </span><span class="s0">( $module.children(selector.dimmer).size() &gt; </span><span class="s4">0 </span><span class="s0">); 
            } 
          } 
        }, 
 
        is: { 
          active: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$dimmer.hasClass(className.active); 
          }, 
          animating: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">( $dimmer.is(</span><span class="s3">':animated'</span><span class="s0">) || $dimmer.hasClass(className.animating) ); 
          }, 
          closable: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(settings.closable == </span><span class="s3">'auto'</span><span class="s0">) { 
              </span><span class="s2">if</span><span class="s0">(settings.on == </span><span class="s3">'hover'</span><span class="s0">) { 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">return true</span><span class="s0">; 
            } 
            </span><span class="s2">return </span><span class="s0">settings.closable; 
          }, 
          dimmer: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.is(selector.dimmer); 
          }, 
          dimmable: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.is(selector.dimmable); 
          }, 
          dimmed: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$dimmable.hasClass(className.dimmed); 
          }, 
          disabled: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$dimmable.hasClass(className.disabled); 
          }, 
          enabled: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">!module.is.disabled(); 
          }, 
          page: </span><span class="s2">function </span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$dimmable.is(</span><span class="s3">'body'</span><span class="s0">); 
          }, 
          pageDimmer: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$dimmer.hasClass(className.pageDimmer); 
          } 
        }, 
 
        can: { 
          show: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">!$dimmer.hasClass(className.disabled); 
          } 
        }, 
 
        </span><span class="s2">set</span><span class="s0">: { 
          active: </span><span class="s2">function</span><span class="s0">() { 
            $dimmer.addClass(className.active); 
          }, 
          dimmable: </span><span class="s2">function</span><span class="s0">() { 
            $dimmable.addClass(className.dimmable); 
          }, 
          dimmed: </span><span class="s2">function</span><span class="s0">() { 
            $dimmable.addClass(className.dimmed); 
          }, 
          pageDimmer: </span><span class="s2">function</span><span class="s0">() { 
            $dimmer.addClass(className.pageDimmer); 
          }, 
          disabled: </span><span class="s2">function</span><span class="s0">() { 
            $dimmer.addClass(className.disabled); 
          } 
        }, 
 
        remove: { 
          active: </span><span class="s2">function</span><span class="s0">() { 
            $dimmer 
              .removeClass(className.active) 
            ; 
          }, 
          dimmed: </span><span class="s2">function</span><span class="s0">() { 
            $dimmable.removeClass(className.dimmed); 
          }, 
          disabled: </span><span class="s2">function</span><span class="s0">() { 
            $dimmer.removeClass(className.disabled); 
          } 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing setting'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">($allModules.size() &gt; </span><span class="s4">1</span><span class="s0">) { 
              title += </span><span class="s3">' ' </span><span class="s0">+ </span><span class="s3">'(' </span><span class="s0">+ $allModules.size() + </span><span class="s3">')'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
 
      module.preinitialize(); 
 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
    }) 
  ; 
 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.dimmer.settings = { 
 
  name        : </span><span class="s3">'Dimmer'</span><span class="s0">, 
  namespace   : </span><span class="s3">'dimmer'</span><span class="s0">, 
 
  debug       : </span><span class="s2">false</span><span class="s0">, 
  verbose     : </span><span class="s2">true</span><span class="s0">, 
  performance : </span><span class="s2">true</span><span class="s0">, 
 
  dimmerName  : </span><span class="s2">false</span><span class="s0">, 
  variation   : </span><span class="s2">false</span><span class="s0">, 
  closable    : </span><span class="s3">'auto'</span><span class="s0">, 
  transition  : </span><span class="s3">'fade'</span><span class="s0">, 
  useCSS      : </span><span class="s2">true</span><span class="s0">, 
  on          : </span><span class="s2">false</span><span class="s0">, 
 
  duration    : { 
    show : </span><span class="s4">500</span><span class="s0">, 
    hide : </span><span class="s4">500</span><span class="s0"> 
  }, 
 
  onChange    : </span><span class="s2">function</span><span class="s0">(){}, 
  onShow      : </span><span class="s2">function</span><span class="s0">(){}, 
  onHide      : </span><span class="s2">function</span><span class="s0">(){}, 
 
  error   : { 
    method   : </span><span class="s3">'The method you called is not defined.'</span><span class="s0"> 
  }, 
 
  selector: { 
    dimmable : </span><span class="s3">'.dimmable'</span><span class="s0">, 
    dimmer   : </span><span class="s3">'.ui.dimmer'</span><span class="s0">, 
    content  : </span><span class="s3">'.ui.dimmer &gt; .content, .ui.dimmer &gt; .content &gt; .center'</span><span class="s0"> 
  }, 
 
  template: { 
    dimmer: </span><span class="s2">function</span><span class="s0">() { 
     </span><span class="s2">return </span><span class="s0">$(</span><span class="s3">'&lt;div /&gt;'</span><span class="s0">).attr(</span><span class="s3">'class'</span><span class="s0">, </span><span class="s3">'ui dimmer'</span><span class="s0">); 
    } 
  }, 
 
  className : { 
    active     : </span><span class="s3">'active'</span><span class="s0">, 
    animating  : </span><span class="s3">'animating'</span><span class="s0">, 
    dimmable   : </span><span class="s3">'dimmable'</span><span class="s0">, 
    dimmed     : </span><span class="s3">'dimmed'</span><span class="s0">, 
    disabled   : </span><span class="s3">'disabled'</span><span class="s0">, 
    hide       : </span><span class="s3">'hide'</span><span class="s0">, 
    pageDimmer : </span><span class="s3">'page'</span><span class="s0">, 
    show       : </span><span class="s3">'show'</span><span class="s0"> 
  } 
 
}; 
 
})( jQuery, window , document ); 
</span><span class="s1">/* 
 * # Semantic - Dropdown 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">( $, window, document, undefined ) { 
 
</span><span class="s3">&quot;use strict&quot;</span><span class="s0">; 
 
$.fn.dropdown = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules    = $(</span><span class="s2">this</span><span class="s0">), 
    $document      = $(document), 
 
    moduleSelector = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
    hasTouch       = (</span><span class="s3">'ontouchstart' </span><span class="s2">in </span><span class="s0">document.documentElement), 
    time           = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance    = [], 
 
    query          = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked  = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
    returnedValue 
  ; 
 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings          = ( $.isPlainObject(parameters) ) 
          ? $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.dropdown.settings, parameters) 
          : $.extend({}, $.fn.dropdown.settings), 
 
        className       = settings.className, 
        metadata        = settings.metadata, 
        namespace       = settings.namespace, 
        selector        = settings.selector, 
        error           = settings.error, 
 
        eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace = </span><span class="s3">'module-' </span><span class="s0">+ namespace, 
 
        $module         = $(</span><span class="s2">this</span><span class="s0">), 
        $text           = $module.find(selector.text), 
        $search         = $module.find(selector.search), 
        $input          = $module.find(selector.input), 
 
        $combo = ($module.prev().find(selector.text).size() &gt; </span><span class="s4">0</span><span class="s0">) 
          ? $module.prev().find(selector.text) 
          : $module.prev(), 
 
        $menu           = $module.children(selector.menu), 
        $item           = $menu.find(selector.item), 
 
        activated       = </span><span class="s2">false</span><span class="s0">, 
        itemActivated   = </span><span class="s2">false</span><span class="s0">, 
 
        element         = </span><span class="s2">this</span><span class="s0">, 
        instance        = $module.data(moduleNamespace), 
        observer, 
        module 
      ; 
 
      module = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Initializing dropdown'</span><span class="s0">, settings); 
          module.setup.layout(); 
          module.save.defaults(); 
          module.set.selected(); 
 
          </span><span class="s2">if</span><span class="s0">(hasTouch) { 
            module.bind.touchEvents(); 
          } 
          module.bind.mouseEvents(); 
          module.bind.keyboardEvents(); 
 
          module.observeChanges(); 
          module.instantiate(); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of dropdown'</span><span class="s0">, module); 
          instance = module; 
          $module 
            .data(moduleNamespace, module) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying previous dropdown for'</span><span class="s0">, $module); 
          module.remove.tabbable(); 
          $module 
            .off(eventNamespace) 
            .removeData(moduleNamespace) 
          ; 
        }, 
 
        observeChanges: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s3">'MutationObserver' </span><span class="s2">in </span><span class="s0">window) { 
            observer = </span><span class="s2">new </span><span class="s0">MutationObserver(</span><span class="s2">function</span><span class="s0">(mutations) { 
              module.debug(</span><span class="s3">'DOM tree modified, updating selector cache'</span><span class="s0">); 
              module.refresh(); 
            }); 
            observer.observe(element, { 
              childList : </span><span class="s2">true</span><span class="s0">, 
              subtree   : </span><span class="s2">true</span><span class="s0"> 
            }); 
            module.debug(</span><span class="s3">'Setting up mutation observer'</span><span class="s0">, observer); 
          } 
        }, 
 
        setup: { 
 
          layout: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">( $module.is(</span><span class="s3">'select'</span><span class="s0">) ) { 
              module.setup.select(); 
            } 
            </span><span class="s2">if</span><span class="s0">( module.is.search() &amp;&amp; !module.is.searchable() ) { 
              $search = $(</span><span class="s3">'&lt;input /&gt;'</span><span class="s0">) 
                .addClass(className.search) 
                .insertBefore($text) 
              ; 
            } 
            </span><span class="s2">if</span><span class="s0">(settings.allowTab) { 
              module.set.tabbable(); 
            } 
          }, 
          select: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              selectValues = module.get.selectValues() 
            ; 
            module.debug(</span><span class="s3">'Dropdown initialized on a select'</span><span class="s0">, selectValues); 
            </span><span class="s1">// see if select exists inside a dropdown</span><span class="s0"> 
            $input = $module; 
            </span><span class="s2">if</span><span class="s0">($input.parents(selector.dropdown).size() &gt; </span><span class="s4">0</span><span class="s0">) { 
              module.debug(</span><span class="s3">'Creating dropdown menu only from template'</span><span class="s0">); 
              $module = $input.closest(selector.dropdown); 
              </span><span class="s2">if</span><span class="s0">($module.find(</span><span class="s3">'.' </span><span class="s0">+ className.dropdown).size() === </span><span class="s4">0</span><span class="s0">) { 
                $(</span><span class="s3">'&lt;div /&gt;'</span><span class="s0">) 
                  .addClass(className.menu) 
                  .html( settings.templates.menu( selectValues )) 
                  .appendTo($module) 
                ; 
              } 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug(</span><span class="s3">'Creating entire dropdown from template'</span><span class="s0">); 
              $module = $(</span><span class="s3">'&lt;div /&gt;'</span><span class="s0">) 
                .attr(</span><span class="s3">'class'</span><span class="s0">, $input.attr(</span><span class="s3">'class'</span><span class="s0">) ) 
                .addClass(className.selection) 
                .addClass(className.dropdown) 
                .html( settings.templates.dropdown(selectValues) ) 
                .insertBefore($input) 
              ; 
              $input 
                .removeAttr(</span><span class="s3">'class'</span><span class="s0">) 
                .prependTo($module) 
              ; 
            } 
            module.refresh(); 
          } 
        }, 
 
        refresh: </span><span class="s2">function</span><span class="s0">() { 
          $text   = $module.find(selector.text); 
          $search = $module.find(selector.search); 
          $input  = $module.find(selector.input); 
          $menu   = $module.children(selector.menu); 
          $item   = $menu.find(selector.item); 
        }, 
 
        toggle: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Toggling menu visibility'</span><span class="s0">); 
          </span><span class="s2">if</span><span class="s0">( !module.is.active() ) { 
            module.show(); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.hide(); 
          } 
        }, 
 
        show: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Checking if dropdown can show'</span><span class="s0">); 
          </span><span class="s2">if</span><span class="s0">( !module.is.active() ) { 
            module.animate.show(</span><span class="s2">function</span><span class="s0">() { 
              </span><span class="s2">if</span><span class="s0">( module.can.click() ) { 
                module.bind.intent(); 
              } 
              module.set.visible(); 
            }); 
            $.proxy(settings.onShow, element)(); 
          } 
        }, 
 
        hide: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">( module.is.active() ) { 
            module.debug(</span><span class="s3">'Hiding dropdown'</span><span class="s0">); 
            module.animate.hide(</span><span class="s2">function</span><span class="s0">() { 
              module.remove.visible(); 
            }); 
            $.proxy(settings.onHide, element)(); 
          } 
        }, 
 
        hideOthers: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Finding other dropdowns to hide'</span><span class="s0">); 
          $allModules 
            .not($module) 
              .has(selector.menu + </span><span class="s3">':visible:not(.' </span><span class="s0">+ className.animating + </span><span class="s3">')'</span><span class="s0">) 
                .dropdown(</span><span class="s3">'hide'</span><span class="s0">) 
          ; 
        }, 
 
        hideSubMenus: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">var</span><span class="s0"> 
            $subMenus = $menu.find(selector.menu) 
          ; 
          $subMenus.transition(</span><span class="s3">'hide'</span><span class="s0">); 
        }, 
 
        bind: { 
          keyboardEvents: </span><span class="s2">function</span><span class="s0">() { 
            module.debug(</span><span class="s3">'Binding keyboard events'</span><span class="s0">); 
            $module 
              .on(</span><span class="s3">'keydown' </span><span class="s0">+ eventNamespace, module.event.keydown) 
            ; 
            </span><span class="s2">if</span><span class="s0">( module.is.searchable() ) { 
              $module 
                .on(module.get.inputEvent(), selector.search, module.event.input) 
              ; 
            } 
          }, 
          touchEvents: </span><span class="s2">function</span><span class="s0">() { 
            module.debug(</span><span class="s3">'Touch device detected binding additional touch events'</span><span class="s0">); 
            </span><span class="s2">if</span><span class="s0">( module.is.searchSelection() ) { 
              </span><span class="s1">// do nothing special yet</span><span class="s0"> 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              $module 
                .on(</span><span class="s3">'touchstart' </span><span class="s0">+ eventNamespace, module.event.test.toggle) 
              ; 
            } 
            $menu 
              .on(</span><span class="s3">'touchstart' </span><span class="s0">+ eventNamespace, selector.item, module.event.item.mouseenter) 
            ; 
          }, 
          mouseEvents: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Mouse detected binding mouse events'</span><span class="s0">); 
            </span><span class="s2">if</span><span class="s0">( module.is.searchSelection() ) { 
              $module 
                .on(</span><span class="s3">'mousedown' </span><span class="s0">+ eventNamespace, selector.menu, module.event.menu.activate) 
                .on(</span><span class="s3">'mouseup'   </span><span class="s0">+ eventNamespace, selector.menu, module.event.menu.deactivate) 
                .on(</span><span class="s3">'focus'     </span><span class="s0">+ eventNamespace, selector.search, module.event.searchFocus) 
                .on(</span><span class="s3">'click'     </span><span class="s0">+ eventNamespace, selector.search, module.show) 
                .on(</span><span class="s3">'blur'      </span><span class="s0">+ eventNamespace, selector.search, module.event.searchBlur) 
              ; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              </span><span class="s2">if</span><span class="s0">(settings.on == </span><span class="s3">'click'</span><span class="s0">) { 
                $module 
                  .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, module.event.test.toggle) 
                ; 
              } 
              </span><span class="s2">else if</span><span class="s0">(settings.on == </span><span class="s3">'hover'</span><span class="s0">) { 
                $module 
                  .on(</span><span class="s3">'mouseenter' </span><span class="s0">+ eventNamespace, module.delay.show) 
                  .on(</span><span class="s3">'mouseleave' </span><span class="s0">+ eventNamespace, module.delay.hide) 
                ; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $module 
                  .on(settings.on + eventNamespace, module.toggle) 
                ; 
              } 
              $module 
                .on(</span><span class="s3">'mousedown' </span><span class="s0">+ eventNamespace, module.event.mousedown) 
                .on(</span><span class="s3">'mouseup'   </span><span class="s0">+ eventNamespace, module.event.mouseup) 
                .on(</span><span class="s3">'focus'     </span><span class="s0">+ eventNamespace, module.event.focus) 
                .on(</span><span class="s3">'blur'      </span><span class="s0">+ eventNamespace, module.event.blur) 
              ; 
            } 
            $menu 
              .on(</span><span class="s3">'mouseenter' </span><span class="s0">+ eventNamespace, selector.item, module.event.item.mouseenter) 
              .on(</span><span class="s3">'mouseleave' </span><span class="s0">+ eventNamespace, selector.item, module.event.item.mouseleave) 
              .on(</span><span class="s3">'click'      </span><span class="s0">+ eventNamespace, selector.item, module.event.item.click) 
            ; 
          }, 
          intent: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Binding hide intent event to document'</span><span class="s0">); 
            </span><span class="s2">if</span><span class="s0">(hasTouch) { 
              $document 
                .on(</span><span class="s3">'touchstart' </span><span class="s0">+ eventNamespace, module.event.test.touch) 
                .on(</span><span class="s3">'touchmove'  </span><span class="s0">+ eventNamespace, module.event.test.touch) 
              ; 
            } 
            $document 
              .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, module.event.test.hide) 
            ; 
          } 
        }, 
 
        unbind: { 
          intent: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Removing hide intent event from document'</span><span class="s0">); 
            </span><span class="s2">if</span><span class="s0">(hasTouch) { 
              $document 
                .off(</span><span class="s3">'touchstart' </span><span class="s0">+ eventNamespace) 
                .off(</span><span class="s3">'touchmove' </span><span class="s0">+ eventNamespace) 
              ; 
            } 
            $document 
              .off(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace) 
            ; 
          } 
        }, 
 
        filter: </span><span class="s2">function</span><span class="s0">(searchTerm) { 
          </span><span class="s2">var</span><span class="s0"> 
            $results       = $(), 
            exactRegExp    = </span><span class="s2">new </span><span class="s0">RegExp(</span><span class="s3">'(?:</span><span class="s2">\s</span><span class="s3">|^)' </span><span class="s0">+ searchTerm, </span><span class="s3">'i'</span><span class="s0">), 
            fullTextRegExp = </span><span class="s2">new </span><span class="s0">RegExp(searchTerm, </span><span class="s3">'i'</span><span class="s0">), 
            allItemsFiltered, 
            $filteredItems 
          ; 
          $item 
            .each(</span><span class="s2">function</span><span class="s0">(){ 
              </span><span class="s2">var</span><span class="s0"> 
                $choice = $(</span><span class="s2">this</span><span class="s0">), 
                text    = ( $choice.data(metadata.text) !== undefined ) 
                  ? $choice.data(metadata.text) 
                  : (settings.preserveHTML) 
                    ? $choice.html() 
                    : $choice.text(), 
                value   = ( $choice.data(metadata.value) !== undefined) 
                  ? $choice.data(metadata.value) 
                  : (</span><span class="s2">typeof </span><span class="s0">text === </span><span class="s3">'string'</span><span class="s0">) 
                      ? text.toLowerCase() 
                      : text 
              ; 
              </span><span class="s2">if</span><span class="s0">( exactRegExp.test( text ) || exactRegExp.test( value ) ) { 
                $results = $results.add($choice); 
              } 
              </span><span class="s2">else if</span><span class="s0">(settings.fullTextSearch) { 
                </span><span class="s2">if</span><span class="s0">( fullTextRegExp.test( text ) || fullTextRegExp.test( value ) ) { 
                  $results = $results.add($choice); 
                } 
              } 
            }) 
          ; 
          $filteredItems   = $item.not($results); 
          allItemsFiltered = ($filteredItems.size() == $item.size()); 
 
          module.remove.filteredItem(); 
          module.remove.selectedItem(); 
          $filteredItems 
            .addClass(className.filtered) 
          ; 
          $item 
            .not(</span><span class="s3">'.' </span><span class="s0">+ className.filtered) 
              .eq(</span><span class="s4">0</span><span class="s0">) 
              .addClass(className.selected) 
          ; 
          </span><span class="s2">if</span><span class="s0">(allItemsFiltered) { 
            module.hide(); 
          } 
        }, 
 
        focusSearch: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">( module.is.search() ) { 
            $search 
              .focus() 
            ; 
          } 
        }, 
 
        event: { 
          </span><span class="s1">// prevents focus callback from occuring on mousedown</span><span class="s0"> 
          mousedown: </span><span class="s2">function</span><span class="s0">() { 
            activated = </span><span class="s2">true</span><span class="s0">; 
          }, 
          mouseup: </span><span class="s2">function</span><span class="s0">() { 
            activated = </span><span class="s2">false</span><span class="s0">; 
          }, 
          focus: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(!activated &amp;&amp; module.is.hidden()) { 
              module.show(); 
            } 
          }, 
          blur: </span><span class="s2">function</span><span class="s0">(event) { 
            </span><span class="s2">if</span><span class="s0">(!activated) { 
              module.hide(); 
            } 
          }, 
          searchFocus: </span><span class="s2">function</span><span class="s0">() { 
            activated = </span><span class="s2">true</span><span class="s0">; 
            module.show(); 
          }, 
          searchBlur: </span><span class="s2">function</span><span class="s0">(event) { 
            </span><span class="s2">if</span><span class="s0">(!itemActivated) { 
              module.hide(); 
            } 
          }, 
          input: </span><span class="s2">function</span><span class="s0">(event) { 
            </span><span class="s2">var</span><span class="s0"> 
              query = $search.val() 
            ; 
            </span><span class="s2">if</span><span class="s0">(module.is.searchSelection()) { 
              </span><span class="s2">if</span><span class="s0">( module.can.show() ) { 
                module.show(); 
              } 
              module.set.filtered(); 
            } 
            module.filter(query); 
          }, 
          keydown: </span><span class="s2">function</span><span class="s0">(event) { 
            </span><span class="s2">var</span><span class="s0"> 
              $selectedItem = $item.not(className.filtered).filter(</span><span class="s3">'.' </span><span class="s0">+ className.selected).eq(</span><span class="s4">0</span><span class="s0">), 
              $visibleItems = $item.not(</span><span class="s3">'.' </span><span class="s0">+ className.filtered), 
              pressedKey    = event.which, 
              keys          = { 
                enter     : </span><span class="s4">13</span><span class="s0">, 
                escape    : </span><span class="s4">27</span><span class="s0">, 
                upArrow   : </span><span class="s4">38</span><span class="s0">, 
                downArrow : </span><span class="s4">40</span><span class="s0"> 
              }, 
              selectedClass   = className.selected, 
              currentIndex    = $visibleItems.index( $selectedItem ), 
              hasSelectedItem = ($selectedItem.size() &gt; </span><span class="s4">0</span><span class="s0">), 
              $nextItem, 
              newIndex 
            ; 
            </span><span class="s1">// default to activated choice if no selection present</span><span class="s0"> 
            </span><span class="s2">if</span><span class="s0">(!hasSelectedItem) { 
              $selectedItem   = $item.filter(</span><span class="s3">'.' </span><span class="s0">+ className.active).eq(</span><span class="s4">0</span><span class="s0">); 
              hasSelectedItem = ($selectedItem.size() &gt; </span><span class="s4">0</span><span class="s0">); 
            } 
            </span><span class="s1">// close shortcuts</span><span class="s0"> 
            </span><span class="s2">if</span><span class="s0">(pressedKey == keys.escape) { 
              module.verbose(</span><span class="s3">'Escape key pressed, closing dropdown'</span><span class="s0">); 
              module.hide(); 
            } 
            </span><span class="s1">// result shortcuts</span><span class="s0"> 
            </span><span class="s2">if</span><span class="s0">(module.is.visible()) { 
              </span><span class="s2">if</span><span class="s0">(pressedKey == keys.enter &amp;&amp; hasSelectedItem) { 
                module.verbose(</span><span class="s3">'Enter key pressed, choosing selected item'</span><span class="s0">); 
                $.proxy(module.event.item.click, $selectedItem)(event); 
                event.preventDefault(); 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">(pressedKey == keys.upArrow) { 
                </span><span class="s2">if</span><span class="s0">(!hasSelectedItem) { 
                  $nextItem = $visibleItems.eq(</span><span class="s4">0</span><span class="s0">); 
                } 
                </span><span class="s2">else </span><span class="s0">{ 
                  $nextItem = $selectedItem.prevAll(selector.item + </span><span class="s3">':not(.' </span><span class="s0">+ className.filtered + </span><span class="s3">')'</span><span class="s0">).eq(</span><span class="s4">0</span><span class="s0">); 
                } 
                </span><span class="s2">if</span><span class="s0">(currentIndex !== </span><span class="s4">0</span><span class="s0">) { 
                  module.verbose(</span><span class="s3">'Up key pressed, changing active item'</span><span class="s0">); 
                  $item 
                    .removeClass(selectedClass) 
                  ; 
                  $nextItem 
                    .addClass(selectedClass) 
                  ; 
                  module.set.scrollPosition($nextItem); 
                } 
                event.preventDefault(); 
              } 
              </span><span class="s2">else if</span><span class="s0">(pressedKey == keys.downArrow) { 
                </span><span class="s2">if</span><span class="s0">(!hasSelectedItem) { 
                  $nextItem = $visibleItems.eq(</span><span class="s4">0</span><span class="s0">); 
                } 
                </span><span class="s2">else </span><span class="s0">{ 
                  $nextItem = $selectedItem.nextAll(selector.item + </span><span class="s3">':not(.' </span><span class="s0">+ className.filtered + </span><span class="s3">')'</span><span class="s0">).eq(</span><span class="s4">0</span><span class="s0">); 
                } 
                </span><span class="s2">if</span><span class="s0">(currentIndex + </span><span class="s4">1 </span><span class="s0">&lt; $visibleItems.size() ) { 
                  module.verbose(</span><span class="s3">'Down key pressed, changing active item'</span><span class="s0">); 
                  $item 
                    .removeClass(selectedClass) 
                  ; 
                  $nextItem 
                    .addClass(selectedClass) 
                  ; 
                  module.set.scrollPosition($nextItem); 
                } 
                event.preventDefault(); 
              } 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              </span><span class="s2">if</span><span class="s0">(pressedKey == keys.enter) { 
                module.show(); 
              } 
            } 
          }, 
          test: { 
            toggle: </span><span class="s2">function</span><span class="s0">(event) { 
              </span><span class="s2">if</span><span class="s0">( module.determine.eventInMenu(event, module.toggle) ) { 
                event.preventDefault(); 
              } 
            }, 
            touch: </span><span class="s2">function</span><span class="s0">(event) { 
              module.determine.eventInMenu(event, </span><span class="s2">function</span><span class="s0">() { 
                </span><span class="s2">if</span><span class="s0">(event.type == </span><span class="s3">'touchstart'</span><span class="s0">) { 
                  module.timer = setTimeout(module.hide, settings.delay.touch); 
                } 
                </span><span class="s2">else if</span><span class="s0">(event.type == </span><span class="s3">'touchmove'</span><span class="s0">) { 
                  clearTimeout(module.timer); 
                } 
              }); 
              event.stopPropagation(); 
            }, 
            hide: </span><span class="s2">function</span><span class="s0">(event) { 
              module.determine.eventInModule(event, module.hide); 
            } 
          }, 
 
          menu: { 
            activate: </span><span class="s2">function</span><span class="s0">() { 
              itemActivated = </span><span class="s2">true</span><span class="s0">; 
            }, 
            deactivate: </span><span class="s2">function</span><span class="s0">() { 
              itemActivated = </span><span class="s2">false</span><span class="s0">; 
            } 
          }, 
          item: { 
            mouseenter: </span><span class="s2">function</span><span class="s0">(event) { 
              </span><span class="s2">var</span><span class="s0"> 
                $currentMenu = $(</span><span class="s2">this</span><span class="s0">).children(selector.menu), 
                $otherMenus  = $(</span><span class="s2">this</span><span class="s0">).siblings(selector.item).children(selector.menu) 
              ; 
              </span><span class="s2">if</span><span class="s0">( $currentMenu.size() &gt; </span><span class="s4">0 </span><span class="s0">) { 
                clearTimeout(module.itemTimer); 
                module.itemTimer = setTimeout(</span><span class="s2">function</span><span class="s0">() { 
                  $.each($otherMenus, </span><span class="s2">function</span><span class="s0">() { 
                    module.animate.hide(</span><span class="s2">false</span><span class="s0">, $(</span><span class="s2">this</span><span class="s0">)); 
                  }); 
                  module.verbose(</span><span class="s3">'Showing sub-menu'</span><span class="s0">, $currentMenu); 
                  module.animate.show(</span><span class="s2">false</span><span class="s0">,  $currentMenu); 
                }, settings.delay.show); 
                event.preventDefault(); 
              } 
            }, 
 
            mouseleave: </span><span class="s2">function</span><span class="s0">(event) { 
              </span><span class="s2">var</span><span class="s0"> 
                $currentMenu = $(</span><span class="s2">this</span><span class="s0">).children(selector.menu) 
              ; 
              </span><span class="s2">if</span><span class="s0">($currentMenu.size() &gt; </span><span class="s4">0</span><span class="s0">) { 
                clearTimeout(module.itemTimer); 
                module.itemTimer = setTimeout(</span><span class="s2">function</span><span class="s0">() { 
                  module.verbose(</span><span class="s3">'Hiding sub-menu'</span><span class="s0">, $currentMenu); 
                  module.animate.hide(</span><span class="s2">false</span><span class="s0">,  $currentMenu); 
                }, settings.delay.hide); 
              } 
            }, 
 
            click: </span><span class="s2">function </span><span class="s0">(event) { 
              </span><span class="s2">var</span><span class="s0"> 
                $choice = $(</span><span class="s2">this</span><span class="s0">), 
                text    = ( $choice.data(metadata.text) !== undefined ) 
                  ? $choice.data(metadata.text) 
                  : (settings.preserveHTML) 
                    ? $choice.html() 
                    : $choice.text(), 
                value   = ( $choice.data(metadata.value) !== undefined) 
                  ? $choice.data(metadata.value) 
                  : (</span><span class="s2">typeof </span><span class="s0">text === </span><span class="s3">'string'</span><span class="s0">) 
                      ? text.toLowerCase() 
                      : text, 
                callback = </span><span class="s2">function</span><span class="s0">() { 
                  module.remove.searchTerm(); 
                  module.remove.filteredItem(); 
                  module.determine.selectAction(text, value); 
                }, 
                openingSubMenu = ($choice.find(selector.menu).size() &gt; </span><span class="s4">0</span><span class="s0">) 
              ; 
              </span><span class="s2">if</span><span class="s0">( !openingSubMenu ) { 
                callback(); 
              } 
            } 
 
          }, 
 
          resetStyle: </span><span class="s2">function</span><span class="s0">() { 
            $(</span><span class="s2">this</span><span class="s0">).removeAttr(</span><span class="s3">'style'</span><span class="s0">); 
          } 
 
        }, 
 
        determine: { 
          selectAction: </span><span class="s2">function</span><span class="s0">(text, value) { 
            module.verbose(</span><span class="s3">'Determining action'</span><span class="s0">, settings.action); 
            </span><span class="s2">if</span><span class="s0">( $.isFunction( module.action[settings.action] ) ) { 
              module.verbose(</span><span class="s3">'Triggering preset action'</span><span class="s0">, settings.action, text, value); 
              module.action[ settings.action ](text, value); 
            } 
            </span><span class="s2">else if</span><span class="s0">( $.isFunction(settings.action) ) { 
              module.verbose(</span><span class="s3">'Triggering user action'</span><span class="s0">, settings.action, text, value); 
              settings.action(text, value); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.error(error.action, settings.action); 
            } 
          }, 
          eventInModule: </span><span class="s2">function</span><span class="s0">(event, callback) { 
            callback = callback || </span><span class="s2">function</span><span class="s0">(){}; 
            </span><span class="s2">if</span><span class="s0">( $(event.target).closest($module).size() === </span><span class="s4">0 </span><span class="s0">) { 
              module.verbose(</span><span class="s3">'Triggering event'</span><span class="s0">, callback); 
              callback(); 
              </span><span class="s2">return true</span><span class="s0">; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose(</span><span class="s3">'Event occurred in dropdown, canceling callback'</span><span class="s0">); 
              </span><span class="s2">return false</span><span class="s0">; 
            } 
          }, 
          eventInMenu: </span><span class="s2">function</span><span class="s0">(event, callback) { 
            callback = callback || </span><span class="s2">function</span><span class="s0">(){}; 
            </span><span class="s2">if</span><span class="s0">( $(event.target).closest($menu).size() === </span><span class="s4">0 </span><span class="s0">) { 
              module.verbose(</span><span class="s3">'Triggering event'</span><span class="s0">, callback); 
              callback(); 
              </span><span class="s2">return true</span><span class="s0">; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose(</span><span class="s3">'Event occurred in dropdown menu, canceling callback'</span><span class="s0">); 
              </span><span class="s2">return false</span><span class="s0">; 
            } 
          } 
        }, 
 
        action: { 
 
          nothing: </span><span class="s2">function</span><span class="s0">() {}, 
 
          hide: </span><span class="s2">function</span><span class="s0">() { 
            module.hide(); 
          }, 
 
          select: </span><span class="s2">function</span><span class="s0">(text, value) { 
            value = (value !== undefined) 
              ? value 
              : text 
            ; 
            module.set.selected(value); 
            module.set.value(value); 
            module.hide(); 
          }, 
 
          activate: </span><span class="s2">function</span><span class="s0">(text, value) { 
            value = (value !== undefined) 
              ? value 
              : text 
            ; 
            module.set.selected(value); 
            module.set.value(value); 
            module.hide(); 
          }, 
 
          combo: </span><span class="s2">function</span><span class="s0">(text, value) { 
            value = (value !== undefined) 
              ? value 
              : text 
            ; 
            module.set.selected(value); 
            module.set.value(value); 
            module.hide(); 
          } 
 
        }, 
 
        </span><span class="s2">get</span><span class="s0">: { 
          text: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$text.text(); 
          }, 
          value: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">($input.size() &gt; </span><span class="s4">0</span><span class="s0">) 
              ? $input.val() 
              : $module.data(metadata.value) 
            ; 
          }, 
          inputEvent: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              input = $search[</span><span class="s4">0</span><span class="s0">] 
            ; 
            </span><span class="s2">if</span><span class="s0">(input) { 
              </span><span class="s2">return </span><span class="s0">(input.oninput !== undefined) 
                ? </span><span class="s3">'input'</span><span class="s0"> 
                : (input.onpropertychange !== undefined) 
                  ? </span><span class="s3">'propertychange'</span><span class="s0"> 
                  : </span><span class="s3">'keyup'</span><span class="s0"> 
              ; 
            } 
            </span><span class="s2">return false</span><span class="s0">; 
          }, 
          selectValues: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              select = { 
                values : {} 
              } 
            ; 
            $module 
              .find(</span><span class="s3">'option'</span><span class="s0">) 
                .each(</span><span class="s2">function</span><span class="s0">() { 
                  </span><span class="s2">var</span><span class="s0"> 
                    name  = $(</span><span class="s2">this</span><span class="s0">).html(), 
                    value = ( $(</span><span class="s2">this</span><span class="s0">).attr(</span><span class="s3">'value'</span><span class="s0">) !== undefined ) 
                      ? $(</span><span class="s2">this</span><span class="s0">).attr(</span><span class="s3">'value'</span><span class="s0">) 
                      : name 
                  ; 
                  </span><span class="s2">if</span><span class="s0">(value === </span><span class="s3">''</span><span class="s0">) { 
                    select.placeholder = name; 
                  } 
                  </span><span class="s2">else </span><span class="s0">{ 
                    select.values[value] = name; 
                  } 
                }) 
            ; 
            module.debug(</span><span class="s3">'Retrieved values from select'</span><span class="s0">, select); 
            </span><span class="s2">return </span><span class="s0">select; 
          }, 
          item: </span><span class="s2">function</span><span class="s0">(value, strict) { 
            </span><span class="s2">var</span><span class="s0"> 
              $selectedItem = </span><span class="s2">false</span><span class="s0"> 
            ; 
            value = (value !== undefined) 
              ? value 
              : ( module.get.value() !== undefined) 
                ? module.get.value() 
                : module.get.text() 
            ; 
            strict = (value === </span><span class="s3">'' </span><span class="s0">|| value === </span><span class="s4">0</span><span class="s0">) 
              ? </span><span class="s2">true</span><span class="s0"> 
              : strict || </span><span class="s2">false</span><span class="s0"> 
            ; 
            </span><span class="s2">if</span><span class="s0">(value !== undefined) { 
              $item 
                .each(</span><span class="s2">function</span><span class="s0">() { 
                  </span><span class="s2">var</span><span class="s0"> 
                    $choice       = $(</span><span class="s2">this</span><span class="s0">), 
                    optionText    = ( $choice.data(metadata.text) !== undefined ) 
                      ? $choice.data(metadata.text) 
                      : (settings.preserveHTML) 
                        ? $choice.html() 
                        : $choice.text(), 
                    optionValue   = ( $choice.data(metadata.value) !== undefined ) 
                      ? $choice.data(metadata.value) 
                      : (</span><span class="s2">typeof </span><span class="s0">optionText === </span><span class="s3">'string'</span><span class="s0">) 
                        ? optionText.toLowerCase() 
                        : optionText 
                  ; 
                  </span><span class="s2">if</span><span class="s0">(strict) { 
                    module.verbose(</span><span class="s3">'Ambiguous dropdown value using strict type check'</span><span class="s0">, $choice, value); 
                    </span><span class="s2">if</span><span class="s0">( optionValue === value ) { 
                      $selectedItem = $(</span><span class="s2">this</span><span class="s0">); 
                    } 
                    </span><span class="s2">else if</span><span class="s0">( !$selectedItem &amp;&amp; optionText === value ) { 
                      $selectedItem = $(</span><span class="s2">this</span><span class="s0">); 
                    } 
                  } 
                  </span><span class="s2">else </span><span class="s0">{ 
                    </span><span class="s2">if</span><span class="s0">( optionValue == value ) { 
                      module.verbose(</span><span class="s3">'Found select item by value'</span><span class="s0">, optionValue, value); 
                      $selectedItem = $(</span><span class="s2">this</span><span class="s0">); 
                    } 
                    </span><span class="s2">else if</span><span class="s0">( !$selectedItem &amp;&amp; optionText == value ) { 
                      module.verbose(</span><span class="s3">'Found select item by text'</span><span class="s0">, optionText, value); 
                      $selectedItem = $(</span><span class="s2">this</span><span class="s0">); 
                    } 
                  } 
                }) 
              ; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              value = module.get.text(); 
            } 
            </span><span class="s2">return </span><span class="s0">$selectedItem || </span><span class="s2">false</span><span class="s0">; 
          } 
        }, 
 
        restore: { 
          defaults: </span><span class="s2">function</span><span class="s0">() { 
            module.restore.defaultText(); 
            module.restore.defaultValue(); 
          }, 
          defaultText: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              defaultText = $module.data(metadata.defaultText) 
            ; 
            module.debug(</span><span class="s3">'Restoring default text'</span><span class="s0">, defaultText); 
            module.set.text(defaultText); 
          }, 
          defaultValue: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              defaultValue = $module.data(metadata.defaultValue) 
            ; 
            </span><span class="s2">if</span><span class="s0">(defaultValue !== undefined) { 
              module.debug(</span><span class="s3">'Restoring default value'</span><span class="s0">, defaultValue); 
              module.set.selected(defaultValue); 
              module.set.value(defaultValue); 
            } 
          } 
        }, 
 
        save: { 
          defaults: </span><span class="s2">function</span><span class="s0">() { 
            module.save.defaultText(); 
            module.save.defaultValue(); 
          }, 
          defaultValue: </span><span class="s2">function</span><span class="s0">() { 
            $module.data(metadata.defaultValue, module.get.value() ); 
          }, 
          defaultText: </span><span class="s2">function</span><span class="s0">() { 
            $module.data(metadata.defaultText, $text.text() ); 
          } 
        }, 
 
        </span><span class="s2">set</span><span class="s0">: { 
          filtered: </span><span class="s2">function</span><span class="s0">() { 
            $text.addClass(className.filtered); 
          }, 
          tabbable: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">( module.is.searchable() ) { 
              module.debug(</span><span class="s3">'Searchable dropdown initialized'</span><span class="s0">); 
              $search 
                .val(</span><span class="s3">''</span><span class="s0">) 
                .attr(</span><span class="s3">'tabindex'</span><span class="s0">, </span><span class="s4">0</span><span class="s0">) 
              ; 
              $menu 
                .attr(</span><span class="s3">'tabindex'</span><span class="s0">, </span><span class="s3">'-1'</span><span class="s0">) 
              ; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug(</span><span class="s3">'Simple selection dropdown initialized'</span><span class="s0">); 
              </span><span class="s2">if</span><span class="s0">(!$module.attr(</span><span class="s3">'tabindex'</span><span class="s0">) ) { 
                $module 
                  .attr(</span><span class="s3">'tabindex'</span><span class="s0">, </span><span class="s4">0</span><span class="s0">) 
                ; 
                $menu 
                  .attr(</span><span class="s3">'tabindex'</span><span class="s0">, </span><span class="s3">'-1'</span><span class="s0">) 
                ; 
              } 
            } 
          }, 
          scrollPosition: </span><span class="s2">function</span><span class="s0">($item) { 
            </span><span class="s2">var</span><span class="s0"> 
              $item         = $item || module.get.item(), 
              hasActive     = ($item &amp;&amp; $item.size() &gt; </span><span class="s4">0</span><span class="s0">), 
              edgeTolerance = </span><span class="s4">5</span><span class="s0">, 
              offset, 
              itemHeight, 
              itemOffset, 
              menuOffset, 
              menuScroll, 
              menuHeight, 
              abovePage, 
              belowPage 
            ; 
            </span><span class="s2">if</span><span class="s0">($item &amp;&amp; hasActive) { 
              menuHeight = $menu.height(); 
              itemHeight = $item.height(); 
              menuScroll = $menu.scrollTop(); 
              menuOffset = $menu.offset().top; 
              itemOffset = $item.offset().top; 
              offset     = menuScroll - menuOffset + itemOffset; 
              belowPage  = menuScroll + menuHeight &lt; (offset + edgeTolerance); 
              abovePage  = ((offset - edgeTolerance) &lt; menuScroll); 
              </span><span class="s2">if</span><span class="s0">(abovePage || belowPage) { 
                module.debug(</span><span class="s3">'Scrolling to active item'</span><span class="s0">); 
                $menu 
                  .scrollTop(offset) 
                ; 
              } 
            } 
          }, 
          text: </span><span class="s2">function</span><span class="s0">(text) { 
            </span><span class="s2">if</span><span class="s0">(settings.action == </span><span class="s3">'combo'</span><span class="s0">) { 
              module.debug(</span><span class="s3">'Changing combo button text'</span><span class="s0">, text, $combo); 
              </span><span class="s2">if</span><span class="s0">(settings.preserveHTML) { 
                $combo.html(text); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $combo.text(text); 
              } 
            } 
            </span><span class="s2">else if</span><span class="s0">(settings.action !== </span><span class="s3">'select'</span><span class="s0">) { 
              module.debug(</span><span class="s3">'Changing text'</span><span class="s0">, text, $text); 
              $text 
                .removeClass(className.filtered) 
                .removeClass(className.placeholder) 
              ; 
              </span><span class="s2">if</span><span class="s0">(settings.preserveHTML) { 
                $text.html(text); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $text.text(text); 
              } 
            } 
          }, 
          value: </span><span class="s2">function</span><span class="s0">(value) { 
            module.debug(</span><span class="s3">'Adding selected value to hidden input'</span><span class="s0">, value, $input); 
            </span><span class="s2">if</span><span class="s0">($input.size() &gt; </span><span class="s4">0</span><span class="s0">) { 
              $input 
                .val(value) 
                .trigger(</span><span class="s3">'change'</span><span class="s0">) 
              ; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              $module.data(metadata.value, value); 
            } 
          }, 
          active: </span><span class="s2">function</span><span class="s0">() { 
            $module 
              .addClass(className.active) 
            ; 
          }, 
          visible: </span><span class="s2">function</span><span class="s0">() { 
            $module.addClass(className.visible); 
          }, 
          selected: </span><span class="s2">function</span><span class="s0">(value) { 
            </span><span class="s2">var</span><span class="s0"> 
              $selectedItem = module.get.item(value), 
              selectedText 
            ; 
            </span><span class="s2">if</span><span class="s0">($selectedItem) { 
              module.debug(</span><span class="s3">'Setting selected menu item to'</span><span class="s0">, $selectedItem); 
              selectedText = ($selectedItem.data(metadata.text) !== undefined) 
                ? $selectedItem.data(metadata.text) 
                : (settings.preserveHTML) 
                  ? $selectedItem.html() 
                  : $selectedItem.text() 
              ; 
              module.remove.activeItem(); 
              module.remove.selectedItem(); 
              $selectedItem 
                .addClass(className.active) 
                .addClass(className.selected) 
              ; 
              module.set.text(selectedText); 
              $.proxy(settings.onChange, element)(value, selectedText, $selectedItem); 
            } 
          } 
        }, 
 
        remove: { 
          active: </span><span class="s2">function</span><span class="s0">() { 
            $module.removeClass(className.active); 
          }, 
          visible: </span><span class="s2">function</span><span class="s0">() { 
            $module.removeClass(className.visible); 
          }, 
          activeItem: </span><span class="s2">function</span><span class="s0">() { 
            $item.removeClass(className.active); 
          }, 
          filteredItem: </span><span class="s2">function</span><span class="s0">() { 
            $item.removeClass(className.filtered); 
          }, 
          searchTerm: </span><span class="s2">function</span><span class="s0">() { 
            $search.val(</span><span class="s3">''</span><span class="s0">); 
          }, 
          selectedItem: </span><span class="s2">function</span><span class="s0">() { 
            $item.removeClass(className.selected); 
          }, 
          tabbable: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">( module.is.searchable() ) { 
              module.debug(</span><span class="s3">'Searchable dropdown initialized'</span><span class="s0">); 
              $search 
                .attr(</span><span class="s3">'tabindex'</span><span class="s0">, </span><span class="s3">'-1'</span><span class="s0">) 
              ; 
              $menu 
                .attr(</span><span class="s3">'tabindex'</span><span class="s0">, </span><span class="s3">'-1'</span><span class="s0">) 
              ; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug(</span><span class="s3">'Simple selection dropdown initialized'</span><span class="s0">); 
              $module 
                .attr(</span><span class="s3">'tabindex'</span><span class="s0">, </span><span class="s3">'-1'</span><span class="s0">) 
              ; 
              $menu 
                .attr(</span><span class="s3">'tabindex'</span><span class="s0">, </span><span class="s3">'-1'</span><span class="s0">) 
              ; 
            } 
          } 
        }, 
 
        is: { 
          search: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.search); 
          }, 
          searchable: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">($search.size() &gt; </span><span class="s4">0</span><span class="s0">); 
          }, 
          searchSelection: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">( module.is.searchable() &amp;&amp; $search.parent().is($module) ); 
          }, 
          selection: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.selection); 
          }, 
          animating: </span><span class="s2">function</span><span class="s0">($subMenu) { 
            </span><span class="s2">return </span><span class="s0">($subMenu) 
              ? $subMenu.is(</span><span class="s3">':animated'</span><span class="s0">) || $subMenu.transition &amp;&amp; $subMenu.transition(</span><span class="s3">'is animating'</span><span class="s0">) 
              : $menu.is(</span><span class="s3">':animated'</span><span class="s0">) || $menu.transition &amp;&amp; $menu.transition(</span><span class="s3">'is animating'</span><span class="s0">) 
            ; 
          }, 
          active: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.active); 
          }, 
          visible: </span><span class="s2">function</span><span class="s0">($subMenu) { 
            </span><span class="s2">return </span><span class="s0">($subMenu) 
              ? $subMenu.is(</span><span class="s3">':visible'</span><span class="s0">) 
              : $menu.is(</span><span class="s3">':visible'</span><span class="s0">) 
            ; 
          }, 
          hidden: </span><span class="s2">function</span><span class="s0">($subMenu) { 
            </span><span class="s2">return </span><span class="s0">($subMenu) 
              ? $subMenu.is(</span><span class="s3">':hidden'</span><span class="s0">) 
              : $menu.is(</span><span class="s3">':hidden'</span><span class="s0">) 
            ; 
          } 
        }, 
 
        can: { 
          click: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">(hasTouch || settings.on == </span><span class="s3">'click'</span><span class="s0">); 
          }, 
          show: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">!$module.hasClass(className.disabled); 
          } 
        }, 
 
        animate: { 
          show: </span><span class="s2">function</span><span class="s0">(callback, $subMenu) { 
            </span><span class="s2">var</span><span class="s0"> 
              $currentMenu = $subMenu || $menu, 
              start = ($subMenu) 
                ? </span><span class="s2">function</span><span class="s0">() {} 
                : </span><span class="s2">function</span><span class="s0">() { 
                  module.hideSubMenus(); 
                  module.hideOthers(); 
                  module.set.active(); 
                  module.set.scrollPosition(); 
                } 
            ; 
            callback = callback || </span><span class="s2">function</span><span class="s0">(){}; 
            module.verbose(</span><span class="s3">'Doing menu show animation'</span><span class="s0">, $currentMenu); 
            </span><span class="s2">if</span><span class="s0">( module.is.hidden($currentMenu) || module.is.animating($currentMenu) ) { 
              </span><span class="s2">if</span><span class="s0">(settings.transition == </span><span class="s3">'none'</span><span class="s0">) { 
                $.proxy(callback, element)(); 
              } 
              </span><span class="s2">else if</span><span class="s0">($.fn.transition !== undefined &amp;&amp; $module.transition(</span><span class="s3">'is supported'</span><span class="s0">)) { 
                $currentMenu 
                  .transition({ 
                    animation  : settings.transition + </span><span class="s3">' in'</span><span class="s0">, 
                    debug      : settings.debug, 
                    verbose    : settings.verbose, 
                    duration   : settings.duration, 
                    queue      : </span><span class="s2">true</span><span class="s0">, 
                    onStart    : start, 
                    onComplete : </span><span class="s2">function</span><span class="s0">() { 
                      $.proxy(callback, element)(); 
                    } 
                  }) 
                ; 
              } 
              </span><span class="s2">else if</span><span class="s0">(settings.transition == </span><span class="s3">'slide down'</span><span class="s0">) { 
                start(); 
                $currentMenu 
                  .hide() 
                  .clearQueue() 
                  .children() 
                    .clearQueue() 
                    .css(</span><span class="s3">'opacity'</span><span class="s0">, </span><span class="s4">0</span><span class="s0">) 
                    .delay(</span><span class="s4">50</span><span class="s0">) 
                    .animate({ 
                      opacity : </span><span class="s4">1</span><span class="s0"> 
                    }, settings.duration, </span><span class="s3">'easeOutQuad'</span><span class="s0">, module.event.resetStyle) 
                    .end() 
                  .slideDown(</span><span class="s4">100</span><span class="s0">, </span><span class="s3">'easeOutQuad'</span><span class="s0">, </span><span class="s2">function</span><span class="s0">() { 
                    $.proxy(module.event.resetStyle, </span><span class="s2">this</span><span class="s0">)(); 
                    $.proxy(callback, element)(); 
                  }) 
                ; 
              } 
              </span><span class="s2">else if</span><span class="s0">(settings.transition == </span><span class="s3">'fade'</span><span class="s0">) { 
                start(); 
                $currentMenu 
                  .hide() 
                  .clearQueue() 
                  .fadeIn(settings.duration, </span><span class="s2">function</span><span class="s0">() { 
                    $.proxy(module.event.resetStyle, </span><span class="s2">this</span><span class="s0">)(); 
                    $.proxy(callback, element)(); 
                  }) 
                ; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.error(error.transition, settings.transition); 
              } 
            } 
          }, 
          hide: </span><span class="s2">function</span><span class="s0">(callback, $subMenu) { 
            </span><span class="s2">var</span><span class="s0"> 
              $currentMenu = $subMenu || $menu, 
              duration = ($subMenu) 
                ? (settings.duration * </span><span class="s4">0.9</span><span class="s0">) 
                : settings.duration, 
              start = ($subMenu) 
                ? </span><span class="s2">function</span><span class="s0">() {} 
                : </span><span class="s2">function</span><span class="s0">() { 
                  </span><span class="s2">if</span><span class="s0">( module.can.click() ) { 
                    module.unbind.intent(); 
                  } 
                  module.focusSearch(); 
                  module.remove.active(); 
                } 
            ; 
            callback = callback || </span><span class="s2">function</span><span class="s0">(){}; 
            </span><span class="s2">if</span><span class="s0">( module.is.visible($currentMenu) || module.is.animating($currentMenu) ) { 
              module.verbose(</span><span class="s3">'Doing menu hide animation'</span><span class="s0">, $currentMenu); 
 
              </span><span class="s2">if</span><span class="s0">(settings.transition == </span><span class="s3">'none'</span><span class="s0">) { 
                $.proxy(callback, element)(); 
              } 
              </span><span class="s2">else if</span><span class="s0">($.fn.transition !== undefined &amp;&amp; $module.transition(</span><span class="s3">'is supported'</span><span class="s0">)) { 
                $currentMenu 
                  .transition({ 
                    animation  : settings.transition + </span><span class="s3">' out'</span><span class="s0">, 
                    duration   : settings.duration, 
                    debug      : settings.debug, 
                    verbose    : settings.verbose, 
                    queue      : </span><span class="s2">true</span><span class="s0">, 
                    onStart    : start, 
                    onComplete : </span><span class="s2">function</span><span class="s0">() { 
                      $.proxy(callback, element)(); 
                    } 
                  }) 
                ; 
              } 
              </span><span class="s2">else if</span><span class="s0">(settings.transition == </span><span class="s3">'slide down'</span><span class="s0">) { 
                start(); 
                $currentMenu 
                  .show() 
                  .clearQueue() 
                  .children() 
                    .clearQueue() 
                    .css(</span><span class="s3">'opacity'</span><span class="s0">, </span><span class="s4">1</span><span class="s0">) 
                    .animate({ 
                      opacity : </span><span class="s4">0</span><span class="s0"> 
                    }, </span><span class="s4">100</span><span class="s0">, </span><span class="s3">'easeOutQuad'</span><span class="s0">, module.event.resetStyle) 
                    .end() 
                  .delay(</span><span class="s4">50</span><span class="s0">) 
                  .slideUp(</span><span class="s4">100</span><span class="s0">, </span><span class="s3">'easeOutQuad'</span><span class="s0">, </span><span class="s2">function</span><span class="s0">() { 
                    $.proxy(module.event.resetStyle, </span><span class="s2">this</span><span class="s0">)(); 
                    $.proxy(callback, element)(); 
                  }) 
                ; 
              } 
              </span><span class="s2">else if</span><span class="s0">(settings.transition == </span><span class="s3">'fade'</span><span class="s0">) { 
                start(); 
                $currentMenu 
                  .show() 
                  .clearQueue() 
                  .fadeOut(</span><span class="s4">150</span><span class="s0">, </span><span class="s2">function</span><span class="s0">() { 
                    $.proxy(module.event.resetStyle, </span><span class="s2">this</span><span class="s0">)(); 
                    $.proxy(callback, element)(); 
                  }) 
                ; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.error(error.transition); 
              } 
            } 
          } 
        }, 
 
        delay: { 
          show: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Delaying show event to ensure user intent'</span><span class="s0">); 
            clearTimeout(module.timer); 
            module.timer = setTimeout(module.show, settings.delay.show); 
          }, 
          hide: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Delaying hide event to ensure user intent'</span><span class="s0">); 
            clearTimeout(module.timer); 
            module.timer = setTimeout(module.hide, settings.delay.hide); 
          } 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing setting'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.error(error.method, query); 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
    }) 
  ; 
 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.dropdown.settings = { 
 
  debug          : </span><span class="s2">false</span><span class="s0">, 
  verbose        : </span><span class="s2">true</span><span class="s0">, 
  performance    : </span><span class="s2">true</span><span class="s0">, 
 
  on             : </span><span class="s3">'click'</span><span class="s0">, 
  action         : </span><span class="s3">'activate'</span><span class="s0">, 
 
  allowTab       : </span><span class="s2">true</span><span class="s0">, 
  fullTextSearch : </span><span class="s2">true</span><span class="s0">, 
  preserveHTML   : </span><span class="s2">true</span><span class="s0">, 
 
  delay          : { 
    show  : </span><span class="s4">200</span><span class="s0">, 
    hide  : </span><span class="s4">300</span><span class="s0">, 
    touch : </span><span class="s4">50</span><span class="s0"> 
  }, 
 
  transition : </span><span class="s3">'slide down'</span><span class="s0">, 
  duration   : </span><span class="s4">250</span><span class="s0">, 
 
  </span><span class="s1">/* Callbacks */</span><span class="s0"> 
 
  onChange   : </span><span class="s2">function</span><span class="s0">(value, text){}, 
  onShow     : </span><span class="s2">function</span><span class="s0">(){}, 
  onHide     : </span><span class="s2">function</span><span class="s0">(){}, 
 
  </span><span class="s1">/* Component */</span><span class="s0"> 
 
  name           : </span><span class="s3">'Dropdown'</span><span class="s0">, 
  namespace      : </span><span class="s3">'dropdown'</span><span class="s0">, 
 
  error   : { 
    action     : </span><span class="s3">'You called a dropdown action that was not defined'</span><span class="s0">, 
    method     : </span><span class="s3">'The method you called is not defined.'</span><span class="s0">, 
    transition : </span><span class="s3">'The requested transition was not found'</span><span class="s0"> 
  }, 
 
  metadata: { 
    defaultText  : </span><span class="s3">'defaultText'</span><span class="s0">, 
    defaultValue : </span><span class="s3">'defaultValue'</span><span class="s0">, 
    text         : </span><span class="s3">'text'</span><span class="s0">, 
    value        : </span><span class="s3">'value'</span><span class="s0"> 
  }, 
 
  selector : { 
    dropdown : </span><span class="s3">'.ui.dropdown'</span><span class="s0">, 
    text     : </span><span class="s3">'&gt; .text:not(.icon)'</span><span class="s0">, 
    input    : </span><span class="s3">'&gt; input[type=&quot;hidden&quot;], &gt; select'</span><span class="s0">, 
    search   : </span><span class="s3">'&gt; input.search, .menu &gt; .search &gt; input, .menu &gt; input.search'</span><span class="s0">, 
    menu     : </span><span class="s3">'.menu'</span><span class="s0">, 
    item     : </span><span class="s3">'.item'</span><span class="s0"> 
  }, 
 
  className : { 
    active      : </span><span class="s3">'active'</span><span class="s0">, 
    animating   : </span><span class="s3">'animating'</span><span class="s0">, 
    disabled    : </span><span class="s3">'disabled'</span><span class="s0">, 
    dropdown    : </span><span class="s3">'ui dropdown'</span><span class="s0">, 
    filtered    : </span><span class="s3">'filtered'</span><span class="s0">, 
    menu        : </span><span class="s3">'menu'</span><span class="s0">, 
    placeholder : </span><span class="s3">'default'</span><span class="s0">, 
    search      : </span><span class="s3">'search'</span><span class="s0">, 
    selected    : </span><span class="s3">'selected'</span><span class="s0">, 
    selection   : </span><span class="s3">'selection'</span><span class="s0">, 
    visible     : </span><span class="s3">'visible'</span><span class="s0"> 
  } 
 
}; 
 
</span><span class="s1">/* Templates */</span><span class="s0"> 
$.fn.dropdown.settings.templates = { 
  menu: </span><span class="s2">function</span><span class="s0">(select) { 
    </span><span class="s2">var</span><span class="s0"> 
      placeholder = select.placeholder || </span><span class="s2">false</span><span class="s0">, 
      values      = select.values || {}, 
      html        = </span><span class="s3">''</span><span class="s0"> 
    ; 
    $.each(select.values, </span><span class="s2">function</span><span class="s0">(value, name) { 
      </span><span class="s2">if</span><span class="s0">(value === name) { 
        html += </span><span class="s3">'&lt;div class=&quot;item&quot;&gt;' </span><span class="s0">+ name + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0">; 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        html += </span><span class="s3">'&lt;div class=&quot;item&quot; data-value=&quot;' </span><span class="s0">+ value + </span><span class="s3">'&quot;&gt;' </span><span class="s0">+ name + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0">; 
      } 
    }); 
    </span><span class="s2">return </span><span class="s0">html; 
  }, 
  dropdown: </span><span class="s2">function</span><span class="s0">(select) { 
    </span><span class="s2">var</span><span class="s0"> 
      placeholder = select.placeholder || </span><span class="s2">false</span><span class="s0">, 
      values      = select.values || {}, 
      html        = </span><span class="s3">''</span><span class="s0"> 
    ; 
    html +=  </span><span class="s3">'&lt;i class=&quot;dropdown icon&quot;&gt;&lt;/i&gt;'</span><span class="s0">; 
    </span><span class="s2">if</span><span class="s0">(select.placeholder) { 
      html += </span><span class="s3">'&lt;div class=&quot;default text&quot;&gt;' </span><span class="s0">+ placeholder + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0">; 
    } 
    </span><span class="s2">else </span><span class="s0">{ 
      html += </span><span class="s3">'&lt;div class=&quot;text&quot;&gt;&lt;/div&gt;'</span><span class="s0">; 
    } 
    html += </span><span class="s3">'&lt;div class=&quot;menu&quot;&gt;'</span><span class="s0">; 
    $.each(select.values, </span><span class="s2">function</span><span class="s0">(value, name) { 
      </span><span class="s2">if</span><span class="s0">(value === name) { 
        html += </span><span class="s3">'&lt;div class=&quot;item&quot;&gt;' </span><span class="s0">+ name + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0">; 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        html += </span><span class="s3">'&lt;div class=&quot;item&quot; data-value=&quot;' </span><span class="s0">+ value + </span><span class="s3">'&quot;&gt;' </span><span class="s0">+ name + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0">; 
      } 
    }); 
    html += </span><span class="s3">'&lt;/div&gt;'</span><span class="s0">; 
    </span><span class="s2">return </span><span class="s0">html; 
  } 
}; 
 
 
</span><span class="s1">/* Dependencies */</span><span class="s0"> 
$.extend( $.easing, { 
  easeOutQuad: </span><span class="s2">function </span><span class="s0">(x, t, b, c, d) { 
    </span><span class="s2">return </span><span class="s0">-c *(t/=d)*(t-</span><span class="s4">2</span><span class="s0">) + b; 
  }, 
}); 
 
 
})( jQuery, window , document ); 
</span><span class="s1">/* 
 * # Semantic - Form Validation 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">( $, window, document, undefined ) { 
 
$.fn.form = </span><span class="s2">function</span><span class="s0">(fields, parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules     = $(</span><span class="s2">this</span><span class="s0">), 
 
    settings        = $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.form.settings, parameters), 
    validation      = $.extend({}, $.fn.form.settings.defaults, fields), 
 
    namespace       = settings.namespace, 
    metadata        = settings.metadata, 
    selector        = settings.selector, 
    className       = settings.className, 
    error           = settings.error, 
 
    eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
    moduleNamespace = </span><span class="s3">'module-' </span><span class="s0">+ namespace, 
 
    moduleSelector  = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
    time            = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance     = [], 
 
    query           = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked   = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments  = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
    returnedValue 
  ; 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        $module    = $(</span><span class="s2">this</span><span class="s0">), 
        $field     = $(</span><span class="s2">this</span><span class="s0">).find(selector.field), 
        $group     = $(</span><span class="s2">this</span><span class="s0">).find(selector.group), 
        $message   = $(</span><span class="s2">this</span><span class="s0">).find(selector.message), 
        $prompt    = $(</span><span class="s2">this</span><span class="s0">).find(selector.prompt), 
        $submit    = $(</span><span class="s2">this</span><span class="s0">).find(selector.submit), 
 
        formErrors = [], 
 
        element    = </span><span class="s2">this</span><span class="s0">, 
        instance   = $module.data(moduleNamespace), 
        module 
      ; 
 
      module      = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Initializing form validation'</span><span class="s0">, $module, validation, settings); 
          module.bindEvents(); 
          module.instantiate(); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of module'</span><span class="s0">, module); 
          instance = module; 
          $module 
            .data(moduleNamespace, module) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying previous module'</span><span class="s0">, instance); 
          module.removeEvents(); 
          $module 
            .removeData(moduleNamespace) 
          ; 
        }, 
 
        refresh: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Refreshing selector cache'</span><span class="s0">); 
          $field = $module.find(selector.field); 
        }, 
 
        submit: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Submitting form'</span><span class="s0">, $module); 
          $module 
            .submit() 
          ; 
        }, 
 
        attachEvents: </span><span class="s2">function</span><span class="s0">(selector, action) { 
          action = action || </span><span class="s3">'submit'</span><span class="s0">; 
          $(selector) 
            .on(</span><span class="s3">'click'</span><span class="s0">, </span><span class="s2">function</span><span class="s0">(event) { 
              module[action](); 
              event.preventDefault(); 
            }) 
          ; 
        }, 
 
        bindEvents: </span><span class="s2">function</span><span class="s0">() { 
 
          </span><span class="s2">if</span><span class="s0">(settings.keyboardShortcuts) { 
            $field 
              .on(</span><span class="s3">'keydown' </span><span class="s0">+ eventNamespace, module.event.field.keydown) 
            ; 
          } 
          $module 
            .on(</span><span class="s3">'submit' </span><span class="s0">+ eventNamespace, module.validate.form) 
          ; 
          $field 
            .on(</span><span class="s3">'blur' </span><span class="s0">+ eventNamespace, module.event.field.blur) 
          ; 
          </span><span class="s1">// attach submit events</span><span class="s0"> 
          module.attachEvents($submit, </span><span class="s3">'submit'</span><span class="s0">); 
 
          $field 
            .each(</span><span class="s2">function</span><span class="s0">() { 
              </span><span class="s2">var</span><span class="s0"> 
                type       = $(</span><span class="s2">this</span><span class="s0">).prop(</span><span class="s3">'type'</span><span class="s0">), 
                inputEvent = module.get.changeEvent(type) 
              ; 
              $(</span><span class="s2">this</span><span class="s0">) 
                .on(inputEvent + eventNamespace, module.event.field.change) 
              ; 
            }) 
          ; 
        }, 
 
        removeEvents: </span><span class="s2">function</span><span class="s0">() { 
          $module 
            .off(eventNamespace) 
          ; 
          $field 
            .off(eventNamespace) 
          ; 
          $submit 
            .off(eventNamespace) 
          ; 
          $field 
            .off(eventNamespace) 
          ; 
        }, 
 
        event: { 
          field: { 
            keydown: </span><span class="s2">function</span><span class="s0">(event) { 
              </span><span class="s2">var</span><span class="s0"> 
                $field  = $(</span><span class="s2">this</span><span class="s0">), 
                key     = event.which, 
                keyCode = { 
                  enter  : </span><span class="s4">13</span><span class="s0">, 
                  escape : </span><span class="s4">27</span><span class="s0"> 
                } 
              ; 
              </span><span class="s2">if</span><span class="s0">( key == keyCode.escape) { 
                module.verbose(</span><span class="s3">'Escape key pressed blurring field'</span><span class="s0">); 
                $field 
                  .blur() 
                ; 
              } 
              </span><span class="s2">if</span><span class="s0">(!event.ctrlKey &amp;&amp; key == keyCode.enter &amp;&amp; $field.is(selector.input) &amp;&amp; $field.not(selector.checkbox).size() &gt; </span><span class="s4">0 </span><span class="s0">) { 
                module.debug(</span><span class="s3">'Enter key pressed, submitting form'</span><span class="s0">); 
                $submit 
                  .addClass(className.down) 
                ; 
                $field 
                  .one(</span><span class="s3">'keyup' </span><span class="s0">+ eventNamespace, module.event.field.keyup) 
                ; 
              } 
            }, 
            keyup: </span><span class="s2">function</span><span class="s0">() { 
              module.verbose(</span><span class="s3">'Doing keyboard shortcut form submit'</span><span class="s0">); 
              $submit.removeClass(className.down); 
              module.submit(); 
            }, 
            blur: </span><span class="s2">function</span><span class="s0">() { 
              </span><span class="s2">var</span><span class="s0"> 
                $field      = $(</span><span class="s2">this</span><span class="s0">), 
                $fieldGroup = $field.closest($group) 
              ; 
              </span><span class="s2">if</span><span class="s0">( $fieldGroup.hasClass(className.error) ) { 
                module.debug(</span><span class="s3">'Revalidating field'</span><span class="s0">, $field,  module.get.validation($field)); 
                module.validate.field( module.get.validation($field) ); 
              } 
              </span><span class="s2">else if</span><span class="s0">(settings.on == </span><span class="s3">'blur' </span><span class="s0">|| settings.on == </span><span class="s3">'change'</span><span class="s0">) { 
                module.validate.field( module.get.validation($field) ); 
              } 
            }, 
            change: </span><span class="s2">function</span><span class="s0">() { 
              </span><span class="s2">var</span><span class="s0"> 
                $field      = $(</span><span class="s2">this</span><span class="s0">), 
                $fieldGroup = $field.closest($group) 
              ; 
              </span><span class="s2">if</span><span class="s0">(settings.on == </span><span class="s3">'change' </span><span class="s0">|| ( $fieldGroup.hasClass(className.error) &amp;&amp; settings.revalidate) ) { 
                clearTimeout(module.timer); 
                module.timer = setTimeout(</span><span class="s2">function</span><span class="s0">() { 
                  module.debug(</span><span class="s3">'Revalidating field'</span><span class="s0">, $field,  module.get.validation($field)); 
                  module.validate.field( module.get.validation($field) ); 
                }, settings.delay); 
              } 
            } 
          } 
 
        }, 
 
        </span><span class="s2">get</span><span class="s0">: { 
          changeEvent: </span><span class="s2">function</span><span class="s0">(type) { 
            </span><span class="s2">if</span><span class="s0">(type == </span><span class="s3">'checkbox' </span><span class="s0">|| type == </span><span class="s3">'radio' </span><span class="s0">|| type == </span><span class="s3">'hidden'</span><span class="s0">) { 
              </span><span class="s2">return </span><span class="s3">'change'</span><span class="s0">; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              </span><span class="s2">return </span><span class="s0">(document.createElement(</span><span class="s3">'input'</span><span class="s0">).oninput !== undefined) 
                ? </span><span class="s3">'input'</span><span class="s0"> 
                : (document.createElement(</span><span class="s3">'input'</span><span class="s0">).onpropertychange !== undefined) 
                  ? </span><span class="s3">'propertychange'</span><span class="s0"> 
                  : </span><span class="s3">'keyup'</span><span class="s0"> 
              ; 
            } 
          }, 
          field: </span><span class="s2">function</span><span class="s0">(identifier) { 
            module.verbose(</span><span class="s3">'Finding field with identifier'</span><span class="s0">, identifier); 
            </span><span class="s2">if</span><span class="s0">( $field.filter(</span><span class="s3">'#' </span><span class="s0">+ identifier).size() &gt; </span><span class="s4">0 </span><span class="s0">) { 
              </span><span class="s2">return </span><span class="s0">$field.filter(</span><span class="s3">'#' </span><span class="s0">+ identifier); 
            } 
            </span><span class="s2">else if</span><span class="s0">( $field.filter(</span><span class="s3">'[name=&quot;' </span><span class="s0">+ identifier +</span><span class="s3">'&quot;]'</span><span class="s0">).size() &gt; </span><span class="s4">0 </span><span class="s0">) { 
              </span><span class="s2">return </span><span class="s0">$field.filter(</span><span class="s3">'[name=&quot;' </span><span class="s0">+ identifier +</span><span class="s3">'&quot;]'</span><span class="s0">); 
            } 
            </span><span class="s2">else if</span><span class="s0">( $field.filter(</span><span class="s3">'[data-' </span><span class="s0">+ metadata.validate + </span><span class="s3">'=&quot;'</span><span class="s0">+ identifier +</span><span class="s3">'&quot;]'</span><span class="s0">).size() &gt; </span><span class="s4">0 </span><span class="s0">) { 
              </span><span class="s2">return </span><span class="s0">$field.filter(</span><span class="s3">'[data-' </span><span class="s0">+ metadata.validate + </span><span class="s3">'=&quot;'</span><span class="s0">+ identifier +</span><span class="s3">'&quot;]'</span><span class="s0">); 
            } 
            </span><span class="s2">return </span><span class="s0">$(</span><span class="s3">'&lt;input/&gt;'</span><span class="s0">); 
          }, 
          validation: </span><span class="s2">function</span><span class="s0">($field) { 
            </span><span class="s2">var</span><span class="s0"> 
              rules 
            ; 
            $.each(validation, </span><span class="s2">function</span><span class="s0">(fieldName, field) { 
              </span><span class="s2">if</span><span class="s0">( module.get.field(field.identifier).get(</span><span class="s4">0</span><span class="s0">) == $field.get(</span><span class="s4">0</span><span class="s0">) ) { 
                rules = field; 
              } 
            }); 
            </span><span class="s2">return </span><span class="s0">rules || </span><span class="s2">false</span><span class="s0">; 
          } 
        }, 
 
        has: { 
 
          field: </span><span class="s2">function</span><span class="s0">(identifier) { 
            module.verbose(</span><span class="s3">'Checking for existence of a field with identifier'</span><span class="s0">, identifier); 
            </span><span class="s2">if</span><span class="s0">( $field.filter(</span><span class="s3">'#' </span><span class="s0">+ identifier).size() &gt; </span><span class="s4">0 </span><span class="s0">) { 
              </span><span class="s2">return true</span><span class="s0">; 
            } 
            </span><span class="s2">else if</span><span class="s0">( $field.filter(</span><span class="s3">'[name=&quot;' </span><span class="s0">+ identifier +</span><span class="s3">'&quot;]'</span><span class="s0">).size() &gt; </span><span class="s4">0 </span><span class="s0">) { 
              </span><span class="s2">return true</span><span class="s0">; 
            } 
            </span><span class="s2">else if</span><span class="s0">( $field.filter(</span><span class="s3">'[data-' </span><span class="s0">+ metadata.validate + </span><span class="s3">'=&quot;'</span><span class="s0">+ identifier +</span><span class="s3">'&quot;]'</span><span class="s0">).size() &gt; </span><span class="s4">0 </span><span class="s0">) { 
              </span><span class="s2">return true</span><span class="s0">; 
            } 
            </span><span class="s2">return false</span><span class="s0">; 
          } 
 
        }, 
 
        add: { 
          prompt: </span><span class="s2">function</span><span class="s0">(identifier, errors) { 
            </span><span class="s2">var</span><span class="s0"> 
              $field       = module.get.field(identifier), 
              $fieldGroup  = $field.closest($group), 
              $prompt      = $fieldGroup.find(selector.prompt), 
              promptExists = ($prompt.size() !== </span><span class="s4">0</span><span class="s0">) 
            ; 
            errors = (</span><span class="s2">typeof </span><span class="s0">errors == </span><span class="s3">'string'</span><span class="s0">) 
              ? [errors] 
              : errors 
            ; 
            module.verbose(</span><span class="s3">'Adding field error state'</span><span class="s0">, identifier); 
            $fieldGroup 
              .addClass(className.error) 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.inline) { 
              </span><span class="s2">if</span><span class="s0">(!promptExists) { 
                $prompt = settings.templates.prompt(errors); 
                $prompt 
                  .appendTo($fieldGroup) 
                ; 
              } 
              $prompt 
                .html(errors[</span><span class="s4">0</span><span class="s0">]) 
              ; 
              </span><span class="s2">if</span><span class="s0">(!promptExists) { 
                </span><span class="s2">if</span><span class="s0">(settings.transition &amp;&amp; $.fn.transition !== undefined &amp;&amp; $module.transition(</span><span class="s3">'is supported'</span><span class="s0">)) { 
                  module.verbose(</span><span class="s3">'Displaying error with css transition'</span><span class="s0">, settings.transition); 
                  $prompt.transition(settings.transition + </span><span class="s3">' in'</span><span class="s0">, settings.duration); 
                } 
                </span><span class="s2">else </span><span class="s0">{ 
                  module.verbose(</span><span class="s3">'Displaying error with fallback javascript animation'</span><span class="s0">); 
                  $prompt 
                    .fadeIn(settings.duration) 
                  ; 
                } 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.verbose(</span><span class="s3">'Inline errors are disabled, no inline error added'</span><span class="s0">, identifier); 
              } 
            } 
          }, 
          errors: </span><span class="s2">function</span><span class="s0">(errors) { 
            module.debug(</span><span class="s3">'Adding form error messages'</span><span class="s0">, errors); 
            $message 
              .html( settings.templates.error(errors) ) 
            ; 
          } 
        }, 
 
        remove: { 
          prompt: </span><span class="s2">function</span><span class="s0">(field) { 
            </span><span class="s2">var</span><span class="s0"> 
              $field      = module.get.field(field.identifier), 
              $fieldGroup = $field.closest($group), 
              $prompt     = $fieldGroup.find(selector.prompt) 
            ; 
            $fieldGroup 
              .removeClass(className.error) 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.inline &amp;&amp; $prompt.is(</span><span class="s3">':visible'</span><span class="s0">)) { 
              module.verbose(</span><span class="s3">'Removing prompt for field'</span><span class="s0">, field); 
              </span><span class="s2">if</span><span class="s0">(settings.transition &amp;&amp; $.fn.transition !== undefined &amp;&amp; $module.transition(</span><span class="s3">'is supported'</span><span class="s0">)) { 
                $prompt.transition(settings.transition + </span><span class="s3">' out'</span><span class="s0">, settings.duration, </span><span class="s2">function</span><span class="s0">() { 
                  $prompt.remove(); 
                }); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $prompt 
                  .fadeOut(settings.duration, </span><span class="s2">function</span><span class="s0">(){ 
                    $prompt.remove(); 
                  }) 
                ; 
              } 
            } 
          } 
        }, 
 
        </span><span class="s2">set</span><span class="s0">: { 
          success: </span><span class="s2">function</span><span class="s0">() { 
            $module 
              .removeClass(className.error) 
              .addClass(className.success) 
            ; 
          }, 
          error: </span><span class="s2">function</span><span class="s0">() { 
            $module 
              .removeClass(className.success) 
              .addClass(className.error) 
            ; 
          } 
        }, 
 
        validate: { 
 
          form: </span><span class="s2">function</span><span class="s0">(event) { 
            </span><span class="s2">var</span><span class="s0"> 
              allValid = </span><span class="s2">true</span><span class="s0">, 
              apiRequest 
            ; 
            </span><span class="s1">// reset errors</span><span class="s0"> 
            formErrors = []; 
            $.each(validation, </span><span class="s2">function</span><span class="s0">(fieldName, field) { 
              </span><span class="s2">if</span><span class="s0">( !( module.validate.field(field) ) ) { 
                allValid = </span><span class="s2">false</span><span class="s0">; 
              } 
            }); 
            </span><span class="s2">if</span><span class="s0">(allValid) { 
              module.debug(</span><span class="s3">'Form has no validation errors, submitting'</span><span class="s0">); 
              module.set.success(); 
              </span><span class="s2">return </span><span class="s0">$.proxy(settings.onSuccess, </span><span class="s2">this</span><span class="s0">)(event); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug(</span><span class="s3">'Form has errors'</span><span class="s0">); 
              module.set.error(); 
              </span><span class="s2">if</span><span class="s0">(!settings.inline) { 
                module.add.errors(formErrors); 
              } 
              </span><span class="s1">// prevent ajax submit</span><span class="s0"> 
              </span><span class="s2">if</span><span class="s0">($module.data(</span><span class="s3">'moduleApi'</span><span class="s0">) !== undefined) { 
                event.stopImmediatePropagation(); 
              } 
              </span><span class="s2">return </span><span class="s0">$.proxy(settings.onFailure, </span><span class="s2">this</span><span class="s0">)(formErrors); 
            } 
          }, 
 
          </span><span class="s1">// takes a validation object and returns whether field passes validation</span><span class="s0"> 
          field: </span><span class="s2">function</span><span class="s0">(field) { 
            </span><span class="s2">var</span><span class="s0"> 
              $field      = module.get.field(field.identifier), 
              fieldValid  = </span><span class="s2">true</span><span class="s0">, 
              fieldErrors = [] 
            ; 
            </span><span class="s2">if</span><span class="s0">(field.rules !== undefined) { 
              $.each(field.rules, </span><span class="s2">function</span><span class="s0">(index, rule) { 
                </span><span class="s2">if</span><span class="s0">( module.has.field(field.identifier) &amp;&amp; !( module.validate.rule(field, rule) ) ) { 
                  module.debug(</span><span class="s3">'Field is invalid'</span><span class="s0">, field.identifier, rule.type); 
                  fieldErrors.push(rule.prompt); 
                  fieldValid = </span><span class="s2">false</span><span class="s0">; 
                } 
              }); 
            } 
            </span><span class="s2">if</span><span class="s0">(fieldValid) { 
              module.remove.prompt(field, fieldErrors); 
              $.proxy(settings.onValid, $field)(); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              formErrors = formErrors.concat(fieldErrors); 
              module.add.prompt(field.identifier, fieldErrors); 
              $.proxy(settings.onInvalid, $field)(fieldErrors); 
              </span><span class="s2">return false</span><span class="s0">; 
            } 
            </span><span class="s2">return true</span><span class="s0">; 
          }, 
 
          </span><span class="s1">// takes validation rule and returns whether field passes rule</span><span class="s0"> 
          rule: </span><span class="s2">function</span><span class="s0">(field, validation) { 
            </span><span class="s2">var</span><span class="s0"> 
              $field        = module.get.field(field.identifier), 
              type          = validation.type, 
              value         = $.trim($field.val() + </span><span class="s3">''</span><span class="s0">), 
 
              bracketRegExp = </span><span class="s4">/\[(.*)\]/i</span><span class="s0">, 
              bracket       = bracketRegExp.exec(type), 
              isValid       = </span><span class="s2">true</span><span class="s0">, 
              ancillary, 
              functionType 
            ; 
            </span><span class="s1">// if bracket notation is used, pass in extra parameters</span><span class="s0"> 
            </span><span class="s2">if</span><span class="s0">(bracket !== undefined &amp;&amp; bracket !== </span><span class="s2">null</span><span class="s0">) { 
              ancillary    = </span><span class="s3">'' </span><span class="s0">+ bracket[</span><span class="s4">1</span><span class="s0">]; 
              functionType = type.replace(bracket[</span><span class="s4">0</span><span class="s0">], </span><span class="s3">''</span><span class="s0">); 
              isValid      = $.proxy(settings.rules[functionType], $module)(value, ancillary); 
            } 
            </span><span class="s1">// normal notation</span><span class="s0"> 
            </span><span class="s2">else </span><span class="s0">{ 
              isValid = $.proxy(settings.rules[type], $field)(value); 
            } 
            </span><span class="s2">return </span><span class="s0">isValid; 
          } 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">($allModules.size() &gt; </span><span class="s4">1</span><span class="s0">) { 
              title += </span><span class="s3">' ' </span><span class="s0">+ </span><span class="s3">'(' </span><span class="s0">+ $allModules.size() + </span><span class="s3">')'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
 
    }) 
  ; 
 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.form.settings = { 
 
  name              : </span><span class="s3">'Form'</span><span class="s0">, 
  namespace         : </span><span class="s3">'form'</span><span class="s0">, 
 
  debug             : </span><span class="s2">false</span><span class="s0">, 
  verbose           : </span><span class="s2">true</span><span class="s0">, 
  performance       : </span><span class="s2">true</span><span class="s0">, 
 
 
  keyboardShortcuts : </span><span class="s2">true</span><span class="s0">, 
  on                : </span><span class="s3">'submit'</span><span class="s0">, 
  inline            : </span><span class="s2">false</span><span class="s0">, 
 
  delay             : </span><span class="s4">200</span><span class="s0">, 
  revalidate        : </span><span class="s2">true</span><span class="s0">, 
 
  transition        : </span><span class="s3">'scale'</span><span class="s0">, 
  duration          : </span><span class="s4">150</span><span class="s0">, 
 
 
  onValid           : </span><span class="s2">function</span><span class="s0">() {}, 
  onInvalid         : </span><span class="s2">function</span><span class="s0">() {}, 
  onSuccess         : </span><span class="s2">function</span><span class="s0">() { </span><span class="s2">return true</span><span class="s0">; }, 
  onFailure         : </span><span class="s2">function</span><span class="s0">() { </span><span class="s2">return false</span><span class="s0">; }, 
 
  metadata : { 
    validate: </span><span class="s3">'validate'</span><span class="s0"> 
  }, 
 
  selector : { 
    message : </span><span class="s3">'.error.message'</span><span class="s0">, 
    field   : </span><span class="s3">'input, textarea, select'</span><span class="s0">, 
    group   : </span><span class="s3">'.field'</span><span class="s0">, 
    checkbox: </span><span class="s3">'input[type=&quot;checkbox&quot;], input[type=&quot;radio&quot;]'</span><span class="s0">, 
    input   : </span><span class="s3">'input'</span><span class="s0">, 
    prompt  : </span><span class="s3">'.prompt'</span><span class="s0">, 
    submit  : </span><span class="s3">'.submit'</span><span class="s0"> 
  }, 
 
  className : { 
    error   : </span><span class="s3">'error'</span><span class="s0">, 
    success : </span><span class="s3">'success'</span><span class="s0">, 
    down    : </span><span class="s3">'down'</span><span class="s0">, 
    label   : </span><span class="s3">'ui label prompt'</span><span class="s0"> 
  }, 
 
  </span><span class="s1">// errors</span><span class="s0"> 
  error: { 
    method   : </span><span class="s3">'The method you called is not defined.'</span><span class="s0"> 
  }, 
 
 
  templates: { 
    error: </span><span class="s2">function</span><span class="s0">(errors) { 
      </span><span class="s2">var</span><span class="s0"> 
        html = </span><span class="s3">'&lt;ul class=&quot;list&quot;&gt;'</span><span class="s0"> 
      ; 
      $.each(errors, </span><span class="s2">function</span><span class="s0">(index, value) { 
        html += </span><span class="s3">'&lt;li&gt;' </span><span class="s0">+ value + </span><span class="s3">'&lt;/li&gt;'</span><span class="s0">; 
      }); 
      html += </span><span class="s3">'&lt;/ul&gt;'</span><span class="s0">; 
      </span><span class="s2">return </span><span class="s0">$(html); 
    }, 
    prompt: </span><span class="s2">function</span><span class="s0">(errors) { 
      </span><span class="s2">return </span><span class="s0">$(</span><span class="s3">'&lt;div/&gt;'</span><span class="s0">) 
        .addClass(</span><span class="s3">'ui red pointing prompt label'</span><span class="s0">) 
        .html(errors[</span><span class="s4">0</span><span class="s0">]) 
      ; 
    } 
  }, 
 
  rules: { 
    checked: </span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">return </span><span class="s0">($(</span><span class="s2">this</span><span class="s0">).filter(</span><span class="s3">':checked'</span><span class="s0">).size() &gt; </span><span class="s4">0</span><span class="s0">); 
    }, 
    empty: </span><span class="s2">function</span><span class="s0">(value) { 
      </span><span class="s2">return </span><span class="s0">!(value === undefined || </span><span class="s3">'' </span><span class="s0">=== value); 
    }, 
    email: </span><span class="s2">function</span><span class="s0">(value){ 
      </span><span class="s2">var</span><span class="s0"> 
        emailRegExp = </span><span class="s2">new </span><span class="s0">RegExp(</span><span class="s3">&quot;[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:</span><span class="s2">\\</span><span class="s3">.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?</span><span class="s2">\\</span><span class="s3">.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?&quot;</span><span class="s0">, </span><span class="s3">&quot;i&quot;</span><span class="s0">) 
      ; 
      </span><span class="s2">return </span><span class="s0">emailRegExp.test(value); 
    }, 
    length: </span><span class="s2">function</span><span class="s0">(value, requiredLength) { 
      </span><span class="s2">return </span><span class="s0">(value !== undefined) 
        ? (value.length &gt;= requiredLength) 
        : </span><span class="s2">false</span><span class="s0"> 
      ; 
    }, 
    not: </span><span class="s2">function</span><span class="s0">(value, notValue) { 
      </span><span class="s2">return </span><span class="s0">(value != notValue); 
    }, 
    contains: </span><span class="s2">function</span><span class="s0">(value, text) { 
      text = text.replace(</span><span class="s4">/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g</span><span class="s0">, </span><span class="s3">&quot;</span><span class="s2">\\</span><span class="s3">$&amp;&quot;</span><span class="s0">); 
      </span><span class="s2">return </span><span class="s0">(value.search(text) !== -</span><span class="s4">1</span><span class="s0">); 
    }, 
    is: </span><span class="s2">function</span><span class="s0">(value, text) { 
      </span><span class="s2">return </span><span class="s0">(value == text); 
    }, 
    maxLength: </span><span class="s2">function</span><span class="s0">(value, maxLength) { 
      </span><span class="s2">return </span><span class="s0">(value !== undefined) 
        ? (value.length &lt;= maxLength) 
        : </span><span class="s2">false</span><span class="s0"> 
      ; 
    }, 
    match: </span><span class="s2">function</span><span class="s0">(value, fieldIdentifier) { 
      </span><span class="s1">// use either id or name of field</span><span class="s0"> 
      </span><span class="s2">var</span><span class="s0"> 
        $form = $(</span><span class="s2">this</span><span class="s0">), 
        matchingValue 
      ; 
      </span><span class="s2">if</span><span class="s0">($form.find(</span><span class="s3">'#' </span><span class="s0">+ fieldIdentifier).size() &gt; </span><span class="s4">0</span><span class="s0">) { 
        matchingValue = $form.find(</span><span class="s3">'#' </span><span class="s0">+ fieldIdentifier).val(); 
      } 
      </span><span class="s2">else if</span><span class="s0">($form.find(</span><span class="s3">'[name=&quot;' </span><span class="s0">+ fieldIdentifier +</span><span class="s3">'&quot;]'</span><span class="s0">).size() &gt; </span><span class="s4">0</span><span class="s0">) { 
        matchingValue = $form.find(</span><span class="s3">'[name=&quot;' </span><span class="s0">+ fieldIdentifier + </span><span class="s3">'&quot;]'</span><span class="s0">).val(); 
      } 
      </span><span class="s2">else if</span><span class="s0">( $form.find(</span><span class="s3">'[data-validate=&quot;'</span><span class="s0">+ fieldIdentifier +</span><span class="s3">'&quot;]'</span><span class="s0">).size() &gt; </span><span class="s4">0 </span><span class="s0">) { 
        matchingValue = $form.find(</span><span class="s3">'[data-validate=&quot;'</span><span class="s0">+ fieldIdentifier +</span><span class="s3">'&quot;]'</span><span class="s0">).val(); 
      } 
      </span><span class="s2">return </span><span class="s0">(matchingValue !== undefined) 
        ? ( value.toString() == matchingValue.toString() ) 
        : </span><span class="s2">false</span><span class="s0"> 
      ; 
    }, 
    url: </span><span class="s2">function</span><span class="s0">(value) { 
      </span><span class="s2">var</span><span class="s0"> 
        urlRegExp = </span><span class="s4">/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&amp;%@!\-\/]))?/</span><span class="s0"> 
      ; 
      </span><span class="s2">return </span><span class="s0">urlRegExp.test(value); 
    }, 
    integer: </span><span class="s2">function</span><span class="s0">(value, range) { 
      </span><span class="s2">var</span><span class="s0"> 
        intRegExp = </span><span class="s4">/^\-?\d+$/</span><span class="s0">, 
        min, 
        max, 
        parts 
      ; 
      </span><span class="s2">if </span><span class="s0">(range === undefined || range === </span><span class="s3">'' </span><span class="s0">|| range === </span><span class="s3">'..'</span><span class="s0">) { 
        </span><span class="s1">// do nothing</span><span class="s0"> 
      } 
      </span><span class="s2">else if </span><span class="s0">(range.indexOf(</span><span class="s3">'..'</span><span class="s0">) == -</span><span class="s4">1</span><span class="s0">) { 
        </span><span class="s2">if </span><span class="s0">(intRegExp.test(range)) { 
          min = max = range - </span><span class="s4">0</span><span class="s0">; 
        } 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        parts = range.split(</span><span class="s3">'..'</span><span class="s0">, </span><span class="s4">2</span><span class="s0">); 
        </span><span class="s2">if </span><span class="s0">(intRegExp.test(parts[</span><span class="s4">0</span><span class="s0">])) { 
          min = parts[</span><span class="s4">0</span><span class="s0">] - </span><span class="s4">0</span><span class="s0">; 
        } 
        </span><span class="s2">if </span><span class="s0">(intRegExp.test(parts[</span><span class="s4">1</span><span class="s0">])) { 
          max = parts[</span><span class="s4">1</span><span class="s0">] - </span><span class="s4">0</span><span class="s0">; 
        } 
      } 
      </span><span class="s2">return </span><span class="s0">( 
        intRegExp.test(value) &amp;&amp; 
        (min === undefined || value &gt;= min) &amp;&amp; 
        (max === undefined || value &lt;= max) 
      ); 
    } 
  } 
 
}; 
 
})( jQuery, window , document ); 
 
</span><span class="s1">/* 
 * # Semantic - Modal 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">( $, window, document, undefined ) { 
 
</span><span class="s3">&quot;use strict&quot;</span><span class="s0">; 
 
$.fn.modal = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules    = $(</span><span class="s2">this</span><span class="s0">), 
    $window        = $(window), 
    $document      = $(document), 
    $body          = $(</span><span class="s3">'body'</span><span class="s0">), 
 
    moduleSelector = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
    time           = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance    = [], 
 
    query          = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked  = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
 
    requestAnimationFrame = window.requestAnimationFrame 
      || window.mozRequestAnimationFrame 
      || window.webkitRequestAnimationFrame 
      || window.msRequestAnimationFrame 
      || </span><span class="s2">function</span><span class="s0">(callback) { setTimeout(callback, </span><span class="s4">0</span><span class="s0">); }, 
 
    returnedValue 
  ; 
 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings    = ( $.isPlainObject(parameters) ) 
          ? $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.modal.settings, parameters) 
          : $.extend({}, $.fn.modal.settings), 
 
        selector        = settings.selector, 
        className       = settings.className, 
        namespace       = settings.namespace, 
        error           = settings.error, 
 
        eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace = </span><span class="s3">'module-' </span><span class="s0">+ namespace, 
 
        $module      = $(</span><span class="s2">this</span><span class="s0">), 
        $context     = $(settings.context), 
        $close       = $module.find(selector.close), 
 
        $allModals, 
        $otherModals, 
        $focusedElement, 
        $dimmable, 
        $dimmer, 
 
        element      = </span><span class="s2">this</span><span class="s0">, 
        instance     = $module.data(moduleNamespace), 
        observer, 
        module 
      ; 
      module  = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Initializing dimmer'</span><span class="s0">, $context); 
 
          </span><span class="s2">if</span><span class="s0">($.fn.dimmer === undefined) { 
            module.error(error.dimmer); 
            </span><span class="s2">return</span><span class="s0">; 
          } 
 
          $dimmable = $context 
            .dimmer({ 
              debug      : settings.debug, 
              dimmerName : </span><span class="s3">'modals'</span><span class="s0">, 
              closable   : </span><span class="s2">false</span><span class="s0">, 
              useCSS     : </span><span class="s2">true</span><span class="s0">, 
              duration   : { 
                show     : settings.duration * </span><span class="s4">0.9</span><span class="s0">, 
                hide     : settings.duration * </span><span class="s4">1.1</span><span class="s0"> 
              } 
            }) 
          ; 
          </span><span class="s2">if</span><span class="s0">(settings.detachable) { 
            $dimmable.dimmer(</span><span class="s3">'add content'</span><span class="s0">, $module); 
          } 
 
          $dimmer = $dimmable.dimmer(</span><span class="s3">'get dimmer'</span><span class="s0">); 
          $otherModals = $module.siblings(selector.modal); 
          $allModals   = $otherModals.add($module); 
 
          module.verbose(</span><span class="s3">'Attaching close events'</span><span class="s0">, $close); 
          module.bind.events(); 
          module.observeChanges(); 
 
          module.instantiate(); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of modal'</span><span class="s0">); 
          instance = module; 
          $module 
            .data(moduleNamespace, instance) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying previous modal'</span><span class="s0">); 
          $module 
            .removeData(moduleNamespace) 
            .off(eventNamespace) 
          ; 
          $close.off(eventNamespace); 
          $context.dimmer(</span><span class="s3">'destroy'</span><span class="s0">); 
        }, 
 
        observeChanges: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s3">'MutationObserver' </span><span class="s2">in </span><span class="s0">window) { 
            observer = </span><span class="s2">new </span><span class="s0">MutationObserver(</span><span class="s2">function</span><span class="s0">(mutations) { 
              module.debug(</span><span class="s3">'DOM tree modified, refreshing'</span><span class="s0">); 
              module.refresh(); 
            }); 
            observer.observe(element, { 
              childList : </span><span class="s2">true</span><span class="s0">, 
              subtree   : </span><span class="s2">true</span><span class="s0"> 
            }); 
            module.debug(</span><span class="s3">'Setting up mutation observer'</span><span class="s0">, observer); 
          } 
        }, 
 
        refresh: </span><span class="s2">function</span><span class="s0">() { 
          module.remove.scrolling(); 
          module.cacheSizes(); 
          module.set.screenHeight(); 
          module.set.type(); 
          module.set.position(); 
        }, 
 
        attachEvents: </span><span class="s2">function</span><span class="s0">(selector, event) { 
          </span><span class="s2">var</span><span class="s0"> 
            $toggle = $(selector) 
          ; 
          event = $.isFunction(module[event]) 
            ? module[event] 
            : module.toggle 
          ; 
          </span><span class="s2">if</span><span class="s0">($toggle.size() &gt; </span><span class="s4">0</span><span class="s0">) { 
            module.debug(</span><span class="s3">'Attaching modal events to element'</span><span class="s0">, selector, event); 
            $toggle 
              .off(eventNamespace) 
              .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, event) 
            ; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.error(error.notFound, selector); 
          } 
        }, 
 
        bind: { 
          events: </span><span class="s2">function</span><span class="s0">() { 
            $close 
              .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, module.event.close) 
            ; 
            $window 
              .on(</span><span class="s3">'resize' </span><span class="s0">+ eventNamespace, module.event.resize) 
            ; 
          } 
        }, 
 
        event: { 
          close: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Closing element pressed'</span><span class="s0">); 
            </span><span class="s2">if</span><span class="s0">( $(</span><span class="s2">this</span><span class="s0">).is(selector.approve) ) { 
              </span><span class="s2">if</span><span class="s0">($.proxy(settings.onApprove, element)() !== </span><span class="s2">false</span><span class="s0">) { 
                module.hide(); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.verbose(</span><span class="s3">'Approve callback returned false cancelling hide'</span><span class="s0">); 
              } 
            } 
            </span><span class="s2">else if</span><span class="s0">( $(</span><span class="s2">this</span><span class="s0">).is(selector.deny) ) { 
              </span><span class="s2">if</span><span class="s0">($.proxy(settings.onDeny, element)() !== </span><span class="s2">false</span><span class="s0">) { 
                module.hide(); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.verbose(</span><span class="s3">'Deny callback returned false cancelling hide'</span><span class="s0">); 
              } 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.hide(); 
            } 
          }, 
          click: </span><span class="s2">function</span><span class="s0">(event) { 
            </span><span class="s2">if</span><span class="s0">( $(event.target).closest(selector.modal).size() === </span><span class="s4">0 </span><span class="s0">) { 
              module.debug(</span><span class="s3">'Dimmer clicked, hiding all modals'</span><span class="s0">); 
              </span><span class="s2">if</span><span class="s0">(settings.allowMultiple) { 
                module.hide(); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.hideAll(); 
              } 
              event.stopImmediatePropagation(); 
            } 
          }, 
          debounce: </span><span class="s2">function</span><span class="s0">(method, delay) { 
            clearTimeout(module.timer); 
            module.timer = setTimeout(method, delay); 
          }, 
          keyboard: </span><span class="s2">function</span><span class="s0">(event) { 
            </span><span class="s2">var</span><span class="s0"> 
              keyCode   = event.which, 
              escapeKey = </span><span class="s4">27</span><span class="s0"> 
            ; 
            </span><span class="s2">if</span><span class="s0">(keyCode == escapeKey) { 
              </span><span class="s2">if</span><span class="s0">(settings.closable) { 
                module.debug(</span><span class="s3">'Escape key pressed hiding modal'</span><span class="s0">); 
                module.hide(); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.debug(</span><span class="s3">'Escape key pressed, but closable is set to false'</span><span class="s0">); 
              } 
              event.preventDefault(); 
            } 
          }, 
          resize: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">( $dimmable.dimmer(</span><span class="s3">'is active'</span><span class="s0">) ) { 
              requestAnimationFrame(module.refresh); 
            } 
          } 
        }, 
 
        toggle: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">( module.is.active() || module.is.animating() ) { 
            module.hide(); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.show(); 
          } 
        }, 
 
        show: </span><span class="s2">function</span><span class="s0">(callback) { 
          callback = $.isFunction(callback) 
            ? callback 
            : </span><span class="s2">function</span><span class="s0">(){} 
          ; 
          module.showDimmer(); 
          module.showModal(callback); 
        }, 
 
        showModal: </span><span class="s2">function</span><span class="s0">(callback) { 
          callback = $.isFunction(callback) 
            ? callback 
            : </span><span class="s2">function</span><span class="s0">(){} 
          ; 
          </span><span class="s2">if</span><span class="s0">( !module.is.active() ) { 
 
            </span><span class="s2">if</span><span class="s0">( $otherModals.filter(</span><span class="s3">':visible'</span><span class="s0">).size() &gt; </span><span class="s4">0 </span><span class="s0">&amp;&amp; !settings.allowMultiple) { 
              module.debug(</span><span class="s3">'Other modals visible, queueing show animation'</span><span class="s0">); 
              module.hideOthers(module.showModal); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              $.proxy(settings.onShow, element)(); 
              </span><span class="s2">if</span><span class="s0">(settings.transition &amp;&amp; $.fn.transition !== undefined &amp;&amp; $module.transition(</span><span class="s3">'is supported'</span><span class="s0">)) { 
                module.debug(</span><span class="s3">'Showing modal with css animations'</span><span class="s0">); 
                module.cacheSizes(); 
                module.set.position(); 
                module.set.screenHeight(); 
                module.set.type(); 
                $module 
                  .transition({ 
                    debug     : settings.debug, 
                    animation : settings.transition + </span><span class="s3">' in'</span><span class="s0">, 
                    queue     : </span><span class="s2">false</span><span class="s0">, 
                    duration  : settings.duration, 
                    onStart   : </span><span class="s2">function</span><span class="s0">() { 
                      module.set.clickaway(); 
                    }, 
                    onComplete : </span><span class="s2">function</span><span class="s0">() { 
                      $.proxy(settings.onVisible, element)(); 
                      module.add.keyboardShortcuts(); 
                      module.save.focus(); 
                      module.set.active(); 
                      module.set.autofocus(); 
                      callback(); 
                    } 
                  }) 
                ; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.debug(</span><span class="s3">'Showing modal with javascript'</span><span class="s0">); 
                $module 
                  .fadeIn(settings.duration, settings.easing, </span><span class="s2">function</span><span class="s0">() { 
                    $.proxy(settings.onVisible, element)(); 
                    module.add.keyboardShortcuts(); 
                    module.save.focus(); 
                    module.set.active(); 
                    callback(); 
                  }) 
                ; 
              } 
            } 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.debug(</span><span class="s3">'Modal is already visible'</span><span class="s0">); 
          } 
        }, 
 
        showDimmer: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">( !$dimmable.dimmer(</span><span class="s3">'is active'</span><span class="s0">) ) { 
            module.debug(</span><span class="s3">'Showing dimmer'</span><span class="s0">); 
            $dimmable.dimmer(</span><span class="s3">'show'</span><span class="s0">); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.debug(</span><span class="s3">'Dimmer already visible'</span><span class="s0">); 
          } 
        }, 
 
        hide: </span><span class="s2">function</span><span class="s0">(callback) { 
          callback = $.isFunction(callback) 
            ? callback 
            : </span><span class="s2">function</span><span class="s0">(){} 
          ; 
          </span><span class="s2">if</span><span class="s0">($allModals.filter(</span><span class="s3">':visible'</span><span class="s0">).size() &lt;= </span><span class="s4">1</span><span class="s0">) { 
            module.hideDimmer(); 
          } 
          module.hideModal(callback); 
        }, 
 
        hideDimmer: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">( !($dimmable.dimmer(</span><span class="s3">'is active'</span><span class="s0">) || $dimmable.dimmer(</span><span class="s3">'is animating'</span><span class="s0">)) ) { 
            module.debug(</span><span class="s3">'Dimmer is not visible cannot hide'</span><span class="s0">); 
            </span><span class="s2">return</span><span class="s0">; 
          } 
          module.debug(</span><span class="s3">'Hiding dimmer'</span><span class="s0">); 
          module.remove.clickaway(); 
          $dimmable.dimmer(</span><span class="s3">'hide'</span><span class="s0">, </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(settings.transition &amp;&amp; $.fn.transition !== undefined &amp;&amp; $module.transition(</span><span class="s3">'is supported'</span><span class="s0">)) { 
              module.remove.screenHeight(); 
            } 
            module.remove.active(); 
          }); 
        }, 
 
        hideModal: </span><span class="s2">function</span><span class="s0">(callback) { 
          callback = $.isFunction(callback) 
            ? callback 
            : </span><span class="s2">function</span><span class="s0">(){} 
          ; 
          module.debug(</span><span class="s3">'Hiding modal'</span><span class="s0">); 
          $.proxy(settings.onHide, element)(); 
          </span><span class="s2">if</span><span class="s0">(settings.transition &amp;&amp; $.fn.transition !== undefined &amp;&amp; $module.transition(</span><span class="s3">'is supported'</span><span class="s0">)) { 
            $module 
              .transition({ 
                debug      : settings.debug, 
                animation  : settings.transition + </span><span class="s3">' out'</span><span class="s0">, 
                queue      : </span><span class="s2">false</span><span class="s0">, 
                duration   : settings.duration, 
                onStart    : </span><span class="s2">function</span><span class="s0">() { 
                  module.remove.keyboardShortcuts(); 
                }, 
                onComplete : </span><span class="s2">function</span><span class="s0">() { 
                  $.proxy(settings.onHidden, element)(); 
                  module.remove.active(); 
                  module.restore.focus(); 
                  callback(); 
                } 
              }) 
            ; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.remove.keyboardShortcuts(); 
            $module 
              .fadeOut(settings.duration, settings.easing, </span><span class="s2">function</span><span class="s0">() { 
                $.proxy(settings.onHidden, element)(); 
                module.remove.active(); 
                module.restore.focus(); 
                callback(); 
              }) 
            ; 
          } 
        }, 
 
        hideAll: </span><span class="s2">function</span><span class="s0">(callback) { 
          callback = $.isFunction(callback) 
            ? callback 
            : </span><span class="s2">function</span><span class="s0">(){} 
          ; 
          </span><span class="s2">if</span><span class="s0">( $allModals.is(</span><span class="s3">':visible'</span><span class="s0">) ) { 
            module.debug(</span><span class="s3">'Hiding all visible modals'</span><span class="s0">); 
            module.hideDimmer(); 
            $allModals 
              .filter(</span><span class="s3">':visible'</span><span class="s0">) 
                .modal(</span><span class="s3">'hide modal'</span><span class="s0">, callback) 
            ; 
          } 
        }, 
 
        hideOthers: </span><span class="s2">function</span><span class="s0">(callback) { 
          callback = $.isFunction(callback) 
            ? callback 
            : </span><span class="s2">function</span><span class="s0">(){} 
          ; 
          </span><span class="s2">if</span><span class="s0">( $otherModals.is(</span><span class="s3">':visible'</span><span class="s0">) ) { 
            module.debug(</span><span class="s3">'Hiding other modals'</span><span class="s0">, $otherModals); 
            $otherModals 
              .filter(</span><span class="s3">':visible'</span><span class="s0">) 
                .modal(</span><span class="s3">'hide modal'</span><span class="s0">, callback) 
            ; 
          } 
        }, 
 
        add: { 
          keyboardShortcuts: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Adding keyboard shortcuts'</span><span class="s0">); 
            $document 
              .on(</span><span class="s3">'keyup' </span><span class="s0">+ eventNamespace, module.event.keyboard) 
            ; 
          } 
        }, 
 
        save: { 
          focus: </span><span class="s2">function</span><span class="s0">() { 
            $focusedElement = $(document.activeElement).blur(); 
          } 
        }, 
 
        restore: { 
          focus: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">($focusedElement &amp;&amp; $focusedElement.size() &gt; </span><span class="s4">0</span><span class="s0">) { 
              $focusedElement.focus(); 
            } 
          } 
        }, 
 
        remove: { 
          active: </span><span class="s2">function</span><span class="s0">() { 
            $module.removeClass(className.active); 
          }, 
          clickaway: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(settings.closable) { 
              $dimmer 
                .off(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace) 
              ; 
            } 
          }, 
          screenHeight: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.cache.height &gt; module.cache.pageHeight) { 
              module.debug(</span><span class="s3">'Removing page height'</span><span class="s0">); 
              $body 
                .css(</span><span class="s3">'height'</span><span class="s0">, </span><span class="s3">''</span><span class="s0">) 
              ; 
            } 
          }, 
          keyboardShortcuts: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Removing keyboard shortcuts'</span><span class="s0">); 
            $document 
              .off(</span><span class="s3">'keyup' </span><span class="s0">+ eventNamespace) 
            ; 
          }, 
          scrolling: </span><span class="s2">function</span><span class="s0">() { 
            $dimmable.removeClass(className.scrolling); 
            $module.removeClass(className.scrolling); 
          } 
        }, 
 
        cacheSizes: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">var</span><span class="s0"> 
            modalHeight = $module.outerHeight() 
          ; 
          </span><span class="s2">if</span><span class="s0">(module.cache === undefined || modalHeight !== </span><span class="s4">0</span><span class="s0">) { 
            module.cache = { 
              pageHeight    : $(document).outerHeight(), 
              height        : modalHeight + settings.offset, 
              contextHeight : (settings.context == </span><span class="s3">'body'</span><span class="s0">) 
                ? $(window).height() 
                : $dimmable.height() 
            }; 
          } 
          module.debug(</span><span class="s3">'Caching modal and container sizes'</span><span class="s0">, module.cache); 
        }, 
 
        can: { 
          fit: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">(module.cache.height &lt; module.cache.contextHeight); 
          } 
        }, 
 
        is: { 
          active: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.active); 
          }, 
          animating: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.transition(</span><span class="s3">'is supported'</span><span class="s0">) 
              ? $module.transition(</span><span class="s3">'is animating'</span><span class="s0">) 
              : $module.is(</span><span class="s3">':visible'</span><span class="s0">) 
            ; 
          }, 
          modernBrowser: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s1">// appName for IE11 reports 'Netscape' can no longer use</span><span class="s0"> 
            </span><span class="s2">return </span><span class="s0">!(window.ActiveXObject || </span><span class="s3">&quot;ActiveXObject&quot; </span><span class="s2">in </span><span class="s0">window); 
          } 
        }, 
 
        </span><span class="s2">set</span><span class="s0">: { 
          autofocus: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(settings.autofocus) { 
              </span><span class="s2">var</span><span class="s0"> 
                $inputs    = $module.find(</span><span class="s3">':input:visible'</span><span class="s0">), 
                $autofocus = $inputs.filter(</span><span class="s3">'[autofocus]'</span><span class="s0">), 
                $input     = ($autofocus.size() &gt; </span><span class="s4">0</span><span class="s0">) 
                  ? $autofocus 
                  : $inputs 
              ; 
              $input.first().focus(); 
            } 
          }, 
          clickaway: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(settings.closable) { 
              $dimmer 
                .off(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace) 
                .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, module.event.click) 
              ; 
            } 
          }, 
          screenHeight: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.cache.height &gt; module.cache.pageHeight) { 
              module.debug(</span><span class="s3">'Modal is taller than page content, resizing page height'</span><span class="s0">); 
              $body 
                .css(</span><span class="s3">'height'</span><span class="s0">, module.cache.height + settings.padding) 
              ; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              $body.css(</span><span class="s3">'height'</span><span class="s0">, </span><span class="s3">''</span><span class="s0">); 
            } 
          }, 
          active: </span><span class="s2">function</span><span class="s0">() { 
            $module.addClass(className.active); 
          }, 
          scrolling: </span><span class="s2">function</span><span class="s0">() { 
            $dimmable.addClass(className.scrolling); 
            $module.addClass(className.scrolling); 
          }, 
          type: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.can.fit()) { 
              module.verbose(</span><span class="s3">'Modal fits on screen'</span><span class="s0">); 
              module.remove.scrolling(); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose(</span><span class="s3">'Modal cannot fit on screen setting to scrolling'</span><span class="s0">); 
              module.set.scrolling(); 
            } 
          }, 
          position: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Centering modal on page'</span><span class="s0">, module.cache); 
            </span><span class="s2">if</span><span class="s0">(module.can.fit()) { 
              $module 
                .css({ 
                  top: </span><span class="s3">''</span><span class="s0">, 
                  marginTop: -(module.cache.height / </span><span class="s4">2</span><span class="s0">) 
                }) 
              ; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              $module 
                .css({ 
                  marginTop : </span><span class="s3">''</span><span class="s0">, 
                  top       : $document.scrollTop() 
                }) 
              ; 
            } 
          } 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing setting'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
    }) 
  ; 
 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.modal.settings = { 
 
  name          : </span><span class="s3">'Modal'</span><span class="s0">, 
  namespace     : </span><span class="s3">'modal'</span><span class="s0">, 
 
  debug         : </span><span class="s2">false</span><span class="s0">, 
  verbose       : </span><span class="s2">true</span><span class="s0">, 
  performance   : </span><span class="s2">true</span><span class="s0">, 
 
  allowMultiple : </span><span class="s2">false</span><span class="s0">, 
  detachable    : </span><span class="s2">true</span><span class="s0">, 
  closable      : </span><span class="s2">true</span><span class="s0">, 
  autofocus     : </span><span class="s2">true</span><span class="s0">, 
 
  context       : </span><span class="s3">'body'</span><span class="s0">, 
 
  duration      : </span><span class="s4">500</span><span class="s0">, 
  easing        : </span><span class="s3">'easeOutExpo'</span><span class="s0">, 
  offset        : </span><span class="s4">0</span><span class="s0">, 
  transition    : </span><span class="s3">'scale'</span><span class="s0">, 
 
  padding       : </span><span class="s4">30</span><span class="s0">, 
 
  onShow        : </span><span class="s2">function</span><span class="s0">(){}, 
  onHide        : </span><span class="s2">function</span><span class="s0">(){}, 
 
  onVisible     : </span><span class="s2">function</span><span class="s0">(){}, 
  onHidden      : </span><span class="s2">function</span><span class="s0">(){}, 
 
  onApprove     : </span><span class="s2">function</span><span class="s0">(){ </span><span class="s2">return true</span><span class="s0">; }, 
  onDeny        : </span><span class="s2">function</span><span class="s0">(){ </span><span class="s2">return true</span><span class="s0">; }, 
 
  selector    : { 
    close    : </span><span class="s3">'.close, .actions .button'</span><span class="s0">, 
    approve  : </span><span class="s3">'.actions .positive, .actions .approve, .actions .ok'</span><span class="s0">, 
    deny     : </span><span class="s3">'.actions .negative, .actions .deny, .actions .cancel'</span><span class="s0">, 
    modal    : </span><span class="s3">'.ui.modal'</span><span class="s0"> 
  }, 
  error : { 
    dimmer    : </span><span class="s3">'UI Dimmer, a required component is not included in this page'</span><span class="s0">, 
    method    : </span><span class="s3">'The method you called is not defined.'</span><span class="s0">, 
    notFound  : </span><span class="s3">'The element you specified could not be found'</span><span class="s0"> 
  }, 
  className : { 
    active    : </span><span class="s3">'active'</span><span class="s0">, 
    scrolling : </span><span class="s3">'scrolling'</span><span class="s0"> 
  } 
}; 
 
 
})( jQuery, window , document ); 
 
</span><span class="s1">/* 
 * # Semantic - Nag 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">($, window, document, undefined) { 
 
</span><span class="s3">&quot;use strict&quot;</span><span class="s0">; 
 
$.fn.nag = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules    = $(</span><span class="s2">this</span><span class="s0">), 
    moduleSelector = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
    time           = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance    = [], 
 
    query          = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked  = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
    returnedValue 
  ; 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings          = ( $.isPlainObject(parameters) ) 
          ? $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.nag.settings, parameters) 
          : $.extend({}, $.fn.nag.settings), 
 
        className       = settings.className, 
        selector        = settings.selector, 
        error           = settings.error, 
        namespace       = settings.namespace, 
 
        eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace = namespace + </span><span class="s3">'-module'</span><span class="s0">, 
 
        $module         = $(</span><span class="s2">this</span><span class="s0">), 
 
        $close          = $module.find(selector.close), 
        $context        = (settings.context) 
          ? $(settings.context) 
          : $(</span><span class="s3">'body'</span><span class="s0">), 
 
        element         = </span><span class="s2">this</span><span class="s0">, 
        instance        = $module.data(moduleNamespace), 
 
        moduleOffset, 
        moduleHeight, 
 
        contextWidth, 
        contextHeight, 
        contextOffset, 
 
        yOffset, 
        yPosition, 
 
        timer, 
        module, 
 
        requestAnimationFrame = window.requestAnimationFrame 
          || window.mozRequestAnimationFrame 
          || window.webkitRequestAnimationFrame 
          || window.msRequestAnimationFrame 
          || </span><span class="s2">function</span><span class="s0">(callback) { setTimeout(callback, </span><span class="s4">0</span><span class="s0">); } 
      ; 
      module = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Initializing element'</span><span class="s0">); 
 
          $module 
            .data(moduleNamespace, module) 
          ; 
          $close 
            .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, module.dismiss) 
          ; 
 
          </span><span class="s2">if</span><span class="s0">(settings.detachable &amp;&amp; $module.parent()[</span><span class="s4">0</span><span class="s0">] !== $context[</span><span class="s4">0</span><span class="s0">]) { 
            $module 
              .detach() 
              .prependTo($context) 
            ; 
          } 
 
          </span><span class="s2">if</span><span class="s0">(settings.displayTime &gt; </span><span class="s4">0</span><span class="s0">) { 
            setTimeout(module.hide, settings.displayTime); 
          } 
          module.show(); 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying instance'</span><span class="s0">); 
          $module 
            .removeData(moduleNamespace) 
            .off(eventNamespace) 
          ; 
        }, 
 
        show: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">( module.should.show() &amp;&amp; !$module.is(</span><span class="s3">':visible'</span><span class="s0">) ) { 
            module.debug(</span><span class="s3">'Showing nag'</span><span class="s0">, settings.animation.show); 
            </span><span class="s2">if</span><span class="s0">(settings.animation.show == </span><span class="s3">'fade'</span><span class="s0">) { 
              $module 
                .fadeIn(settings.duration, settings.easing) 
              ; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              $module 
                .slideDown(settings.duration, settings.easing) 
              ; 
            } 
          } 
        }, 
 
        hide: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Showing nag'</span><span class="s0">, settings.animation.hide); 
          </span><span class="s2">if</span><span class="s0">(settings.animation.show == </span><span class="s3">'fade'</span><span class="s0">) { 
            $module 
              .fadeIn(settings.duration, settings.easing) 
            ; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            $module 
              .slideUp(settings.duration, settings.easing) 
            ; 
          } 
        }, 
 
        onHide: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Removing nag'</span><span class="s0">, settings.animation.hide); 
          $module.remove(); 
          </span><span class="s2">if </span><span class="s0">(settings.onHide) { 
            settings.onHide(); 
          } 
        }, 
 
        dismiss: </span><span class="s2">function</span><span class="s0">(event) { 
          </span><span class="s2">if</span><span class="s0">(settings.storageMethod) { 
            module.storage.set(settings.key, settings.value); 
          } 
          module.hide(); 
          event.stopImmediatePropagation(); 
          event.preventDefault(); 
        }, 
 
        should: { 
          show: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(settings.persist) { 
              module.debug(</span><span class="s3">'Persistent nag is set, can show nag'</span><span class="s0">); 
              </span><span class="s2">return true</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( module.storage.get(settings.key) != settings.value.toString() ) { 
              module.debug(</span><span class="s3">'Stored value is not set, can show nag'</span><span class="s0">, module.storage.get(settings.key)); 
              </span><span class="s2">return true</span><span class="s0">; 
            } 
            module.debug(</span><span class="s3">'Stored value is set, cannot show nag'</span><span class="s0">, module.storage.get(settings.key)); 
            </span><span class="s2">return false</span><span class="s0">; 
          } 
        }, 
 
        </span><span class="s2">get</span><span class="s0">: { 
          storageOptions: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              options = {} 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.expires) { 
              options.expires = settings.expires; 
            } 
            </span><span class="s2">if</span><span class="s0">(settings.domain) { 
              options.domain = settings.domain; 
            } 
            </span><span class="s2">if</span><span class="s0">(settings.path) { 
              options.path = settings.path; 
            } 
            </span><span class="s2">return </span><span class="s0">options; 
          } 
        }, 
 
        clear: </span><span class="s2">function</span><span class="s0">() { 
          module.storage.remove(settings.key); 
        }, 
 
        storage: { 
          </span><span class="s2">set</span><span class="s0">: </span><span class="s2">function</span><span class="s0">(key, value) { 
            </span><span class="s2">var</span><span class="s0"> 
              options = module.get.storageOptions() 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.storageMethod == </span><span class="s3">'localstorage' </span><span class="s0">&amp;&amp; window.localStorage !== undefined) { 
              window.localStorage.setItem(key, value); 
              module.debug(</span><span class="s3">'Value stored using local storage'</span><span class="s0">, key, value); 
            } 
            </span><span class="s2">else if</span><span class="s0">($.cookie !== undefined) { 
              $.cookie(key, value, options); 
              module.debug(</span><span class="s3">'Value stored using cookie'</span><span class="s0">, key, value, options); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.error(error.noCookieStorage); 
              </span><span class="s2">return</span><span class="s0">; 
            } 
          }, 
          </span><span class="s2">get</span><span class="s0">: </span><span class="s2">function</span><span class="s0">(key, value) { 
            </span><span class="s2">var</span><span class="s0"> 
              storedValue 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.storageMethod == </span><span class="s3">'localstorage' </span><span class="s0">&amp;&amp; window.localStorage !== undefined) { 
              storedValue = window.localStorage.getItem(key); 
            } 
            </span><span class="s1">// get by cookie</span><span class="s0"> 
            </span><span class="s2">else if</span><span class="s0">($.cookie !== undefined) { 
              storedValue = $.cookie(key); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.error(error.noCookieStorage); 
            } 
            </span><span class="s2">if</span><span class="s0">(storedValue == </span><span class="s3">'undefined' </span><span class="s0">|| storedValue == </span><span class="s3">'null' </span><span class="s0">|| storedValue === undefined || storedValue === </span><span class="s2">null</span><span class="s0">) { 
              storedValue = undefined; 
            } 
            </span><span class="s2">return </span><span class="s0">storedValue; 
          }, 
          remove: </span><span class="s2">function</span><span class="s0">(key) { 
            </span><span class="s2">var</span><span class="s0"> 
              options = module.get.storageOptions() 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.storageMethod == </span><span class="s3">'local' </span><span class="s0">&amp;&amp; window.store !== undefined) { 
              window.localStorage.removeItem(key); 
            } 
            </span><span class="s1">// store by cookie</span><span class="s0"> 
            </span><span class="s2">else if</span><span class="s0">($.cookie !== undefined) { 
              $.removeCookie(key, options); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.error(error.noStorage); 
            } 
          } 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing setting'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.error(error.method, query); 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
    }) 
  ; 
 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.nag.settings = { 
 
  name        : </span><span class="s3">'Nag'</span><span class="s0">, 
 
  debug       : </span><span class="s2">false</span><span class="s0">, 
  verbose     : </span><span class="s2">true</span><span class="s0">, 
  performance : </span><span class="s2">true</span><span class="s0">, 
 
  namespace   : </span><span class="s3">'Nag'</span><span class="s0">, 
 
  </span><span class="s1">// allows cookie to be overriden</span><span class="s0"> 
  persist     : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// set to zero to require manually dismissal, otherwise hides on its own</span><span class="s0"> 
  displayTime : </span><span class="s4">0</span><span class="s0">, 
 
  animation   : { 
    show : </span><span class="s3">'slide'</span><span class="s0">, 
    hide : </span><span class="s3">'slide'</span><span class="s0"> 
  }, 
 
  context       : </span><span class="s2">false</span><span class="s0">, 
  detachable    : </span><span class="s2">false</span><span class="s0">, 
 
  expires       : </span><span class="s4">30</span><span class="s0">, 
  domain        : </span><span class="s2">false</span><span class="s0">, 
  path          : </span><span class="s3">'/'</span><span class="s0">, 
 
  </span><span class="s1">// type of storage to use</span><span class="s0"> 
  storageMethod : </span><span class="s3">'cookie'</span><span class="s0">, 
 
  </span><span class="s1">// value to store in dismissed localstorage/cookie</span><span class="s0"> 
  key           : </span><span class="s3">'nag'</span><span class="s0">, 
  value         : </span><span class="s3">'dismiss'</span><span class="s0">, 
 
  error: { 
    noStorage : </span><span class="s3">'Neither $.cookie or store is defined. A storage solution is required for storing state'</span><span class="s0">, 
    method    : </span><span class="s3">'The method you called is not defined.'</span><span class="s0"> 
  }, 
 
  className     : { 
    bottom : </span><span class="s3">'bottom'</span><span class="s0">, 
    fixed  : </span><span class="s3">'fixed'</span><span class="s0"> 
  }, 
 
  selector      : { 
    close : </span><span class="s3">'.close.icon'</span><span class="s0"> 
  }, 
 
  speed         : </span><span class="s4">500</span><span class="s0">, 
  easing        : </span><span class="s3">'easeOutQuad'</span><span class="s0">, 
 
  onHide: </span><span class="s2">function</span><span class="s0">() {} 
 
}; 
 
})( jQuery, window , document ); 
 
</span><span class="s1">/* 
 * # Semantic - Popup 
 * http://github.com/jlukic/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">($, window, document, undefined) { 
 
</span><span class="s3">&quot;use strict&quot;</span><span class="s0">; 
 
$.fn.popup = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules    = $(</span><span class="s2">this</span><span class="s0">), 
    $document      = $(document), 
 
    moduleSelector = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
    hasTouch       = (</span><span class="s3">'ontouchstart' </span><span class="s2">in </span><span class="s0">document.documentElement), 
    time           = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance    = [], 
 
    query          = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked  = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
 
    returnedValue 
  ; 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings        = ( $.isPlainObject(parameters) ) 
          ? $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.popup.settings, parameters) 
          : $.extend({}, $.fn.popup.settings), 
 
        selector           = settings.selector, 
        className          = settings.className, 
        error              = settings.error, 
        metadata           = settings.metadata, 
        namespace          = settings.namespace, 
 
        eventNamespace     = </span><span class="s3">'.' </span><span class="s0">+ settings.namespace, 
        moduleNamespace    = </span><span class="s3">'module-' </span><span class="s0">+ namespace, 
 
        $module            = $(</span><span class="s2">this</span><span class="s0">), 
        $context           = $(settings.context), 
        $target            = (settings.target) 
          ? $(settings.target) 
          : $module, 
 
        $window            = $(window), 
        $body              = $(</span><span class="s3">'body'</span><span class="s0">), 
        $popup, 
        $offsetParent, 
 
        searchDepth        = </span><span class="s4">0</span><span class="s0">, 
        triedPositions     = </span><span class="s2">false</span><span class="s0">, 
 
        element            = </span><span class="s2">this</span><span class="s0">, 
        instance           = $module.data(moduleNamespace), 
        module 
      ; 
 
      module = { 
 
        </span><span class="s1">// binds events</span><span class="s0"> 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Initializing module'</span><span class="s0">, $module); 
          module.refresh(); 
          </span><span class="s2">if</span><span class="s0">(settings.on == </span><span class="s3">'click'</span><span class="s0">) { 
            $module 
              .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, module.toggle) 
            ; 
          } 
          </span><span class="s2">else if</span><span class="s0">( module.get.startEvent() ) { 
            $module 
              .on(module.get.startEvent() + eventNamespace, module.event.start) 
              .on(module.get.endEvent() + eventNamespace, module.event.end) 
            ; 
          } 
          </span><span class="s2">if</span><span class="s0">(settings.target) { 
            module.debug(</span><span class="s3">'Target set to element'</span><span class="s0">, $target); 
          } 
          $window 
            .on(</span><span class="s3">'resize' </span><span class="s0">+ eventNamespace, module.event.resize) 
          ; 
          </span><span class="s2">if</span><span class="s0">( !module.exists() ) { 
            module.create(); 
          } 
          </span><span class="s2">else if</span><span class="s0">(settings.hoverable) { 
            module.bind.popup(); 
          } 
          module.instantiate(); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of module'</span><span class="s0">, module); 
          instance = module; 
          $module 
            .data(moduleNamespace, instance) 
          ; 
        }, 
 
        refresh: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.popup) { 
            $popup = $(settings.popup); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">if</span><span class="s0">(settings.inline) { 
              $popup = $target.next(settings.selector.popup); 
            } 
          } 
          </span><span class="s2">if</span><span class="s0">(settings.popup) { 
            $popup.addClass(className.loading); 
            $offsetParent = $popup.offsetParent(); 
            $popup.removeClass(className.loading); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            $offsetParent = (settings.inline) 
                ? $target.offsetParent() 
                : $body 
            ; 
          } 
          </span><span class="s2">if</span><span class="s0">( $offsetParent.is(</span><span class="s3">'html'</span><span class="s0">) ) { 
            module.debug(</span><span class="s3">'Page is popups offset parent'</span><span class="s0">); 
            $offsetParent = $body; 
          } 
        }, 
 
        reposition: </span><span class="s2">function</span><span class="s0">() { 
          module.refresh(); 
          module.set.position(); 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Destroying previous module'</span><span class="s0">); 
          </span><span class="s2">if</span><span class="s0">($popup &amp;&amp; !settings.preserve) { 
            module.removePopup(); 
          } 
          $module 
            .off(eventNamespace) 
            .removeData(moduleNamespace) 
          ; 
        }, 
 
        event: { 
          start:  </span><span class="s2">function</span><span class="s0">(event) { 
            </span><span class="s2">var</span><span class="s0"> 
              delay = ($.isPlainObject(settings.delay)) 
                ? settings.delay.show 
                : settings.delay 
            ; 
            clearTimeout(module.hideTimer); 
            module.showTimer = setTimeout(</span><span class="s2">function</span><span class="s0">() { 
              </span><span class="s2">if</span><span class="s0">( module.is.hidden() &amp;&amp; !( module.is.active() &amp;&amp; module.is.dropdown()) ) { 
                module.show(); 
              } 
            }, delay); 
          }, 
          end:  </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              delay = ($.isPlainObject(settings.delay)) 
                ? settings.delay.hide 
                : settings.delay 
            ; 
            clearTimeout(module.showTimer); 
            module.hideTimer = setTimeout(</span><span class="s2">function</span><span class="s0">() { 
              </span><span class="s2">if</span><span class="s0">( module.is.visible() ) { 
                module.hide(); 
              } 
            }, delay); 
          }, 
          resize: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">( module.is.visible() ) { 
              module.set.position(); 
            } 
          } 
        }, 
 
        </span><span class="s1">// generates popup html from metadata</span><span class="s0"> 
        create: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">var</span><span class="s0"> 
            html      = $module.data(metadata.html)      || settings.html, 
            variation = $module.data(metadata.variation) || settings.variation, 
            title     = $module.data(metadata.title)     || settings.title, 
            content   = $module.data(metadata.content)   || $module.attr(</span><span class="s3">'title'</span><span class="s0">) || settings.content 
          ; 
          </span><span class="s2">if</span><span class="s0">(html || content || title) { 
            module.debug(</span><span class="s3">'Creating pop-up html'</span><span class="s0">); 
            </span><span class="s2">if</span><span class="s0">(!html) { 
              html = settings.templates.popup({ 
                title   : title, 
                content : content 
              }); 
            } 
            $popup = $(</span><span class="s3">'&lt;div/&gt;'</span><span class="s0">) 
              .addClass(className.popup) 
              .addClass(variation) 
              .html(html) 
            ; 
            </span><span class="s2">if</span><span class="s0">(variation) { 
              $popup 
                .addClass(variation) 
              ; 
            } 
            </span><span class="s2">if</span><span class="s0">(settings.inline) { 
              module.verbose(</span><span class="s3">'Inserting popup element inline'</span><span class="s0">, $popup); 
              $popup 
                .insertAfter($module) 
              ; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose(</span><span class="s3">'Appending popup element to body'</span><span class="s0">, $popup); 
              $popup 
                .appendTo( $context ) 
              ; 
            } 
            </span><span class="s2">if</span><span class="s0">(settings.hoverable) { 
              module.bind.popup(); 
            } 
            $.proxy(settings.onCreate, $popup)(element); 
          } 
          </span><span class="s2">else if</span><span class="s0">($target.next(settings.selector.popup).size() !== </span><span class="s4">0</span><span class="s0">) { 
            module.verbose(</span><span class="s3">'Pre-existing popup found, reverting to inline'</span><span class="s0">); 
            settings.inline = </span><span class="s2">true</span><span class="s0">; 
            module.refresh(); 
            </span><span class="s2">if</span><span class="s0">(settings.hoverable) { 
              module.bind.popup(); 
            } 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.debug(</span><span class="s3">'No content specified skipping display'</span><span class="s0">, element); 
          } 
        }, 
 
        </span><span class="s1">// determines popup state</span><span class="s0"> 
        toggle: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Toggling pop-up'</span><span class="s0">); 
          </span><span class="s2">if</span><span class="s0">( module.is.hidden() ) { 
            module.debug(</span><span class="s3">'Popup is hidden, showing pop-up'</span><span class="s0">); 
            module.unbind.close(); 
            module.hideAll(); 
            module.show(); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.debug(</span><span class="s3">'Popup is visible, hiding pop-up'</span><span class="s0">); 
            module.hide(); 
          } 
        }, 
 
        show: </span><span class="s2">function</span><span class="s0">(callback) { 
          callback = $.isFunction(callback) ? callback : </span><span class="s2">function</span><span class="s0">(){}; 
          module.debug(</span><span class="s3">'Showing pop-up'</span><span class="s0">, settings.transition); 
          </span><span class="s2">if</span><span class="s0">(!settings.preserve &amp;&amp; !settings.popup) { 
            module.refresh(); 
          } 
          </span><span class="s2">if</span><span class="s0">( !module.exists() ) { 
            module.create(); 
          } 
          </span><span class="s2">if</span><span class="s0">( $popup &amp;&amp; module.set.position() ) { 
            module.save.conditions(); 
            module.animate.show(callback); 
          } 
        }, 
 
 
        hide: </span><span class="s2">function</span><span class="s0">(callback) { 
          callback = $.isFunction(callback) ? callback : </span><span class="s2">function</span><span class="s0">(){}; 
          module.remove.visible(); 
          module.unbind.close(); 
          </span><span class="s2">if</span><span class="s0">( module.is.visible() ) { 
            module.restore.conditions(); 
            module.animate.hide(callback); 
          } 
        }, 
 
        hideAll: </span><span class="s2">function</span><span class="s0">() { 
          $(selector.popup) 
            .filter(</span><span class="s3">':visible'</span><span class="s0">) 
              .popup(</span><span class="s3">'hide'</span><span class="s0">) 
          ; 
        }, 
 
        hideGracefully: </span><span class="s2">function</span><span class="s0">(event) { 
          </span><span class="s1">// don't close on clicks inside popup</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">(event &amp;&amp; $(event.target).closest(selector.popup).size() === </span><span class="s4">0</span><span class="s0">) { 
            module.debug(</span><span class="s3">'Click occurred outside popup hiding popup'</span><span class="s0">); 
            module.hide(); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.debug(</span><span class="s3">'Click was inside popup, keeping popup open'</span><span class="s0">); 
          } 
        }, 
 
        exists: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(!$popup) { 
            </span><span class="s2">return false</span><span class="s0">; 
          } 
          </span><span class="s2">if</span><span class="s0">(settings.inline || settings.popup) { 
            </span><span class="s2">return </span><span class="s0">( $popup.size() !== </span><span class="s4">0 </span><span class="s0">); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">( $popup.closest($context).size() ); 
          } 
        }, 
 
        removePopup: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Removing popup'</span><span class="s0">); 
          $.proxy(settings.onRemove, $popup)(element); 
          $popup.remove(); 
        }, 
 
        save: { 
          conditions: </span><span class="s2">function</span><span class="s0">() { 
            module.cache = { 
              title: $module.attr(</span><span class="s3">'title'</span><span class="s0">) 
            }; 
            </span><span class="s2">if </span><span class="s0">(module.cache.title) { 
              $module.removeAttr(</span><span class="s3">'title'</span><span class="s0">); 
            } 
            module.verbose(</span><span class="s3">'Saving original attributes'</span><span class="s0">, module.cache.title); 
          } 
        }, 
        restore: { 
          conditions: </span><span class="s2">function</span><span class="s0">() { 
            element.blur(); 
            </span><span class="s2">if</span><span class="s0">(module.cache &amp;&amp; module.cache.title) { 
              $module.attr(</span><span class="s3">'title'</span><span class="s0">, module.cache.title); 
              module.verbose(</span><span class="s3">'Restoring original attributes'</span><span class="s0">, module.cache.title); 
            } 
            </span><span class="s2">return true</span><span class="s0">; 
          } 
        }, 
        animate: { 
          show: </span><span class="s2">function</span><span class="s0">(callback) { 
            callback = $.isFunction(callback) ? callback : </span><span class="s2">function</span><span class="s0">(){}; 
            </span><span class="s2">if</span><span class="s0">(settings.transition &amp;&amp; $.fn.transition !== undefined &amp;&amp; $module.transition(</span><span class="s3">'is supported'</span><span class="s0">)) { 
              module.set.visible(); 
              $popup 
                .transition({ 
                  animation  : settings.transition + </span><span class="s3">' in'</span><span class="s0">, 
                  queue      : </span><span class="s2">false</span><span class="s0">, 
                  debug      : settings.debug, 
                  verbose    : settings.verbose, 
                  duration   : settings.duration, 
                  onComplete : </span><span class="s2">function</span><span class="s0">() { 
                    module.bind.close(); 
                    $.proxy(callback, $popup)(element); 
                    $.proxy(settings.onVisible, $popup)(element); 
                  } 
                }) 
              ; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.set.visible(); 
              $popup 
                .stop() 
                .fadeIn(settings.duration, settings.easing, </span><span class="s2">function</span><span class="s0">() { 
                  module.bind.close(); 
                  $.proxy(callback, element)(); 
                }) 
              ; 
            } 
            $.proxy(settings.onShow, $popup)(element); 
          }, 
          hide: </span><span class="s2">function</span><span class="s0">(callback) { 
            callback = $.isFunction(callback) ? callback : </span><span class="s2">function</span><span class="s0">(){}; 
            module.debug(</span><span class="s3">'Hiding pop-up'</span><span class="s0">); 
            </span><span class="s2">if</span><span class="s0">(settings.transition &amp;&amp; $.fn.transition !== undefined &amp;&amp; $module.transition(</span><span class="s3">'is supported'</span><span class="s0">)) { 
              $popup 
                .transition({ 
                  animation  : settings.transition + </span><span class="s3">' out'</span><span class="s0">, 
                  queue      : </span><span class="s2">false</span><span class="s0">, 
                  duration   : settings.duration, 
                  debug      : settings.debug, 
                  verbose    : settings.verbose, 
                  onComplete : </span><span class="s2">function</span><span class="s0">() { 
                    module.reset(); 
                    $.proxy(callback, $popup)(element); 
                    $.proxy(settings.onHidden, $popup)(element); 
                  } 
                }) 
              ; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              $popup 
                .stop() 
                .fadeOut(settings.duration, settings.easing, </span><span class="s2">function</span><span class="s0">() { 
                  module.reset(); 
                  callback(); 
                }) 
              ; 
            } 
            $.proxy(settings.onHide, $popup)(element); 
          } 
        }, 
 
        </span><span class="s2">get</span><span class="s0">: { 
          startEvent: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(settings.on == </span><span class="s3">'hover'</span><span class="s0">) { 
              </span><span class="s2">return </span><span class="s3">'mouseenter'</span><span class="s0">; 
            } 
            </span><span class="s2">else if</span><span class="s0">(settings.on == </span><span class="s3">'focus'</span><span class="s0">) { 
              </span><span class="s2">return </span><span class="s3">'focus'</span><span class="s0">; 
            } 
            </span><span class="s2">return false</span><span class="s0">; 
          }, 
          endEvent: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(settings.on == </span><span class="s3">'hover'</span><span class="s0">) { 
              </span><span class="s2">return </span><span class="s3">'mouseleave'</span><span class="s0">; 
            } 
            </span><span class="s2">else if</span><span class="s0">(settings.on == </span><span class="s3">'focus'</span><span class="s0">) { 
              </span><span class="s2">return </span><span class="s3">'blur'</span><span class="s0">; 
            } 
            </span><span class="s2">return false</span><span class="s0">; 
          }, 
          offstagePosition: </span><span class="s2">function</span><span class="s0">(position) { 
            </span><span class="s2">var</span><span class="s0"> 
              position = position || </span><span class="s2">false</span><span class="s0">, 
              boundary  = { 
                top    : $(window).scrollTop(), 
                bottom : $(window).scrollTop() + $(window).height(), 
                left   : </span><span class="s4">0</span><span class="s0">, 
                right  : $(window).width() 
              }, 
              popup     = { 
                width  : $popup.width(), 
                height : $popup.height(), 
                offset : $popup.offset() 
              }, 
              offstage  = {}, 
              offstagePositions = [] 
            ; 
            </span><span class="s2">if</span><span class="s0">(popup.offset &amp;&amp; position) { 
              module.verbose(</span><span class="s3">'Checking if outside viewable area'</span><span class="s0">, popup.offset); 
              offstage = { 
                top    : (popup.offset.top &lt; boundary.top), 
                bottom : (popup.offset.top + popup.height &gt; boundary.bottom), 
                right  : (popup.offset.left + popup.width &gt; boundary.right), 
                left   : (popup.offset.left &lt; boundary.left) 
              }; 
            } 
            </span><span class="s1">// return only boundaries that have been surpassed</span><span class="s0"> 
            $.each(offstage, </span><span class="s2">function</span><span class="s0">(direction, isOffstage) { 
              </span><span class="s2">if</span><span class="s0">(isOffstage) { 
                offstagePositions.push(direction); 
              } 
            }); 
            </span><span class="s2">return </span><span class="s0">(offstagePositions.length &gt; </span><span class="s4">0</span><span class="s0">) 
              ? offstagePositions.join(</span><span class="s3">' '</span><span class="s0">) 
              : </span><span class="s2">false</span><span class="s0"> 
            ; 
          }, 
          positions: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">{ 
              </span><span class="s3">'top left'      </span><span class="s0">: </span><span class="s2">false</span><span class="s0">, 
              </span><span class="s3">'top center'    </span><span class="s0">: </span><span class="s2">false</span><span class="s0">, 
              </span><span class="s3">'top right'     </span><span class="s0">: </span><span class="s2">false</span><span class="s0">, 
              </span><span class="s3">'bottom left'   </span><span class="s0">: </span><span class="s2">false</span><span class="s0">, 
              </span><span class="s3">'bottom center' </span><span class="s0">: </span><span class="s2">false</span><span class="s0">, 
              </span><span class="s3">'bottom right'  </span><span class="s0">: </span><span class="s2">false</span><span class="s0">, 
              </span><span class="s3">'left center'   </span><span class="s0">: </span><span class="s2">false</span><span class="s0">, 
              </span><span class="s3">'right center'  </span><span class="s0">: </span><span class="s2">false</span><span class="s0"> 
            }; 
          }, 
          nextPosition: </span><span class="s2">function</span><span class="s0">(position) { 
            </span><span class="s2">var</span><span class="s0"> 
              positions          = position.split(</span><span class="s3">' '</span><span class="s0">), 
              verticalPosition   = positions[</span><span class="s4">0</span><span class="s0">], 
              horizontalPosition = positions[</span><span class="s4">1</span><span class="s0">], 
              opposite = { 
                top    : </span><span class="s3">'bottom'</span><span class="s0">, 
                bottom : </span><span class="s3">'top'</span><span class="s0">, 
                left   : </span><span class="s3">'right'</span><span class="s0">, 
                right  : </span><span class="s3">'left'</span><span class="s0"> 
              }, 
              adjacent = { 
                left   : </span><span class="s3">'center'</span><span class="s0">, 
                center : </span><span class="s3">'right'</span><span class="s0">, 
                right  : </span><span class="s3">'left'</span><span class="s0"> 
              }, 
              backup = { 
                </span><span class="s3">'top left'      </span><span class="s0">: </span><span class="s3">'top center'</span><span class="s0">, 
                </span><span class="s3">'top center'    </span><span class="s0">: </span><span class="s3">'top right'</span><span class="s0">, 
                </span><span class="s3">'top right'     </span><span class="s0">: </span><span class="s3">'right center'</span><span class="s0">, 
                </span><span class="s3">'right center'  </span><span class="s0">: </span><span class="s3">'bottom right'</span><span class="s0">, 
                </span><span class="s3">'bottom right'  </span><span class="s0">: </span><span class="s3">'bottom center'</span><span class="s0">, 
                </span><span class="s3">'bottom center' </span><span class="s0">: </span><span class="s3">'bottom left'</span><span class="s0">, 
                </span><span class="s3">'bottom left'   </span><span class="s0">: </span><span class="s3">'left center'</span><span class="s0">, 
                </span><span class="s3">'left center'   </span><span class="s0">: </span><span class="s3">'top left'</span><span class="s0"> 
              }, 
              adjacentsAvailable = (verticalPosition == </span><span class="s3">'top' </span><span class="s0">|| verticalPosition == </span><span class="s3">'bottom'</span><span class="s0">), 
              oppositeTried = </span><span class="s2">false</span><span class="s0">, 
              adjacentTried = </span><span class="s2">false</span><span class="s0">, 
              nextPosition  = </span><span class="s2">false</span><span class="s0"> 
            ; 
            </span><span class="s2">if</span><span class="s0">(!triedPositions) { 
              module.verbose(</span><span class="s3">'All available positions available'</span><span class="s0">); 
              triedPositions = module.get.positions(); 
            } 
 
            module.debug(</span><span class="s3">'Recording last position tried'</span><span class="s0">, position); 
            triedPositions[position] = </span><span class="s2">true</span><span class="s0">; 
 
            </span><span class="s2">if</span><span class="s0">(settings.prefer === </span><span class="s3">'opposite'</span><span class="s0">) { 
              nextPosition  = [opposite[verticalPosition], horizontalPosition]; 
              nextPosition  = nextPosition.join(</span><span class="s3">' '</span><span class="s0">); 
              oppositeTried = (triedPositions[nextPosition] === </span><span class="s2">true</span><span class="s0">); 
              module.debug(</span><span class="s3">'Trying opposite strategy'</span><span class="s0">, nextPosition); 
            } 
            </span><span class="s2">if</span><span class="s0">((settings.prefer === </span><span class="s3">'adjacent'</span><span class="s0">) &amp;&amp; adjacentsAvailable ) { 
              nextPosition  = [verticalPosition, adjacent[horizontalPosition]]; 
              nextPosition  = nextPosition.join(</span><span class="s3">' '</span><span class="s0">); 
              adjacentTried = (triedPositions[nextPosition] === </span><span class="s2">true</span><span class="s0">); 
              module.debug(</span><span class="s3">'Trying adjacent strategy'</span><span class="s0">, nextPosition); 
            } 
            </span><span class="s2">if</span><span class="s0">(adjacentTried || oppositeTried) { 
              module.debug(</span><span class="s3">'Using backup position'</span><span class="s0">, nextPosition); 
              nextPosition = backup[position]; 
            } 
            </span><span class="s2">return </span><span class="s0">nextPosition; 
          } 
        }, 
 
        </span><span class="s2">set</span><span class="s0">: { 
          position: </span><span class="s2">function</span><span class="s0">(position, arrowOffset) { 
            </span><span class="s2">var</span><span class="s0"> 
              windowWidth   = $(window).width(), 
              windowHeight  = $(window).height(), 
 
              targetWidth   = $target.outerWidth(), 
              targetHeight  = $target.outerHeight(), 
 
              popupWidth    = $popup.outerWidth(), 
              popupHeight   = $popup.outerHeight(), 
 
              parentWidth   = $offsetParent.outerWidth(), 
              parentHeight  = $offsetParent.outerHeight(), 
 
              distanceAway  = settings.distanceAway, 
 
              targetElement = $target[</span><span class="s4">0</span><span class="s0">], 
 
              marginTop     = (settings.inline) 
                ? parseInt( window.getComputedStyle(targetElement).getPropertyValue(</span><span class="s3">'margin-top'</span><span class="s0">), </span><span class="s4">10</span><span class="s0">) 
                : </span><span class="s4">0</span><span class="s0">, 
              marginLeft    = (settings.inline) 
                ? parseInt( window.getComputedStyle(targetElement).getPropertyValue(</span><span class="s3">'margin-left'</span><span class="s0">), </span><span class="s4">10</span><span class="s0">) 
                : </span><span class="s4">0</span><span class="s0">, 
 
              target        = (settings.inline || settings.popup) 
                ? $target.position() 
                : $target.offset(), 
 
              positioning, 
              offstagePosition 
            ; 
            position    = position    || $module.data(metadata.position)    || settings.position; 
            arrowOffset = arrowOffset || $module.data(metadata.offset)      || settings.offset; 
 
            </span><span class="s2">if</span><span class="s0">(searchDepth == settings.maxSearchDepth &amp;&amp; settings.lastResort) { 
              module.debug(</span><span class="s3">'Using last resort position to display'</span><span class="s0">, settings.lastResort); 
              position = settings.lastResort; 
            } 
 
            </span><span class="s2">if</span><span class="s0">(settings.inline) { 
              module.debug(</span><span class="s3">'Adding targets margin to calculation'</span><span class="s0">); 
              </span><span class="s2">if</span><span class="s0">(position == </span><span class="s3">'left center' </span><span class="s0">|| position == </span><span class="s3">'right center'</span><span class="s0">) { 
                arrowOffset  += marginTop; 
                distanceAway += -marginLeft; 
              } 
              </span><span class="s2">else if </span><span class="s0">(position == </span><span class="s3">'top left' </span><span class="s0">|| position == </span><span class="s3">'top center' </span><span class="s0">|| position == </span><span class="s3">'top right'</span><span class="s0">) { 
                arrowOffset  += marginLeft; 
                distanceAway -= marginTop; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                arrowOffset  += marginLeft; 
                distanceAway += marginTop; 
              } 
            } 
            module.debug(</span><span class="s3">'Calculating popup positioning'</span><span class="s0">, position); 
            </span><span class="s2">switch</span><span class="s0">(position) { 
              </span><span class="s2">case </span><span class="s3">'top left'</span><span class="s0">: 
                positioning = { 
                  top    : </span><span class="s3">'auto'</span><span class="s0">, 
                  bottom : parentHeight - target.top + distanceAway, 
                  left   : target.left + arrowOffset, 
                  right  : </span><span class="s3">'auto'</span><span class="s0"> 
                }; 
              </span><span class="s2">break</span><span class="s0">; 
              </span><span class="s2">case </span><span class="s3">'top center'</span><span class="s0">: 
                positioning = { 
                  bottom : parentHeight - target.top + distanceAway, 
                  left   : target.left + (targetWidth / </span><span class="s4">2</span><span class="s0">) - (popupWidth / </span><span class="s4">2</span><span class="s0">) + arrowOffset, 
                  top    : </span><span class="s3">'auto'</span><span class="s0">, 
                  right  : </span><span class="s3">'auto'</span><span class="s0"> 
                }; 
              </span><span class="s2">break</span><span class="s0">; 
              </span><span class="s2">case </span><span class="s3">'top right'</span><span class="s0">: 
                positioning = { 
                  bottom :  parentHeight - target.top + distanceAway, 
                  right  :  parentWidth - target.left - targetWidth - arrowOffset, 
                  top    : </span><span class="s3">'auto'</span><span class="s0">, 
                  left   : </span><span class="s3">'auto'</span><span class="s0"> 
                }; 
              </span><span class="s2">break</span><span class="s0">; 
              </span><span class="s2">case </span><span class="s3">'left center'</span><span class="s0">: 
                positioning = { 
                  top    : target.top + (targetHeight / </span><span class="s4">2</span><span class="s0">) - (popupHeight / </span><span class="s4">2</span><span class="s0">) + arrowOffset, 
                  right  : parentWidth - target.left + distanceAway, 
                  left   : </span><span class="s3">'auto'</span><span class="s0">, 
                  bottom : </span><span class="s3">'auto'</span><span class="s0"> 
                }; 
              </span><span class="s2">break</span><span class="s0">; 
              </span><span class="s2">case </span><span class="s3">'right center'</span><span class="s0">: 
                positioning = { 
                  top    : target.top + (targetHeight / </span><span class="s4">2</span><span class="s0">) - (popupHeight / </span><span class="s4">2</span><span class="s0">) + arrowOffset, 
                  left   : target.left + targetWidth + distanceAway, 
                  bottom : </span><span class="s3">'auto'</span><span class="s0">, 
                  right  : </span><span class="s3">'auto'</span><span class="s0"> 
                }; 
              </span><span class="s2">break</span><span class="s0">; 
              </span><span class="s2">case </span><span class="s3">'bottom left'</span><span class="s0">: 
                positioning = { 
                  top    : target.top + targetHeight + distanceAway, 
                  left   : target.left + arrowOffset, 
                  bottom : </span><span class="s3">'auto'</span><span class="s0">, 
                  right  : </span><span class="s3">'auto'</span><span class="s0"> 
                }; 
              </span><span class="s2">break</span><span class="s0">; 
              </span><span class="s2">case </span><span class="s3">'bottom center'</span><span class="s0">: 
                positioning = { 
                  top    : target.top + targetHeight + distanceAway, 
                  left   : target.left + (targetWidth / </span><span class="s4">2</span><span class="s0">) - (popupWidth / </span><span class="s4">2</span><span class="s0">) + arrowOffset, 
                  bottom : </span><span class="s3">'auto'</span><span class="s0">, 
                  right  : </span><span class="s3">'auto'</span><span class="s0"> 
                }; 
              </span><span class="s2">break</span><span class="s0">; 
              </span><span class="s2">case </span><span class="s3">'bottom right'</span><span class="s0">: 
                positioning = { 
                  top    : target.top + targetHeight + distanceAway, 
                  right  : parentWidth - target.left  - targetWidth - arrowOffset, 
                  left   : </span><span class="s3">'auto'</span><span class="s0">, 
                  bottom : </span><span class="s3">'auto'</span><span class="s0"> 
                }; 
              </span><span class="s2">break</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">(positioning === undefined) { 
              module.error(error.invalidPosition, position); 
            } 
 
            </span><span class="s1">// tentatively place on stage</span><span class="s0"> 
            $popup 
              .css(positioning) 
              .removeClass(className.position) 
              .addClass(position) 
              .addClass(className.loading) 
            ; 
            </span><span class="s1">// check if is offstage</span><span class="s0"> 
            offstagePosition = module.get.offstagePosition(position); 
 
            </span><span class="s1">// recursively find new positioning</span><span class="s0"> 
            </span><span class="s2">if</span><span class="s0">(offstagePosition) { 
              module.debug(</span><span class="s3">'Popup cant fit into viewport'</span><span class="s0">, offstagePosition); 
              </span><span class="s2">if</span><span class="s0">(searchDepth &lt; settings.maxSearchDepth) { 
                searchDepth++; 
                position = module.get.nextPosition(position); 
                module.debug(</span><span class="s3">'Trying new position'</span><span class="s0">, position); 
                </span><span class="s2">return </span><span class="s0">($popup) 
                  ? module.set.position(position) 
                  : </span><span class="s2">false</span><span class="s0"> 
                ; 
              } 
              </span><span class="s2">else if</span><span class="s0">(!settings.lastResort) { 
                module.debug(</span><span class="s3">'Popup could not find a position in view'</span><span class="s0">, $popup); 
                module.error(error.cannotPlace); 
                module.remove.attempts(); 
                module.remove.loading(); 
                module.reset(); 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            } 
 
            module.debug(</span><span class="s3">'Position is on stage'</span><span class="s0">, position); 
            module.remove.attempts(); 
            module.set.fluidWidth(); 
            module.remove.loading(); 
            </span><span class="s2">return true</span><span class="s0">; 
          }, 
 
          fluidWidth: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">( settings.setFluidWidth &amp;&amp; $popup.hasClass(className.fluid) ) { 
              $popup.css(</span><span class="s3">'width'</span><span class="s0">, $offsetParent.width()); 
            } 
          }, 
 
          visible: </span><span class="s2">function</span><span class="s0">() { 
            $module.addClass(className.visible); 
          } 
        }, 
 
        remove: { 
          loading: </span><span class="s2">function</span><span class="s0">() { 
            $popup.removeClass(className.loading); 
          }, 
          visible: </span><span class="s2">function</span><span class="s0">() { 
            $module.removeClass(className.visible); 
          }, 
          attempts: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Resetting all searched positions'</span><span class="s0">); 
            searchDepth    = </span><span class="s4">0</span><span class="s0">; 
            triedPositions = </span><span class="s2">false</span><span class="s0">; 
          } 
        }, 
 
        bind: { 
          popup: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Allowing hover events on popup to prevent closing'</span><span class="s0">); 
            </span><span class="s2">if</span><span class="s0">($popup &amp;&amp; $popup.size() &gt; </span><span class="s4">0</span><span class="s0">) { 
              $popup 
                .on(</span><span class="s3">'mouseenter' </span><span class="s0">+ eventNamespace, module.event.start) 
                .on(</span><span class="s3">'mouseleave' </span><span class="s0">+ eventNamespace, module.event.end) 
              ; 
            } 
          }, 
          close:</span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(settings.hideOnScroll === </span><span class="s2">true </span><span class="s0">|| settings.hideOnScroll == </span><span class="s3">'auto' </span><span class="s0">&amp;&amp; settings.on != </span><span class="s3">'click'</span><span class="s0">) { 
              $document 
                .one(</span><span class="s3">'touchmove' </span><span class="s0">+ eventNamespace, module.hideGracefully) 
                .one(</span><span class="s3">'scroll' </span><span class="s0">+ eventNamespace, module.hideGracefully) 
              ; 
              $context 
                .one(</span><span class="s3">'touchmove' </span><span class="s0">+ eventNamespace, module.hideGracefully) 
                .one(</span><span class="s3">'scroll' </span><span class="s0">+ eventNamespace, module.hideGracefully) 
              ; 
            } 
            </span><span class="s2">if</span><span class="s0">(settings.on == </span><span class="s3">'click' </span><span class="s0">&amp;&amp; settings.closable) { 
              module.verbose(</span><span class="s3">'Binding popup close event to document'</span><span class="s0">); 
              $document 
                .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, </span><span class="s2">function</span><span class="s0">(event) { 
                  module.verbose(</span><span class="s3">'Pop-up clickaway intent detected'</span><span class="s0">); 
                  $.proxy(module.hideGracefully, element)(event); 
                }) 
              ; 
            } 
          } 
        }, 
 
        unbind: { 
          close: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(settings.hideOnScroll === </span><span class="s2">true </span><span class="s0">|| settings.hideOnScroll == </span><span class="s3">'auto' </span><span class="s0">&amp;&amp; settings.on != </span><span class="s3">'click'</span><span class="s0">) { 
              $document 
                .off(</span><span class="s3">'scroll' </span><span class="s0">+ eventNamespace, module.hide) 
              ; 
              $context 
                .off(</span><span class="s3">'scroll' </span><span class="s0">+ eventNamespace, module.hide) 
              ; 
            } 
            </span><span class="s2">if</span><span class="s0">(settings.on == </span><span class="s3">'click' </span><span class="s0">&amp;&amp; settings.closable) { 
              module.verbose(</span><span class="s3">'Removing close event from document'</span><span class="s0">); 
              $document 
                .off(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace) 
              ; 
            } 
          } 
        }, 
 
        is: { 
          active: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.active); 
          }, 
          animating: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">( $popup &amp;&amp; $popup.is(</span><span class="s3">':animated'</span><span class="s0">) || $popup.hasClass(className.animating) ); 
          }, 
          visible: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$popup &amp;&amp; $popup.is(</span><span class="s3">':visible'</span><span class="s0">); 
          }, 
          dropdown: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.dropdown); 
          }, 
          hidden: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">!module.is.visible(); 
          } 
        }, 
 
        reset: </span><span class="s2">function</span><span class="s0">() { 
          module.remove.visible(); 
          </span><span class="s2">if</span><span class="s0">(settings.preserve || settings.popup) { 
            </span><span class="s2">if</span><span class="s0">($.fn.transition !== undefined) { 
              $popup 
                .transition(</span><span class="s3">'remove transition'</span><span class="s0">) 
              ; 
            } 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.removePopup(); 
          } 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
    }) 
  ; 
 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.popup.settings = { 
 
  name         : </span><span class="s3">'Popup'</span><span class="s0">, 
 
  debug        : </span><span class="s2">false</span><span class="s0">, 
  verbose      : </span><span class="s2">true</span><span class="s0">, 
  performance  : </span><span class="s2">true</span><span class="s0">, 
  namespace    : </span><span class="s3">'popup'</span><span class="s0">, 
 
  onCreate     : </span><span class="s2">function</span><span class="s0">(){}, 
  onRemove     : </span><span class="s2">function</span><span class="s0">(){}, 
 
  onShow       : </span><span class="s2">function</span><span class="s0">(){}, 
  onVisible    : </span><span class="s2">function</span><span class="s0">(){}, 
  onHide       : </span><span class="s2">function</span><span class="s0">(){}, 
  onHidden     : </span><span class="s2">function</span><span class="s0">(){}, 
 
  variation    : </span><span class="s3">''</span><span class="s0">, 
  content      : </span><span class="s2">false</span><span class="s0">, 
  html         : </span><span class="s2">false</span><span class="s0">, 
  title        : </span><span class="s2">false</span><span class="s0">, 
 
  on           : </span><span class="s3">'hover'</span><span class="s0">, 
  closable     : </span><span class="s2">true</span><span class="s0">, 
  hideOnScroll : </span><span class="s3">'auto'</span><span class="s0">, 
 
  context      : </span><span class="s3">'body'</span><span class="s0">, 
 
  position     : </span><span class="s3">'top left'</span><span class="s0">, 
  prefer       : </span><span class="s3">'opposite'</span><span class="s0">, 
  lastResort   : </span><span class="s2">false</span><span class="s0">, 
 
  delay        : { 
    show : </span><span class="s4">30</span><span class="s0">, 
    hide : </span><span class="s4">0</span><span class="s0"> 
  }, 
 
  setFluidWidth  : </span><span class="s2">true</span><span class="s0">, 
 
  target         : </span><span class="s2">false</span><span class="s0">, 
  popup          : </span><span class="s2">false</span><span class="s0">, 
  inline         : </span><span class="s2">false</span><span class="s0">, 
  preserve       : </span><span class="s2">true</span><span class="s0">, 
  hoverable      : </span><span class="s2">false</span><span class="s0">, 
 
  duration       : </span><span class="s4">200</span><span class="s0">, 
  easing         : </span><span class="s3">'easeOutQuint'</span><span class="s0">, 
  transition     : </span><span class="s3">'scale'</span><span class="s0">, 
 
  distanceAway   : </span><span class="s4">0</span><span class="s0">, 
  offset         : </span><span class="s4">0</span><span class="s0">, 
  maxSearchDepth : </span><span class="s4">20</span><span class="s0">, 
 
  error: { 
    invalidPosition : </span><span class="s3">'The position you specified is not a valid position'</span><span class="s0">, 
    cannotPlace     : </span><span class="s3">'No visible position could be found for the popup'</span><span class="s0">, 
    method          : </span><span class="s3">'The method you called is not defined.'</span><span class="s0"> 
  }, 
 
  metadata: { 
    content   : </span><span class="s3">'content'</span><span class="s0">, 
    html      : </span><span class="s3">'html'</span><span class="s0">, 
    offset    : </span><span class="s3">'offset'</span><span class="s0">, 
    position  : </span><span class="s3">'position'</span><span class="s0">, 
    title     : </span><span class="s3">'title'</span><span class="s0">, 
    variation : </span><span class="s3">'variation'</span><span class="s0"> 
  }, 
 
  className   : { 
    active    : </span><span class="s3">'active'</span><span class="s0">, 
    animating : </span><span class="s3">'animating'</span><span class="s0">, 
    dropdown  : </span><span class="s3">'dropdown'</span><span class="s0">, 
    fluid     : </span><span class="s3">'fluid'</span><span class="s0">, 
    loading   : </span><span class="s3">'loading'</span><span class="s0">, 
    popup     : </span><span class="s3">'ui popup'</span><span class="s0">, 
    position  : </span><span class="s3">'top left center bottom right'</span><span class="s0">, 
    visible   : </span><span class="s3">'visible'</span><span class="s0"> 
  }, 
 
  selector    : { 
    popup    : </span><span class="s3">'.ui.popup'</span><span class="s0"> 
  }, 
 
  templates: { 
    escape: </span><span class="s2">function</span><span class="s0">(string) { 
      </span><span class="s2">var</span><span class="s0"> 
        badChars     = </span><span class="s4">/[&amp;&lt;&gt;&quot;'`]/g</span><span class="s0">, 
        shouldEscape = </span><span class="s4">/[&amp;&lt;&gt;&quot;'`]/</span><span class="s0">, 
        escape       = { 
          </span><span class="s3">&quot;&amp;&quot;</span><span class="s0">: </span><span class="s3">&quot;&amp;amp;&quot;</span><span class="s0">, 
          </span><span class="s3">&quot;&lt;&quot;</span><span class="s0">: </span><span class="s3">&quot;&amp;lt;&quot;</span><span class="s0">, 
          </span><span class="s3">&quot;&gt;&quot;</span><span class="s0">: </span><span class="s3">&quot;&amp;gt;&quot;</span><span class="s0">, 
          </span><span class="s3">'&quot;'</span><span class="s0">: </span><span class="s3">&quot;&amp;quot;&quot;</span><span class="s0">, 
          </span><span class="s3">&quot;'&quot;</span><span class="s0">: </span><span class="s3">&quot;&amp;#x27;&quot;</span><span class="s0">, 
          </span><span class="s3">&quot;`&quot;</span><span class="s0">: </span><span class="s3">&quot;&amp;#x60;&quot;</span><span class="s0"> 
        }, 
        escapedChar  = </span><span class="s2">function</span><span class="s0">(chr) { 
          </span><span class="s2">return </span><span class="s0">escape[chr]; 
        } 
      ; 
      </span><span class="s2">if</span><span class="s0">(shouldEscape.test(string)) { 
        </span><span class="s2">return </span><span class="s0">string.replace(badChars, escapedChar); 
      } 
      </span><span class="s2">return </span><span class="s0">string; 
    }, 
    popup: </span><span class="s2">function</span><span class="s0">(text) { 
      </span><span class="s2">var</span><span class="s0"> 
        html   = </span><span class="s3">''</span><span class="s0">, 
        escape = $.fn.popup.settings.templates.escape 
      ; 
      </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">text !== undefined) { 
        </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">text.title !== undefined &amp;&amp; text.title) { 
          text.title = escape(text.title); 
          html += </span><span class="s3">'&lt;div class=&quot;header&quot;&gt;' </span><span class="s0">+ text.title + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0">; 
        } 
        </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">text.content !== undefined &amp;&amp; text.content) { 
          text.content = escape(text.content); 
          html += </span><span class="s3">'&lt;div class=&quot;content&quot;&gt;' </span><span class="s0">+ text.content + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0">; 
        } 
      } 
      </span><span class="s2">return </span><span class="s0">html; 
    } 
  } 
 
}; 
 
</span><span class="s1">// Adds easing</span><span class="s0"> 
$.extend( $.easing, { 
  easeOutQuad: </span><span class="s2">function </span><span class="s0">(x, t, b, c, d) { 
    </span><span class="s2">return </span><span class="s0">-c *(t/=d)*(t-</span><span class="s4">2</span><span class="s0">) + b; 
  } 
}); 
 
 
})( jQuery, window , document ); 
 
</span><span class="s1">/* 
 * # Semantic - Progress 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">( $, window, document, undefined ) { 
 
</span><span class="s3">&quot;use strict&quot;</span><span class="s0">; 
 
$.fn.progress = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules    = $(</span><span class="s2">this</span><span class="s0">), 
 
    moduleSelector = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
    time           = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance    = [], 
 
    query          = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked  = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
 
    returnedValue 
  ; 
 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings          = ( $.isPlainObject(parameters) ) 
          ? $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.progress.settings, parameters) 
          : $.extend({}, $.fn.progress.settings), 
 
        className       = settings.className, 
        metadata        = settings.metadata, 
        namespace       = settings.namespace, 
        selector        = settings.selector, 
        error           = settings.error, 
 
        eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace = </span><span class="s3">'module-' </span><span class="s0">+ namespace, 
 
        $module         = $(</span><span class="s2">this</span><span class="s0">), 
        $bar            = $(</span><span class="s2">this</span><span class="s0">).find(selector.bar), 
        $progress       = $(</span><span class="s2">this</span><span class="s0">).find(selector.progress), 
        $label          = $(</span><span class="s2">this</span><span class="s0">).find(selector.label), 
 
        element         = </span><span class="s2">this</span><span class="s0">, 
        instance        = $module.data(moduleNamespace), 
        module 
      ; 
 
      module = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Initializing progress'</span><span class="s0">, settings); 
          module.read.metadata(); 
          module.set.initials(); 
          module.instantiate(); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of progress'</span><span class="s0">, module); 
          instance = module; 
          $module 
            .data(moduleNamespace, module) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying previous dropdown for'</span><span class="s0">, $module); 
          $module 
            .removeData(moduleNamespace) 
          ; 
          instance = undefined; 
        }, 
 
        reset: </span><span class="s2">function</span><span class="s0">() { 
          module.set.percent(</span><span class="s4">0</span><span class="s0">); 
        }, 
 
        complete: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(module.percent === undefined || module.percent &lt; </span><span class="s4">100</span><span class="s0">) { 
            module.set.percent(</span><span class="s4">100</span><span class="s0">); 
          } 
        }, 
 
        read: { 
          metadata: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">( $module.data(metadata.percent) ) { 
              module.verbose(</span><span class="s3">'Current percent value set from metadata'</span><span class="s0">); 
              module.percent = $module.data(metadata.percent); 
            } 
            </span><span class="s2">if</span><span class="s0">( $module.data(metadata.total) ) { 
              module.verbose(</span><span class="s3">'Total value set from metadata'</span><span class="s0">); 
              module.total = $module.data(metadata.total); 
            } 
            </span><span class="s2">if</span><span class="s0">( $module.data(metadata.value) ) { 
              module.verbose(</span><span class="s3">'Current value set from metadata'</span><span class="s0">); 
              module.value = $module.data(metadata.value); 
            } 
          }, 
          currentValue: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">(module.value !== undefined) 
              ? module.value 
              : </span><span class="s2">false</span><span class="s0"> 
            ; 
          } 
        }, 
 
        increment: </span><span class="s2">function</span><span class="s0">(incrementValue) { 
          </span><span class="s2">var</span><span class="s0"> 
            total          = module.total || </span><span class="s2">false</span><span class="s0">, 
            edgeValue, 
            startValue, 
            newValue 
          ; 
          </span><span class="s2">if</span><span class="s0">(total) { 
            startValue     = module.value || </span><span class="s4">0</span><span class="s0">; 
            incrementValue = incrementValue || </span><span class="s4">1</span><span class="s0">; 
            newValue       = startValue + incrementValue; 
            edgeValue      = module.total; 
            module.debug(</span><span class="s3">'Incrementing value by'</span><span class="s0">, incrementValue, startValue, edgeValue); 
            </span><span class="s2">if</span><span class="s0">(newValue &gt; edgeValue ) { 
              module.debug(</span><span class="s3">'Value cannot increment above total'</span><span class="s0">, edgeValue); 
              newValue = edgeValue; 
            } 
            module.set.progress(newValue); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            startValue     = module.percent || </span><span class="s4">0</span><span class="s0">; 
            incrementValue = incrementValue || module.get.randomValue(); 
            newValue       = startValue + incrementValue; 
            edgeValue      = </span><span class="s4">100</span><span class="s0">; 
            module.debug(</span><span class="s3">'Incrementing percentage by'</span><span class="s0">, incrementValue, startValue); 
            </span><span class="s2">if</span><span class="s0">(newValue &gt; edgeValue ) { 
              module.debug(</span><span class="s3">'Value cannot increment above 100 percent'</span><span class="s0">); 
              newValue = edgeValue; 
            } 
            module.set.progress(newValue); 
          } 
        }, 
        decrement: </span><span class="s2">function</span><span class="s0">(decrementValue) { 
          </span><span class="s2">var</span><span class="s0"> 
            total     = module.total || </span><span class="s2">false</span><span class="s0">, 
            edgeValue = </span><span class="s4">0</span><span class="s0">, 
            startValue, 
            newValue 
          ; 
          </span><span class="s2">if</span><span class="s0">(total) { 
            startValue     =  module.value   || </span><span class="s4">0</span><span class="s0">; 
            decrementValue =  decrementValue || </span><span class="s4">1</span><span class="s0">; 
            newValue       =  startValue - decrementValue; 
            module.debug(</span><span class="s3">'Decrementing value by'</span><span class="s0">, decrementValue, startValue); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            startValue     =  module.percent || </span><span class="s4">0</span><span class="s0">; 
            decrementValue =  decrementValue || module.get.randomValue(); 
            newValue       =  startValue - decrementValue; 
            module.debug(</span><span class="s3">'Decrementing percentage by'</span><span class="s0">, decrementValue, startValue); 
          } 
 
          </span><span class="s2">if</span><span class="s0">(newValue &lt; edgeValue) { 
            module.debug(</span><span class="s3">'Value cannot decrement below 0'</span><span class="s0">); 
            newValue = </span><span class="s4">0</span><span class="s0">; 
          } 
          module.set.progress(newValue); 
        }, 
 
        </span><span class="s2">get</span><span class="s0">: { 
          text: </span><span class="s2">function</span><span class="s0">(templateText) { 
            </span><span class="s2">var</span><span class="s0"> 
              value   = module.value || </span><span class="s4">0</span><span class="s0">, 
              total   = module.total || </span><span class="s4">0</span><span class="s0">, 
              percent = module.percent || </span><span class="s4">0</span><span class="s0"> 
            ; 
            templateText = templateText || </span><span class="s3">''</span><span class="s0">; 
            templateText = templateText 
              .replace(</span><span class="s3">'{value}'</span><span class="s0">, value) 
              .replace(</span><span class="s3">'{total}'</span><span class="s0">, total) 
              .replace(</span><span class="s3">'{percent}'</span><span class="s0">, percent) 
            ; 
            module.debug(</span><span class="s3">'Adding variables to progress bar text'</span><span class="s0">, templateText); 
            </span><span class="s2">return </span><span class="s0">templateText; 
          }, 
          randomValue: </span><span class="s2">function</span><span class="s0">() { 
            module.debug(</span><span class="s3">'Generating random increment percentage'</span><span class="s0">); 
            </span><span class="s2">return </span><span class="s0">Math.floor((Math.random() * settings.random.max) + settings.random.min); 
          }, 
          percent: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">module.percent || </span><span class="s4">0</span><span class="s0">; 
          }, 
          value: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">module.value || </span><span class="s2">false</span><span class="s0">; 
          }, 
          total: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">module.total || </span><span class="s2">false</span><span class="s0">; 
          } 
        }, 
 
        is: { 
          success: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.success); 
          }, 
          warning: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.warning); 
          }, 
          error: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.error); 
          } 
        }, 
 
        remove: { 
          active: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Removing active state'</span><span class="s0">); 
            $module.removeClass(className.active); 
          }, 
          success: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Removing success state'</span><span class="s0">); 
            $module.removeClass(className.success); 
          }, 
          warning: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Removing warning state'</span><span class="s0">); 
            $module.removeClass(className.warning); 
          }, 
          error: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Removing error state'</span><span class="s0">); 
            $module.removeClass(className.error); 
          } 
        }, 
 
        </span><span class="s2">set</span><span class="s0">: { 
          barWidth: </span><span class="s2">function</span><span class="s0">(value) { 
            </span><span class="s2">if</span><span class="s0">(value &gt; </span><span class="s4">100</span><span class="s0">) { 
              module.error(error.tooHigh, value); 
            } 
            $bar 
              .css(</span><span class="s3">'width'</span><span class="s0">, value + </span><span class="s3">'%'</span><span class="s0">) 
            ; 
          }, 
          initials: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(settings.value) { 
              module.verbose(</span><span class="s3">'Current value set in settings'</span><span class="s0">, settings.value); 
              module.value = settings.value; 
            } 
            </span><span class="s2">if</span><span class="s0">(settings.total) { 
              module.verbose(</span><span class="s3">'Current total set in settings'</span><span class="s0">, settings.total); 
              module.total = settings.total; 
            } 
            </span><span class="s2">if</span><span class="s0">(settings.percent) { 
              module.verbose(</span><span class="s3">'Current percent set in settings'</span><span class="s0">, settings.percent); 
              module.percent = settings.percent; 
            } 
            </span><span class="s2">if</span><span class="s0">(module.percent) { 
              module.set.percent(module.percent); 
            } 
            </span><span class="s2">else if</span><span class="s0">(module.value) { 
              module.set.progress(module.value); 
            } 
          }, 
          percent: </span><span class="s2">function</span><span class="s0">(percent) { 
            percent = (</span><span class="s2">typeof </span><span class="s0">percent == </span><span class="s3">'string'</span><span class="s0">) 
              ? +(percent.replace(</span><span class="s3">'%'</span><span class="s0">, </span><span class="s3">''</span><span class="s0">)) 
              : percent 
            ; 
            </span><span class="s2">if</span><span class="s0">(percent &gt; </span><span class="s4">0 </span><span class="s0">&amp;&amp; percent &lt; </span><span class="s4">1</span><span class="s0">) { 
              module.verbose(</span><span class="s3">'Module percentage passed as decimal, converting'</span><span class="s0">); 
              percent = percent * </span><span class="s4">100</span><span class="s0">; 
            } 
            </span><span class="s1">// round percentage</span><span class="s0"> 
            </span><span class="s2">if</span><span class="s0">(settings.precision === </span><span class="s4">0</span><span class="s0">) { 
              percent = Math.round(percent); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              percent = Math.round(percent * (</span><span class="s4">10 </span><span class="s0">* settings.precision) / (</span><span class="s4">10 </span><span class="s0">* settings.precision) ); 
            } 
            module.percent = percent; 
            </span><span class="s2">if</span><span class="s0">(module.total) { 
              module.value = Math.round( (percent / </span><span class="s4">100</span><span class="s0">) * module.total); 
            } 
            module.set.barWidth(percent); 
            module.set.barLabel(); 
            </span><span class="s2">if</span><span class="s0">(percent === </span><span class="s4">100</span><span class="s0">) { 
              </span><span class="s2">if</span><span class="s0">(settings.autoSuccess &amp;&amp; !(module.is.warning() || module.is.error())) { 
                module.set.success(); 
                module.debug(</span><span class="s3">'Automatically triggering success at 100%'</span><span class="s0">); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.remove.active(); 
              } 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.set.active(); 
            } 
            $.proxy(settings.onChange, element)(percent, module.value, module.total); 
          }, 
          label: </span><span class="s2">function</span><span class="s0">(text) { 
            text = text || </span><span class="s3">''</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(text) { 
              text = module.get.text(text); 
              module.debug(</span><span class="s3">'Setting label to text'</span><span class="s0">, text); 
              $label.text(text); 
            } 
          }, 
          barLabel: </span><span class="s2">function</span><span class="s0">(text) { 
            </span><span class="s2">if</span><span class="s0">(text !== undefined) { 
              $progress.text( module.get.text(text) ); 
            } 
            </span><span class="s2">else if</span><span class="s0">(settings.label == </span><span class="s3">'ratio' </span><span class="s0">&amp;&amp; module.total) { 
              module.debug(</span><span class="s3">'Adding ratio to bar label'</span><span class="s0">); 
              $progress.text( module.get.text(settings.text.ratio) ); 
            } 
            </span><span class="s2">else if</span><span class="s0">(settings.label == </span><span class="s3">'percent'</span><span class="s0">) { 
              module.debug(</span><span class="s3">'Adding percentage to bar label'</span><span class="s0">); 
              $progress.text( module.get.text(settings.text.percent) ); 
            } 
          }, 
          active: </span><span class="s2">function</span><span class="s0">(text) { 
            text = text || settings.text.active; 
            module.debug(</span><span class="s3">'Setting active state'</span><span class="s0">); 
            </span><span class="s2">if</span><span class="s0">(settings.showActivity) { 
              $module.addClass(className.active); 
            } 
            module.remove.warning(); 
            module.remove.error(); 
            module.remove.success(); 
            </span><span class="s2">if</span><span class="s0">(text) { 
              module.set.label(text); 
            } 
            $.proxy(settings.onActive, element)(module.value, module.total); 
          }, 
          success : </span><span class="s2">function</span><span class="s0">(text) { 
            text = text || settings.text.success; 
            module.debug(</span><span class="s3">'Setting success state'</span><span class="s0">); 
            $module.addClass(className.success); 
            module.remove.active(); 
            module.remove.warning(); 
            module.remove.error(); 
            module.complete(); 
            </span><span class="s2">if</span><span class="s0">(text) { 
              module.set.label(text); 
            } 
            $.proxy(settings.onSuccess, element)(module.total); 
          }, 
          warning : </span><span class="s2">function</span><span class="s0">(text) { 
            text = text || settings.text.warning; 
            module.debug(</span><span class="s3">'Setting warning state'</span><span class="s0">); 
            $module.addClass(className.warning); 
            module.remove.active(); 
            module.remove.success(); 
            module.remove.error(); 
            module.complete(); 
            </span><span class="s2">if</span><span class="s0">(text) { 
              module.set.label(text); 
            } 
            $.proxy(settings.onWarning, element)(module.value, module.total); 
          }, 
          error : </span><span class="s2">function</span><span class="s0">(text) { 
            text = text || settings.text.error; 
            module.debug(</span><span class="s3">'Setting error state'</span><span class="s0">); 
            $module.addClass(className.error); 
            module.remove.active(); 
            module.remove.success(); 
            module.remove.warning(); 
            module.complete(); 
            </span><span class="s2">if</span><span class="s0">(text) { 
              module.set.label(text); 
            } 
            $.proxy(settings.onError, element)(module.value, module.total); 
          }, 
          total: </span><span class="s2">function</span><span class="s0">(totalValue) { 
            module.total = totalValue; 
          }, 
          progress: </span><span class="s2">function</span><span class="s0">(value) { 
            </span><span class="s2">var</span><span class="s0"> 
              numericValue = (</span><span class="s2">typeof </span><span class="s0">value === </span><span class="s3">'string'</span><span class="s0">) 
                ? (value.replace(</span><span class="s4">/[^\d.]/g</span><span class="s0">, </span><span class="s3">''</span><span class="s0">) !== </span><span class="s3">''</span><span class="s0">) 
                  ? +(value.replace(</span><span class="s4">/[^\d.]/g</span><span class="s0">, </span><span class="s3">''</span><span class="s0">)) 
                  : </span><span class="s2">false</span><span class="s0"> 
                : value, 
              percentComplete 
            ; 
            </span><span class="s2">if</span><span class="s0">(!numericValue) { 
              module.error(error.nonNumeric); 
            } 
            </span><span class="s2">if</span><span class="s0">(module.total) { 
              module.value    = numericValue; 
              percentComplete = (numericValue / module.total) * </span><span class="s4">100</span><span class="s0">; 
              module.debug(</span><span class="s3">'Calculating percent complete from total'</span><span class="s0">, percentComplete); 
              module.set.percent( percentComplete ); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              percentComplete = numericValue; 
              module.debug(</span><span class="s3">'Setting value to exact percentage value'</span><span class="s0">, percentComplete); 
              module.set.percent( percentComplete ); 
            } 
          } 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing setting'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.error(error.method, query); 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
    }) 
  ; 
 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.progress.settings = { 
 
  name         : </span><span class="s3">'Progress'</span><span class="s0">, 
  namespace    : </span><span class="s3">'progress'</span><span class="s0">, 
 
  debug        : </span><span class="s2">true</span><span class="s0">, 
  verbose      : </span><span class="s2">true</span><span class="s0">, 
  performance  : </span><span class="s2">true</span><span class="s0">, 
 
  random       : { 
    min : </span><span class="s4">2</span><span class="s0">, 
    max : </span><span class="s4">5</span><span class="s0"> 
  }, 
 
  autoSuccess  : </span><span class="s2">true</span><span class="s0">, 
  showActivity : </span><span class="s2">true</span><span class="s0">, 
 
  label        : </span><span class="s3">'percent'</span><span class="s0">, 
  precision    : </span><span class="s4">1</span><span class="s0">, 
 
  percent      : </span><span class="s2">false</span><span class="s0">, 
  total        : </span><span class="s2">false</span><span class="s0">, 
  value        : </span><span class="s2">false</span><span class="s0">, 
 
  onChange     : </span><span class="s2">function</span><span class="s0">(percent, value, total){}, 
  onSuccess    : </span><span class="s2">function</span><span class="s0">(total){}, 
  onActive     : </span><span class="s2">function</span><span class="s0">(value, total){}, 
  onError      : </span><span class="s2">function</span><span class="s0">(value, total){}, 
  onWarning    : </span><span class="s2">function</span><span class="s0">(value, total){}, 
 
  error    : { 
    method     : </span><span class="s3">'The method you called is not defined.'</span><span class="s0">, 
    nonNumeric : </span><span class="s3">'Progress value is non numeric'</span><span class="s0"> 
  }, 
 
  regExp: { 
    variable: </span><span class="s4">/\{\$*[A-z0-9]+\}/g</span><span class="s0"> 
  }, 
 
  metadata: { 
    percent : </span><span class="s3">'percent'</span><span class="s0">, 
    total   : </span><span class="s3">'total'</span><span class="s0">, 
    value   : </span><span class="s3">'value'</span><span class="s0"> 
  }, 
 
  selector : { 
    bar      : </span><span class="s3">'&gt; .bar'</span><span class="s0">, 
    label    : </span><span class="s3">'&gt; .label'</span><span class="s0">, 
    progress : </span><span class="s3">'.bar &gt; .progress'</span><span class="s0"> 
  }, 
 
  text : { 
    active  : </span><span class="s2">false</span><span class="s0">, 
    error   : </span><span class="s2">false</span><span class="s0">, 
    success : </span><span class="s2">false</span><span class="s0">, 
    warning : </span><span class="s2">false</span><span class="s0">, 
    percent : </span><span class="s3">'{percent}%'</span><span class="s0">, 
    ratio   : </span><span class="s3">'{value} of {total}'</span><span class="s0"> 
  }, 
 
  className : { 
    active  : </span><span class="s3">'active'</span><span class="s0">, 
    error   : </span><span class="s3">'error'</span><span class="s0">, 
    success : </span><span class="s3">'success'</span><span class="s0">, 
    warning : </span><span class="s3">'warning'</span><span class="s0"> 
  } 
 
}; 
 
 
})( jQuery, window , document ); 
</span><span class="s1">/* 
 * # Semantic - Rating 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">($, window, document, undefined) { 
 
</span><span class="s3">&quot;use strict&quot;</span><span class="s0">; 
 
$.fn.rating = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules     = $(</span><span class="s2">this</span><span class="s0">), 
    moduleSelector  = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
    time            = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance     = [], 
 
    query           = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked   = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments  = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
    returnedValue 
  ; 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings        = ( $.isPlainObject(parameters) ) 
          ? $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.rating.settings, parameters) 
          : $.extend({}, $.fn.rating.settings), 
 
        namespace       = settings.namespace, 
        className       = settings.className, 
        metadata        = settings.metadata, 
        selector        = settings.selector, 
        error           = settings.error, 
 
        eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace = </span><span class="s3">'module-' </span><span class="s0">+ namespace, 
 
        element         = </span><span class="s2">this</span><span class="s0">, 
        instance        = $(</span><span class="s2">this</span><span class="s0">).data(moduleNamespace), 
 
        $module         = $(</span><span class="s2">this</span><span class="s0">), 
        $icon           = $module.find(selector.icon), 
 
        module 
      ; 
 
      module = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Initializing rating module'</span><span class="s0">, settings); 
 
          </span><span class="s2">if</span><span class="s0">($icon.size() === </span><span class="s4">0</span><span class="s0">) { 
            module.setup.layout(); 
          } 
 
          </span><span class="s2">if</span><span class="s0">(settings.interactive) { 
            module.enable(); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.disable(); 
          } 
          </span><span class="s2">if</span><span class="s0">(settings.initialRating) { 
            module.debug(</span><span class="s3">'Setting initial rating'</span><span class="s0">); 
            module.setRating(settings.initialRating); 
          } 
          </span><span class="s2">if</span><span class="s0">( $module.data(metadata.rating) ) { 
            module.debug(</span><span class="s3">'Rating found in metadata'</span><span class="s0">); 
            module.setRating( $module.data(metadata.rating) ); 
          } 
          module.instantiate(); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Instantiating module'</span><span class="s0">, settings); 
          instance = module; 
          $module 
            .data(moduleNamespace, module) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying previous instance'</span><span class="s0">, instance); 
          $module 
            .removeData(moduleNamespace) 
          ; 
          $icon 
            .off(eventNamespace) 
          ; 
        }, 
 
        refresh: </span><span class="s2">function</span><span class="s0">() { 
          $icon   = $module.find(selector.icon); 
        }, 
 
        setup: { 
          layout: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              maxRating = $module.data(metadata.maxRating) || settings.maxRating 
            ; 
            module.debug(</span><span class="s3">'Generating icon html dynamically'</span><span class="s0">); 
            $module 
              .html($.fn.rating.settings.templates.icon(maxRating)) 
            ; 
            module.refresh(); 
          } 
        }, 
 
        event: { 
          mouseenter: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              $activeIcon = $(</span><span class="s2">this</span><span class="s0">) 
            ; 
            $activeIcon 
              .nextAll() 
                .removeClass(className.selected) 
            ; 
            $module 
              .addClass(className.selected) 
            ; 
            $activeIcon 
              .addClass(className.selected) 
                .prevAll() 
                .addClass(className.selected) 
            ; 
          }, 
          mouseleave: </span><span class="s2">function</span><span class="s0">() { 
            $module 
              .removeClass(className.selected) 
            ; 
            $icon 
              .removeClass(className.selected) 
            ; 
          }, 
          click: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              $activeIcon   = $(</span><span class="s2">this</span><span class="s0">), 
              currentRating = module.getRating(), 
              rating        = $icon.index($activeIcon) + </span><span class="s4">1</span><span class="s0">, 
              canClear      = (settings.clearable == </span><span class="s3">'auto'</span><span class="s0">) 
               ? ($icon.size() === </span><span class="s4">1</span><span class="s0">) 
               : settings.clearable 
            ; 
            </span><span class="s2">if</span><span class="s0">(canClear &amp;&amp; currentRating == rating) { 
              module.clearRating(); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.setRating( rating ); 
            } 
          } 
        }, 
 
        clearRating: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Clearing current rating'</span><span class="s0">); 
          module.setRating(</span><span class="s4">0</span><span class="s0">); 
        }, 
 
        getRating: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">var</span><span class="s0"> 
            currentRating = $icon.filter(</span><span class="s3">'.' </span><span class="s0">+ className.active).size() 
          ; 
          module.verbose(</span><span class="s3">'Current rating retrieved'</span><span class="s0">, currentRating); 
          </span><span class="s2">return </span><span class="s0">currentRating; 
        }, 
 
        enable: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Setting rating to interactive mode'</span><span class="s0">); 
          $icon 
            .on(</span><span class="s3">'mouseenter' </span><span class="s0">+ eventNamespace, module.event.mouseenter) 
            .on(</span><span class="s3">'mouseleave' </span><span class="s0">+ eventNamespace, module.event.mouseleave) 
            .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, module.event.click) 
          ; 
          $module 
            .removeClass(className.disabled) 
          ; 
        }, 
 
        disable: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Setting rating to read-only mode'</span><span class="s0">); 
          $icon 
            .off(eventNamespace) 
          ; 
          $module 
            .addClass(className.disabled) 
          ; 
        }, 
 
        setRating: </span><span class="s2">function</span><span class="s0">(rating) { 
          </span><span class="s2">var</span><span class="s0"> 
            ratingIndex = (rating - </span><span class="s4">1 </span><span class="s0">&gt;= </span><span class="s4">0</span><span class="s0">) 
              ? (rating - </span><span class="s4">1</span><span class="s0">) 
              : </span><span class="s4">0</span><span class="s0">, 
            $activeIcon = $icon.eq(ratingIndex) 
          ; 
          $module 
            .removeClass(className.selected) 
          ; 
          $icon 
            .removeClass(className.selected) 
            .removeClass(className.active) 
          ; 
          </span><span class="s2">if</span><span class="s0">(rating &gt; </span><span class="s4">0</span><span class="s0">) { 
            module.verbose(</span><span class="s3">'Setting current rating to'</span><span class="s0">, rating); 
            $activeIcon 
              .prevAll() 
              .andSelf() 
                .addClass(className.active) 
            ; 
          } 
          $.proxy(settings.onRate, element)(rating); 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing setting'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">($allModules.size() &gt; </span><span class="s4">1</span><span class="s0">) { 
              title += </span><span class="s3">' ' </span><span class="s0">+ </span><span class="s3">'(' </span><span class="s0">+ $allModules.size() + </span><span class="s3">')'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
    }) 
  ; 
 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.rating.settings = { 
 
  name          : </span><span class="s3">'Rating'</span><span class="s0">, 
  namespace     : </span><span class="s3">'rating'</span><span class="s0">, 
 
  debug         : </span><span class="s2">false</span><span class="s0">, 
  verbose       : </span><span class="s2">true</span><span class="s0">, 
  performance   : </span><span class="s2">true</span><span class="s0">, 
 
  initialRating : </span><span class="s4">0</span><span class="s0">, 
  interactive   : </span><span class="s2">true</span><span class="s0">, 
  maxRating     : </span><span class="s4">4</span><span class="s0">, 
  clearable     : </span><span class="s3">'auto'</span><span class="s0">, 
 
  onRate        : </span><span class="s2">function</span><span class="s0">(rating){}, 
 
  error         : { 
    method    : </span><span class="s3">'The method you called is not defined'</span><span class="s0">, 
    noMaximum : </span><span class="s3">'No maximum rating specified. Cannot generate HTML automatically'</span><span class="s0"> 
  }, 
 
 
  metadata: { 
    rating    : </span><span class="s3">'rating'</span><span class="s0">, 
    maxRating : </span><span class="s3">'maxRating'</span><span class="s0"> 
  }, 
 
  className : { 
    active   : </span><span class="s3">'active'</span><span class="s0">, 
    disabled : </span><span class="s3">'disabled'</span><span class="s0">, 
    selected : </span><span class="s3">'selected'</span><span class="s0">, 
    loading  : </span><span class="s3">'loading'</span><span class="s0"> 
  }, 
 
  selector  : { 
    icon : </span><span class="s3">'.icon'</span><span class="s0"> 
  }, 
 
  templates: { 
    icon: </span><span class="s2">function</span><span class="s0">(maxRating) { 
      </span><span class="s2">var</span><span class="s0"> 
        icon = </span><span class="s4">1</span><span class="s0">, 
        html = </span><span class="s3">''</span><span class="s0"> 
      ; 
      </span><span class="s2">while</span><span class="s0">(icon &lt;= maxRating) { 
        html += </span><span class="s3">'&lt;i class=&quot;icon&quot;&gt;&lt;/i&gt;'</span><span class="s0">; 
        icon++; 
      } 
      </span><span class="s2">return </span><span class="s0">html; 
    } 
  } 
 
}; 
 
})( jQuery, window , document ); 
 
</span><span class="s1">/* 
 * # Semantic - Search 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">($, window, document, undefined) { 
 
</span><span class="s3">&quot;use strict&quot;</span><span class="s0">; 
 
$.fn.search = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules     = $(</span><span class="s2">this</span><span class="s0">), 
    moduleSelector  = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
    time            = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance     = [], 
 
    query           = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked   = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments  = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
    returnedValue 
  ; 
  $(</span><span class="s2">this</span><span class="s0">) 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings        = $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.search.settings, parameters), 
 
        className       = settings.className, 
        selector        = settings.selector, 
        error           = settings.error, 
        namespace       = settings.namespace, 
 
        eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace = namespace + </span><span class="s3">'-module'</span><span class="s0">, 
 
        $module         = $(</span><span class="s2">this</span><span class="s0">), 
        $prompt         = $module.find(selector.prompt), 
        $searchButton   = $module.find(selector.searchButton), 
        $results        = $module.find(selector.results), 
        $result         = $module.find(selector.result), 
        $category       = $module.find(selector.category), 
 
        element         = </span><span class="s2">this</span><span class="s0">, 
        instance        = $module.data(moduleNamespace), 
 
        module 
      ; 
      module = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Initializing module'</span><span class="s0">); 
          </span><span class="s2">var</span><span class="s0"> 
            prompt = $prompt[</span><span class="s4">0</span><span class="s0">], 
            inputEvent   = (prompt !== undefined &amp;&amp; prompt.oninput !== undefined) 
              ? </span><span class="s3">'input'</span><span class="s0"> 
              : (prompt !== undefined &amp;&amp; prompt.onpropertychange !== undefined) 
                ? </span><span class="s3">'propertychange'</span><span class="s0"> 
                : </span><span class="s3">'keyup'</span><span class="s0"> 
          ; 
          </span><span class="s2">if</span><span class="s0">(settings.automatic) { 
            $prompt 
              .on(inputEvent + eventNamespace, module.search.throttle) 
            ; 
          } 
          $prompt 
            .on(</span><span class="s3">'focus' </span><span class="s0">+ eventNamespace, module.event.focus) 
            .on(</span><span class="s3">'blur' </span><span class="s0">+ eventNamespace, module.event.blur) 
            .on(</span><span class="s3">'keydown' </span><span class="s0">+ eventNamespace, module.handleKeyboard) 
          ; 
          $searchButton 
            .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, module.search.query) 
          ; 
          $results 
            .on(</span><span class="s3">'mousedown' </span><span class="s0">+ eventNamespace, module.event.mousedown) 
            .on(</span><span class="s3">'mouseup' </span><span class="s0">+ eventNamespace, module.event.mouseup) 
            .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, selector.result, module.results.select) 
          ; 
          module.instantiate(); 
        }, 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of module'</span><span class="s0">, module); 
          instance = module; 
          $module 
            .data(moduleNamespace, module) 
          ; 
        }, 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying instance'</span><span class="s0">); 
          $module 
            .removeData(moduleNamespace) 
          ; 
          $prompt 
            .off(eventNamespace) 
          ; 
          $searchButton 
            .off(eventNamespace) 
          ; 
          $results 
            .off(eventNamespace) 
          ; 
        }, 
        event: { 
          focus: </span><span class="s2">function</span><span class="s0">() { 
            $module 
              .addClass(className.focus) 
            ; 
            clearTimeout(module.timer); 
            module.search.throttle(); 
            </span><span class="s2">if</span><span class="s0">(module.has.minimum())  { 
              module.results.show(); 
            } 
          }, 
          mousedown: </span><span class="s2">function</span><span class="s0">() { 
            module.resultsClicked = </span><span class="s2">true</span><span class="s0">; 
          }, 
          mouseup: </span><span class="s2">function</span><span class="s0">() { 
            module.resultsClicked = </span><span class="s2">false</span><span class="s0">; 
          }, 
          blur: </span><span class="s2">function</span><span class="s0">(event) { 
            module.search.cancel(); 
            $module 
              .removeClass(className.focus) 
            ; 
            </span><span class="s2">if</span><span class="s0">(!module.resultsClicked) { 
              module.timer = setTimeout(module.results.hide, settings.hideDelay); 
            } 
          } 
        }, 
        handleKeyboard: </span><span class="s2">function</span><span class="s0">(event) { 
          </span><span class="s2">var</span><span class="s0"> 
            </span><span class="s1">// force latest jq dom</span><span class="s0"> 
            $result       = $module.find(selector.result), 
            $category     = $module.find(selector.category), 
            keyCode       = event.which, 
            keys          = { 
              backspace : </span><span class="s4">8</span><span class="s0">, 
              enter     : </span><span class="s4">13</span><span class="s0">, 
              escape    : </span><span class="s4">27</span><span class="s0">, 
              upArrow   : </span><span class="s4">38</span><span class="s0">, 
              downArrow : </span><span class="s4">40</span><span class="s0"> 
            }, 
            activeClass  = className.active, 
            currentIndex = $result.index( $result.filter(</span><span class="s3">'.' </span><span class="s0">+ activeClass) ), 
            resultSize   = $result.size(), 
            newIndex 
          ; 
          </span><span class="s1">// search shortcuts</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">(keyCode == keys.escape) { 
            module.verbose(</span><span class="s3">'Escape key pressed, blurring search field'</span><span class="s0">); 
            $prompt 
              .trigger(</span><span class="s3">'blur'</span><span class="s0">) 
            ; 
          } 
          </span><span class="s1">// result shortcuts</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">($results.filter(</span><span class="s3">':visible'</span><span class="s0">).size() &gt; </span><span class="s4">0</span><span class="s0">) { 
            </span><span class="s2">if</span><span class="s0">(keyCode == keys.enter) { 
              module.verbose(</span><span class="s3">'Enter key pressed, selecting active result'</span><span class="s0">); 
              </span><span class="s2">if</span><span class="s0">( $result.filter(</span><span class="s3">'.' </span><span class="s0">+ activeClass).size() &gt; </span><span class="s4">0 </span><span class="s0">) { 
                $.proxy(module.results.select, $result.filter(</span><span class="s3">'.' </span><span class="s0">+ activeClass) )(event); 
                event.preventDefault(); 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            } 
            </span><span class="s2">else if</span><span class="s0">(keyCode == keys.upArrow) { 
              module.verbose(</span><span class="s3">'Up key pressed, changing active result'</span><span class="s0">); 
              newIndex = (currentIndex - </span><span class="s4">1 </span><span class="s0">&lt; </span><span class="s4">0</span><span class="s0">) 
                ? currentIndex 
                : currentIndex - </span><span class="s4">1</span><span class="s0"> 
              ; 
              $category 
                .removeClass(activeClass) 
              ; 
              $result 
                .removeClass(activeClass) 
                .eq(newIndex) 
                  .addClass(activeClass) 
                  .closest($category) 
                    .addClass(activeClass) 
              ; 
              event.preventDefault(); 
            } 
            </span><span class="s2">else if</span><span class="s0">(keyCode == keys.downArrow) { 
              module.verbose(</span><span class="s3">'Down key pressed, changing active result'</span><span class="s0">); 
              newIndex = (currentIndex + </span><span class="s4">1 </span><span class="s0">&gt;= resultSize) 
                ? currentIndex 
                : currentIndex + </span><span class="s4">1</span><span class="s0"> 
              ; 
              $category 
                .removeClass(activeClass) 
              ; 
              $result 
                .removeClass(activeClass) 
                .eq(newIndex) 
                  .addClass(activeClass) 
                  .closest($category) 
                    .addClass(activeClass) 
              ; 
              event.preventDefault(); 
            } 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s1">// query shortcuts</span><span class="s0"> 
            </span><span class="s2">if</span><span class="s0">(keyCode == keys.enter) { 
              module.verbose(</span><span class="s3">'Enter key pressed, executing query'</span><span class="s0">); 
              module.search.query(); 
              $searchButton 
                .addClass(className.down) 
              ; 
              $prompt 
                .one(</span><span class="s3">'keyup'</span><span class="s0">, </span><span class="s2">function</span><span class="s0">(){ 
                  $searchButton 
                    .removeClass(className.down) 
                  ; 
                }) 
              ; 
            } 
          } 
        }, 
        has: { 
          minimum: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              searchTerm    = $prompt.val(), 
              numCharacters = searchTerm.length 
            ; 
            </span><span class="s2">return </span><span class="s0">(numCharacters &gt;= settings.minCharacters); 
          } 
        }, 
        search: { 
          cancel: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              xhr = $module.data(</span><span class="s3">'xhr'</span><span class="s0">) || </span><span class="s2">false</span><span class="s0"> 
            ; 
            </span><span class="s2">if</span><span class="s0">( xhr &amp;&amp; xhr.state() != </span><span class="s3">'resolved'</span><span class="s0">) { 
              module.debug(</span><span class="s3">'Cancelling last search'</span><span class="s0">); 
              xhr.abort(); 
            } 
          }, 
          throttle: </span><span class="s2">function</span><span class="s0">() { 
            clearTimeout(module.timer); 
            </span><span class="s2">if</span><span class="s0">(module.has.minimum())  { 
              module.timer = setTimeout(module.search.query, settings.searchDelay); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.results.hide(); 
            } 
          }, 
          query: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              searchTerm = $prompt.val(), 
              cachedHTML = module.search.cache.read(searchTerm) 
            ; 
            </span><span class="s2">if</span><span class="s0">(cachedHTML) { 
              module.debug(</span><span class="s3">&quot;Reading result for '&quot; </span><span class="s0">+ searchTerm + </span><span class="s3">&quot;' from cache&quot;</span><span class="s0">); 
              module.results.add(cachedHTML); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug(</span><span class="s3">&quot;Querying for '&quot; </span><span class="s0">+ searchTerm + </span><span class="s3">&quot;'&quot;</span><span class="s0">); 
              </span><span class="s2">if</span><span class="s0">($.isPlainObject(settings.source) || $.isArray(settings.source)) { 
                module.search.local(searchTerm); 
              } 
              </span><span class="s2">else if</span><span class="s0">(settings.apiSettings) { 
                module.search.remote(searchTerm); 
              } 
              </span><span class="s2">else if</span><span class="s0">($.fn.api !== undefined &amp;&amp; $.api.settings.api.search !== undefined) { 
                module.debug(</span><span class="s3">'Searching with default search API endpoint'</span><span class="s0">); 
                settings.apiSettings = { 
                  action: </span><span class="s3">'search'</span><span class="s0"> 
                }; 
                module.search.remote(searchTerm); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.error(error.source); 
              } 
              $.proxy(settings.onSearchQuery, $module)(searchTerm); 
            } 
          }, 
          local: </span><span class="s2">function</span><span class="s0">(searchTerm) { 
            </span><span class="s2">var</span><span class="s0"> 
              results   = [], 
              fullTextResults = [], 
              searchFields    = $.isArray(settings.searchFields) 
                ? settings.searchFields 
                : [settings.searchFields], 
              searchRegExp   = </span><span class="s2">new </span><span class="s0">RegExp(</span><span class="s3">'(?:</span><span class="s2">\s</span><span class="s3">|^)' </span><span class="s0">+ searchTerm, </span><span class="s3">'i'</span><span class="s0">), 
              fullTextRegExp = </span><span class="s2">new </span><span class="s0">RegExp(searchTerm, </span><span class="s3">'i'</span><span class="s0">), 
              searchHTML 
            ; 
            $module 
              .addClass(className.loading) 
            ; 
            </span><span class="s1">// iterate through search fields in array order</span><span class="s0"> 
            $.each(searchFields, </span><span class="s2">function</span><span class="s0">(index, field) { 
              $.each(settings.source, </span><span class="s2">function</span><span class="s0">(label, content) { 
                </span><span class="s2">var</span><span class="s0"> 
                  fieldExists = (</span><span class="s2">typeof </span><span class="s0">content[field] == </span><span class="s3">'string'</span><span class="s0">), 
                  notAlreadyResult = ($.inArray(content, results) == -</span><span class="s4">1 </span><span class="s0">&amp;&amp; $.inArray(content, fullTextResults) == -</span><span class="s4">1</span><span class="s0">) 
                ; 
                </span><span class="s2">if</span><span class="s0">(fieldExists &amp;&amp; notAlreadyResult) { 
                  </span><span class="s2">if</span><span class="s0">( searchRegExp.test( content[field] ) ) { 
                    results.push(content); 
                  } 
                  </span><span class="s2">else if</span><span class="s0">( settings.searchFullText &amp;&amp; fullTextRegExp.test( content[field] ) ) { 
                    fullTextResults.push(content); 
                  } 
                } 
              }); 
            }); 
            searchHTML = module.results.generate({ 
              results: $.merge(results, fullTextResults) 
            }); 
            $module 
              .removeClass(className.loading) 
            ; 
            module.search.cache.write(searchTerm, searchHTML); 
            module.results.add(searchHTML); 
          }, 
          remote: </span><span class="s2">function</span><span class="s0">(searchTerm) { 
            </span><span class="s2">var</span><span class="s0"> 
              apiSettings = { 
                stateContext : $module, 
                urlData      : { 
                  query: searchTerm 
                }, 
                onSuccess : </span><span class="s2">function</span><span class="s0">(response) { 
                  searchHTML = module.results.generate(response); 
                  module.search.cache.write(searchTerm, searchHTML); 
                  module.results.add(searchHTML); 
                }, 
                onFailure : module.error 
              }, 
              searchHTML 
            ; 
            module.search.cancel(); 
            module.debug(</span><span class="s3">'Executing search'</span><span class="s0">); 
            $.extend(</span><span class="s2">true</span><span class="s0">, apiSettings, settings.apiSettings); 
            $.api(apiSettings); 
          }, 
 
          cache: { 
            read: </span><span class="s2">function</span><span class="s0">(name) { 
              </span><span class="s2">var</span><span class="s0"> 
                cache = $module.data(</span><span class="s3">'cache'</span><span class="s0">) 
              ; 
              </span><span class="s2">return </span><span class="s0">(settings.cache &amp;&amp; (</span><span class="s2">typeof </span><span class="s0">cache == </span><span class="s3">'object'</span><span class="s0">) &amp;&amp; (cache[name] !== undefined) ) 
                ? cache[name] 
                : </span><span class="s2">false</span><span class="s0"> 
              ; 
            }, 
            write: </span><span class="s2">function</span><span class="s0">(name, value) { 
              </span><span class="s2">var</span><span class="s0"> 
                cache = ($module.data(</span><span class="s3">'cache'</span><span class="s0">) !== undefined) 
                  ? $module.data(</span><span class="s3">'cache'</span><span class="s0">) 
                  : {} 
              ; 
              cache[name] = value; 
              $module 
                .data(</span><span class="s3">'cache'</span><span class="s0">, cache) 
              ; 
            } 
          } 
        }, 
 
        results: { 
          generate: </span><span class="s2">function</span><span class="s0">(response) { 
            module.debug(</span><span class="s3">'Generating html from response'</span><span class="s0">, response); 
            </span><span class="s2">var</span><span class="s0"> 
              template = settings.templates[settings.type], 
              html     = </span><span class="s3">''</span><span class="s0"> 
            ; 
            </span><span class="s2">if</span><span class="s0">(($.isPlainObject(response.results) &amp;&amp; !$.isEmptyObject(response.results)) || ($.isArray(response.results) &amp;&amp; response.results.length &gt; </span><span class="s4">0</span><span class="s0">) ) { 
              </span><span class="s2">if</span><span class="s0">(settings.maxResults &gt; </span><span class="s4">0</span><span class="s0">) { 
                response.results = $.isArray(response.results) 
                  ? response.results.slice(</span><span class="s4">0</span><span class="s0">, settings.maxResults) 
                  : response.results 
                ; 
              } 
              </span><span class="s2">if</span><span class="s0">($.isFunction(template)) { 
                html = template(response); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.error(error.noTemplate, </span><span class="s2">false</span><span class="s0">); 
              } 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              html = module.message(error.noResults, </span><span class="s3">'empty'</span><span class="s0">); 
            } 
            $.proxy(settings.onResults, $module)(response); 
            </span><span class="s2">return </span><span class="s0">html; 
          }, 
          add: </span><span class="s2">function</span><span class="s0">(html) { 
            </span><span class="s2">if</span><span class="s0">(settings.onResultsAdd == </span><span class="s3">'default' </span><span class="s0">|| $.proxy(settings.onResultsAdd, $results)(html) == </span><span class="s3">'default'</span><span class="s0">) { 
              $results 
                .html(html) 
              ; 
            } 
            module.results.show(); 
          }, 
          show: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">( ($results.filter(</span><span class="s3">':visible'</span><span class="s0">).size() === </span><span class="s4">0</span><span class="s0">) &amp;&amp; ($prompt.filter(</span><span class="s3">':focus'</span><span class="s0">).size() &gt; </span><span class="s4">0</span><span class="s0">) &amp;&amp; $results.html() !== </span><span class="s3">''</span><span class="s0">) { 
              </span><span class="s2">if</span><span class="s0">(settings.transition &amp;&amp; $.fn.transition !== undefined &amp;&amp; $module.transition(</span><span class="s3">'is supported'</span><span class="s0">) &amp;&amp; !$results.transition(</span><span class="s3">'is inward'</span><span class="s0">)) { 
                module.debug(</span><span class="s3">'Showing results with css animations'</span><span class="s0">); 
                $results 
                  .transition({ 
                    animation  : settings.transition + </span><span class="s3">' in'</span><span class="s0">, 
                    duration   : settings.duration, 
                    queue      : </span><span class="s2">true</span><span class="s0"> 
                  }) 
                ; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.debug(</span><span class="s3">'Showing results with javascript'</span><span class="s0">); 
                $results 
                  .stop() 
                  .fadeIn(settings.duration, settings.easing) 
                ; 
              } 
              $.proxy(settings.onResultsOpen, $results)(); 
            } 
          }, 
          hide: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">($results.filter(</span><span class="s3">':visible'</span><span class="s0">).size() &gt; </span><span class="s4">0</span><span class="s0">) { 
              </span><span class="s2">if</span><span class="s0">(settings.transition &amp;&amp; $.fn.transition !== undefined &amp;&amp; $module.transition(</span><span class="s3">'is supported'</span><span class="s0">) &amp;&amp; !$results.transition(</span><span class="s3">'is outward'</span><span class="s0">)) { 
                module.debug(</span><span class="s3">'Hiding results with css animations'</span><span class="s0">); 
                $results 
                  .transition({ 
                    animation  : settings.transition + </span><span class="s3">' out'</span><span class="s0">, 
                    duration   : settings.duration, 
                    queue      : </span><span class="s2">true</span><span class="s0"> 
                  }) 
                ; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.debug(</span><span class="s3">'Hiding results with javascript'</span><span class="s0">); 
                $results 
                  .stop() 
                  .fadeIn(settings.duration, settings.easing) 
                ; 
              } 
              $.proxy(settings.onResultsClose, $results)(); 
            } 
          }, 
          select: </span><span class="s2">function</span><span class="s0">(event) { 
            module.debug(</span><span class="s3">'Search result selected'</span><span class="s0">); 
            </span><span class="s2">var</span><span class="s0"> 
              $result = $(</span><span class="s2">this</span><span class="s0">), 
              $title  = $result.find(</span><span class="s3">'.title'</span><span class="s0">), 
              title   = $title.html() 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.onSelect == </span><span class="s3">'default' </span><span class="s0">|| $.proxy(settings.onSelect, </span><span class="s2">this</span><span class="s0">)(event) == </span><span class="s3">'default'</span><span class="s0">) { 
              </span><span class="s2">var</span><span class="s0"> 
                $link  = $result.find(</span><span class="s3">'a[href]'</span><span class="s0">).eq(</span><span class="s4">0</span><span class="s0">), 
                $title = $result.find(selector.title).eq(</span><span class="s4">0</span><span class="s0">), 
                href   = $link.attr(</span><span class="s3">'href'</span><span class="s0">) || </span><span class="s2">false</span><span class="s0">, 
                target = $link.attr(</span><span class="s3">'target'</span><span class="s0">) || </span><span class="s2">false</span><span class="s0">, 
                name   = ($title.size() &gt; </span><span class="s4">0</span><span class="s0">) 
                  ? $title.text() 
                  : </span><span class="s2">false</span><span class="s0"> 
              ; 
              module.results.hide(); 
              </span><span class="s2">if</span><span class="s0">(name) { 
                $prompt.val(name); 
              } 
              </span><span class="s2">if</span><span class="s0">(href) { 
                </span><span class="s2">if</span><span class="s0">(target == </span><span class="s3">'_blank' </span><span class="s0">|| event.ctrlKey) { 
                  window.open(href); 
                } 
                </span><span class="s2">else </span><span class="s0">{ 
                  window.location.href = (href); 
                } 
              } 
            } 
          } 
        }, 
 
        </span><span class="s1">// displays mesage visibly in search results</span><span class="s0"> 
        message: </span><span class="s2">function</span><span class="s0">(text, type) { 
          type = type || </span><span class="s3">'standard'</span><span class="s0">; 
          module.results.add( settings.templates.message(text, type) ); 
          </span><span class="s2">return </span><span class="s0">settings.templates.message(text, type); 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">($allModules.size() &gt; </span><span class="s4">1</span><span class="s0">) { 
              title += </span><span class="s3">' ' </span><span class="s0">+ </span><span class="s3">'(' </span><span class="s0">+ $allModules.size() + </span><span class="s3">')'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
 
    }) 
  ; 
 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.search.settings = { 
 
  name           : </span><span class="s3">'Search Module'</span><span class="s0">, 
  namespace      : </span><span class="s3">'search'</span><span class="s0">, 
 
  debug          : </span><span class="s2">false</span><span class="s0">, 
  verbose        : </span><span class="s2">true</span><span class="s0">, 
  performance    : </span><span class="s2">true</span><span class="s0">, 
 
  </span><span class="s1">// api config</span><span class="s0"> 
  apiSettings    : </span><span class="s2">false</span><span class="s0">, 
  type           : </span><span class="s3">'standard'</span><span class="s0">, 
  minCharacters  : </span><span class="s4">1</span><span class="s0">, 
 
  source         : </span><span class="s2">false</span><span class="s0">, 
  searchFields   : [ 
    </span><span class="s3">'title'</span><span class="s0">, 
    </span><span class="s3">'description'</span><span class="s0"> 
  ], 
  searchFullText : </span><span class="s2">true</span><span class="s0">, 
 
  automatic      : </span><span class="s3">'true'</span><span class="s0">, 
  hideDelay      : </span><span class="s4">0</span><span class="s0">, 
  searchDelay    : </span><span class="s4">300</span><span class="s0">, 
  maxResults     : </span><span class="s4">7</span><span class="s0">, 
  cache          : </span><span class="s2">true</span><span class="s0">, 
 
  transition     : </span><span class="s3">'scale'</span><span class="s0">, 
  duration       : </span><span class="s4">300</span><span class="s0">, 
  easing         : </span><span class="s3">'easeOutExpo'</span><span class="s0">, 
 
  </span><span class="s1">// onSelect default action is defined in module</span><span class="s0"> 
  onSelect       : </span><span class="s3">'default'</span><span class="s0">, 
  onResultsAdd   : </span><span class="s3">'default'</span><span class="s0">, 
 
  onSearchQuery  : </span><span class="s2">function</span><span class="s0">(){}, 
  onResults      : </span><span class="s2">function</span><span class="s0">(response){}, 
 
  onResultsOpen  : </span><span class="s2">function</span><span class="s0">(){}, 
  onResultsClose : </span><span class="s2">function</span><span class="s0">(){}, 
 
  className: { 
    active  : </span><span class="s3">'active'</span><span class="s0">, 
    down    : </span><span class="s3">'down'</span><span class="s0">, 
    focus   : </span><span class="s3">'focus'</span><span class="s0">, 
    empty   : </span><span class="s3">'empty'</span><span class="s0">, 
    loading : </span><span class="s3">'loading'</span><span class="s0"> 
  }, 
 
  error : { 
    source      : </span><span class="s3">'Cannot search. No source used, and Semantic API module was not included'</span><span class="s0">, 
    noResults   : </span><span class="s3">'Your search returned no results'</span><span class="s0">, 
    logging     : </span><span class="s3">'Error in debug logging, exiting.'</span><span class="s0">, 
    noTemplate  : </span><span class="s3">'A valid template name was not specified.'</span><span class="s0">, 
    serverError : </span><span class="s3">'There was an issue with querying the server.'</span><span class="s0">, 
    method      : </span><span class="s3">'The method you called is not defined.'</span><span class="s0"> 
  }, 
 
  selector : { 
    prompt       : </span><span class="s3">'.prompt'</span><span class="s0">, 
    searchButton : </span><span class="s3">'.search.button'</span><span class="s0">, 
    results      : </span><span class="s3">'.results'</span><span class="s0">, 
    category     : </span><span class="s3">'.category'</span><span class="s0">, 
    result       : </span><span class="s3">'.result'</span><span class="s0">, 
    title        : </span><span class="s3">'.title, .name'</span><span class="s0"> 
  }, 
 
  templates: { 
    escape: </span><span class="s2">function</span><span class="s0">(string) { 
      </span><span class="s2">var</span><span class="s0"> 
        badChars     = </span><span class="s4">/[&amp;&lt;&gt;&quot;'`]/g</span><span class="s0">, 
        shouldEscape = </span><span class="s4">/[&amp;&lt;&gt;&quot;'`]/</span><span class="s0">, 
        escape       = { 
          </span><span class="s3">&quot;&amp;&quot;</span><span class="s0">: </span><span class="s3">&quot;&amp;amp;&quot;</span><span class="s0">, 
          </span><span class="s3">&quot;&lt;&quot;</span><span class="s0">: </span><span class="s3">&quot;&amp;lt;&quot;</span><span class="s0">, 
          </span><span class="s3">&quot;&gt;&quot;</span><span class="s0">: </span><span class="s3">&quot;&amp;gt;&quot;</span><span class="s0">, 
          </span><span class="s3">'&quot;'</span><span class="s0">: </span><span class="s3">&quot;&amp;quot;&quot;</span><span class="s0">, 
          </span><span class="s3">&quot;'&quot;</span><span class="s0">: </span><span class="s3">&quot;&amp;#x27;&quot;</span><span class="s0">, 
          </span><span class="s3">&quot;`&quot;</span><span class="s0">: </span><span class="s3">&quot;&amp;#x60;&quot;</span><span class="s0"> 
        }, 
        escapedChar  = </span><span class="s2">function</span><span class="s0">(chr) { 
          </span><span class="s2">return </span><span class="s0">escape[chr]; 
        } 
      ; 
      </span><span class="s2">if</span><span class="s0">(shouldEscape.test(string)) { 
        </span><span class="s2">return </span><span class="s0">string.replace(badChars, escapedChar); 
      } 
      </span><span class="s2">return </span><span class="s0">string; 
    }, 
    message: </span><span class="s2">function</span><span class="s0">(message, type) { 
      </span><span class="s2">var</span><span class="s0"> 
        html = </span><span class="s3">''</span><span class="s0"> 
      ; 
      </span><span class="s2">if</span><span class="s0">(message !== undefined &amp;&amp; type !== undefined) { 
        html +=  </span><span class="s3">''</span><span class="s0"> 
          + </span><span class="s3">'&lt;div class=&quot;message ' </span><span class="s0">+ type + </span><span class="s3">'&quot;&gt;'</span><span class="s0"> 
        ; 
        </span><span class="s1">// message type</span><span class="s0"> 
        </span><span class="s2">if</span><span class="s0">(type == </span><span class="s3">'empty'</span><span class="s0">) { 
          html += </span><span class="s3">''</span><span class="s0"> 
            + </span><span class="s3">'&lt;div class=&quot;header&quot;&gt;No Results&lt;/div class=&quot;header&quot;&gt;'</span><span class="s0"> 
            + </span><span class="s3">'&lt;div class=&quot;description&quot;&gt;' </span><span class="s0">+ message + </span><span class="s3">'&lt;/div class=&quot;description&quot;&gt;'</span><span class="s0"> 
          ; 
        } 
        </span><span class="s2">else </span><span class="s0">{ 
          html += </span><span class="s3">' &lt;div class=&quot;description&quot;&gt;' </span><span class="s0">+ message + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0">; 
        } 
        html += </span><span class="s3">'&lt;/div&gt;'</span><span class="s0">; 
      } 
      </span><span class="s2">return </span><span class="s0">html; 
    }, 
    category: </span><span class="s2">function</span><span class="s0">(response) { 
      </span><span class="s2">var</span><span class="s0"> 
        html = </span><span class="s3">''</span><span class="s0">, 
        escape = $.fn.search.settings.templates.escape 
      ; 
      </span><span class="s2">if</span><span class="s0">(response.results !== undefined) { 
        </span><span class="s1">// each category</span><span class="s0"> 
        $.each(response.results, </span><span class="s2">function</span><span class="s0">(index, category) { 
          </span><span class="s2">if</span><span class="s0">(category.results !== undefined &amp;&amp; category.results.length &gt; </span><span class="s4">0</span><span class="s0">) { 
            html  += </span><span class="s3">''</span><span class="s0"> 
              + </span><span class="s3">'&lt;div class=&quot;category&quot;&gt;'</span><span class="s0"> 
              + </span><span class="s3">'&lt;div class=&quot;name&quot;&gt;' </span><span class="s0">+ category.name + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0"> 
            ; 
            </span><span class="s1">// each item inside category</span><span class="s0"> 
            $.each(category.results, </span><span class="s2">function</span><span class="s0">(index, result) { 
              html  += </span><span class="s3">'&lt;div class=&quot;result&quot;&gt;'</span><span class="s0">; 
              </span><span class="s2">if</span><span class="s0">(result.url) { 
                html  += </span><span class="s3">'&lt;a href=&quot;' </span><span class="s0">+ result.url + </span><span class="s3">'&quot;&gt;&lt;/a&gt;'</span><span class="s0">; 
              } 
              </span><span class="s2">if</span><span class="s0">(result.image !== undefined) { 
                result.image = escape(result.image); 
                html += </span><span class="s3">''</span><span class="s0"> 
                  + </span><span class="s3">'&lt;div class=&quot;image&quot;&gt;'</span><span class="s0"> 
                  + </span><span class="s3">' &lt;img src=&quot;' </span><span class="s0">+ result.image + </span><span class="s3">'&quot; alt=&quot;&quot;&gt;'</span><span class="s0"> 
                  + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0"> 
                ; 
              } 
              html += </span><span class="s3">'&lt;div class=&quot;content&quot;&gt;'</span><span class="s0">; 
              </span><span class="s2">if</span><span class="s0">(result.price !== undefined) { 
                result.price = escape(result.price); 
                html += </span><span class="s3">'&lt;div class=&quot;price&quot;&gt;' </span><span class="s0">+ result.price + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0">; 
              } 
              </span><span class="s2">if</span><span class="s0">(result.title !== undefined) { 
                result.title = escape(result.title); 
                html += </span><span class="s3">'&lt;div class=&quot;title&quot;&gt;' </span><span class="s0">+ result.title + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0">; 
              } 
              </span><span class="s2">if</span><span class="s0">(result.description !== undefined) { 
                html += </span><span class="s3">'&lt;div class=&quot;description&quot;&gt;' </span><span class="s0">+ result.description + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0">; 
              } 
              html  += </span><span class="s3">''</span><span class="s0"> 
                + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0"> 
                + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0"> 
              ; 
            }); 
            html  += </span><span class="s3">''</span><span class="s0"> 
              + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0"> 
            ; 
          } 
        }); 
        </span><span class="s2">if</span><span class="s0">(response.action) { 
          html += </span><span class="s3">''</span><span class="s0"> 
          + </span><span class="s3">'&lt;a href=&quot;' </span><span class="s0">+ response.action.url + </span><span class="s3">'&quot; class=&quot;action&quot;&gt;'</span><span class="s0"> 
          +   response.action.text 
          + </span><span class="s3">'&lt;/a&gt;'</span><span class="s0">; 
        } 
        </span><span class="s2">return </span><span class="s0">html; 
      } 
      </span><span class="s2">return false</span><span class="s0">; 
    }, 
    standard: </span><span class="s2">function</span><span class="s0">(response) { 
      </span><span class="s2">var</span><span class="s0"> 
        html = </span><span class="s3">''</span><span class="s0"> 
      ; 
      </span><span class="s2">if</span><span class="s0">(response.results !== undefined) { 
 
        </span><span class="s1">// each result</span><span class="s0"> 
        $.each(response.results, </span><span class="s2">function</span><span class="s0">(index, result) { 
          </span><span class="s2">if</span><span class="s0">(result.url) { 
            html  += </span><span class="s3">'&lt;a class=&quot;result&quot; href=&quot;' </span><span class="s0">+ result.url + </span><span class="s3">'&quot;&gt;'</span><span class="s0">; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            html  += </span><span class="s3">'&lt;a class=&quot;result&quot;&gt;'</span><span class="s0">; 
          } 
          </span><span class="s2">if</span><span class="s0">(result.image !== undefined) { 
            html += </span><span class="s3">''</span><span class="s0"> 
              + </span><span class="s3">'&lt;div class=&quot;image&quot;&gt;'</span><span class="s0"> 
              + </span><span class="s3">' &lt;img src=&quot;' </span><span class="s0">+ result.image + </span><span class="s3">'&quot;&gt;'</span><span class="s0"> 
              + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0"> 
            ; 
          } 
          html += </span><span class="s3">'&lt;div class=&quot;content&quot;&gt;'</span><span class="s0">; 
          </span><span class="s2">if</span><span class="s0">(result.price !== undefined) { 
            html += </span><span class="s3">'&lt;div class=&quot;price&quot;&gt;' </span><span class="s0">+ result.price + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0">; 
          } 
          </span><span class="s2">if</span><span class="s0">(result.title !== undefined) { 
            html += </span><span class="s3">'&lt;div class=&quot;title&quot;&gt;' </span><span class="s0">+ result.title + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0">; 
          } 
          </span><span class="s2">if</span><span class="s0">(result.description !== undefined) { 
            html += </span><span class="s3">'&lt;div class=&quot;description&quot;&gt;' </span><span class="s0">+ result.description + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0">; 
          } 
          html  += </span><span class="s3">''</span><span class="s0"> 
            + </span><span class="s3">'&lt;/div&gt;'</span><span class="s0"> 
          ; 
          html += </span><span class="s3">'&lt;/a&gt;'</span><span class="s0">; 
        }); 
 
        </span><span class="s2">if</span><span class="s0">(response.action) { 
          html += </span><span class="s3">''</span><span class="s0"> 
          + </span><span class="s3">'&lt;a href=&quot;' </span><span class="s0">+ response.action.url + </span><span class="s3">'&quot; class=&quot;action&quot;&gt;'</span><span class="s0"> 
          +   response.action.text 
          + </span><span class="s3">'&lt;/a&gt;'</span><span class="s0">; 
        } 
        </span><span class="s2">return </span><span class="s0">html; 
      } 
      </span><span class="s2">return false</span><span class="s0">; 
    } 
  } 
}; 
 
})( jQuery, window , document ); 
 
</span><span class="s1">/* 
 * # Semantic - Shape 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">( $, window, document, undefined ) { 
 
</span><span class="s3">&quot;use strict&quot;</span><span class="s0">; 
 
$.fn.shape = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules     = $(</span><span class="s2">this</span><span class="s0">), 
    $body           = $(</span><span class="s3">'body'</span><span class="s0">), 
 
    time            = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance     = [], 
 
    query           = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked   = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments  = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
 
    requestAnimationFrame = window.requestAnimationFrame 
      || window.mozRequestAnimationFrame 
      || window.webkitRequestAnimationFrame 
      || window.msRequestAnimationFrame 
      || </span><span class="s2">function</span><span class="s0">(callback) { setTimeout(callback, </span><span class="s4">0</span><span class="s0">); }, 
 
    returnedValue 
  ; 
 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        moduleSelector  = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
        settings        = $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.shape.settings, parameters), 
 
        </span><span class="s1">// internal aliases</span><span class="s0"> 
        namespace     = settings.namespace, 
        selector      = settings.selector, 
        error         = settings.error, 
        className     = settings.className, 
 
        </span><span class="s1">// define namespaces for modules</span><span class="s0"> 
        eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace = </span><span class="s3">'module-' </span><span class="s0">+ namespace, 
 
        </span><span class="s1">// selector cache</span><span class="s0"> 
        $module       = $(</span><span class="s2">this</span><span class="s0">), 
        $sides        = $module.find(selector.sides), 
        $side         = $module.find(selector.side), 
 
        </span><span class="s1">// private variables</span><span class="s0"> 
        nextIndex = </span><span class="s2">false</span><span class="s0">, 
        $activeSide, 
        $nextSide, 
 
        </span><span class="s1">// standard module</span><span class="s0"> 
        element       = </span><span class="s2">this</span><span class="s0">, 
        instance      = $module.data(moduleNamespace), 
        module 
      ; 
 
      module = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Initializing module for'</span><span class="s0">, element); 
          module.set.defaultSide(); 
          module.instantiate(); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of module'</span><span class="s0">, module); 
          instance = module; 
          $module 
            .data(moduleNamespace, instance) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying previous module for'</span><span class="s0">, element); 
          $module 
            .removeData(moduleNamespace) 
            .off(eventNamespace) 
          ; 
        }, 
 
        refresh: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Refreshing selector cache for'</span><span class="s0">, element); 
          $module = $(element); 
          $sides  = $(</span><span class="s2">this</span><span class="s0">).find(selector.shape); 
          $side   = $(</span><span class="s2">this</span><span class="s0">).find(selector.side); 
        }, 
 
        repaint: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Forcing repaint event'</span><span class="s0">); 
          </span><span class="s2">var</span><span class="s0"> 
            shape          = $sides.get(</span><span class="s4">0</span><span class="s0">) || document.createElement(</span><span class="s3">'div'</span><span class="s0">), 
            fakeAssignment = shape.offsetWidth 
          ; 
        }, 
 
        animate: </span><span class="s2">function</span><span class="s0">(propertyObject, callback) { 
          module.verbose(</span><span class="s3">'Animating box with properties'</span><span class="s0">, propertyObject); 
          callback = callback || </span><span class="s2">function</span><span class="s0">(event) { 
            module.verbose(</span><span class="s3">'Executing animation callback'</span><span class="s0">); 
            </span><span class="s2">if</span><span class="s0">(event !== undefined) { 
              event.stopPropagation(); 
            } 
            module.reset(); 
            module.set.active(); 
          }; 
          $.proxy(settings.beforeChange, $nextSide[</span><span class="s4">0</span><span class="s0">])(); 
          </span><span class="s2">if</span><span class="s0">(module.get.transitionEvent()) { 
            module.verbose(</span><span class="s3">'Starting CSS animation'</span><span class="s0">); 
            $module 
              .addClass(className.animating) 
            ; 
            $sides 
              .css(propertyObject) 
              .one(module.get.transitionEvent(), callback) 
            ; 
            module.set.duration(settings.duration); 
            requestAnimationFrame(</span><span class="s2">function</span><span class="s0">() { 
              $module 
                .addClass(className.animating) 
              ; 
              $activeSide 
                .addClass(className.hidden) 
              ; 
            }); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            callback(); 
          } 
        }, 
 
        queue: </span><span class="s2">function</span><span class="s0">(method) { 
          module.debug(</span><span class="s3">'Queueing animation of'</span><span class="s0">, method); 
          $sides 
            .one(module.get.transitionEvent(), </span><span class="s2">function</span><span class="s0">() { 
              module.debug(</span><span class="s3">'Executing queued animation'</span><span class="s0">); 
              setTimeout(</span><span class="s2">function</span><span class="s0">(){ 
                $module.shape(method); 
              }, </span><span class="s4">0</span><span class="s0">); 
            }) 
          ; 
        }, 
 
        reset: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Animating states reset'</span><span class="s0">); 
          $module 
            .removeClass(className.animating) 
            .attr(</span><span class="s3">'style'</span><span class="s0">, </span><span class="s3">''</span><span class="s0">) 
            .removeAttr(</span><span class="s3">'style'</span><span class="s0">) 
          ; 
          </span><span class="s1">// removeAttr style does not consistently work in safari</span><span class="s0"> 
          $sides 
            .attr(</span><span class="s3">'style'</span><span class="s0">, </span><span class="s3">''</span><span class="s0">) 
            .removeAttr(</span><span class="s3">'style'</span><span class="s0">) 
          ; 
          $side 
            .attr(</span><span class="s3">'style'</span><span class="s0">, </span><span class="s3">''</span><span class="s0">) 
            .removeAttr(</span><span class="s3">'style'</span><span class="s0">) 
            .removeClass(className.hidden) 
          ; 
          $nextSide 
            .removeClass(className.animating) 
            .attr(</span><span class="s3">'style'</span><span class="s0">, </span><span class="s3">''</span><span class="s0">) 
            .removeAttr(</span><span class="s3">'style'</span><span class="s0">) 
          ; 
        }, 
 
        is: { 
          complete: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">($side.filter(</span><span class="s3">'.' </span><span class="s0">+ className.active)[</span><span class="s4">0</span><span class="s0">] == $nextSide[</span><span class="s4">0</span><span class="s0">]); 
          }, 
          animating: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.animating); 
          } 
        }, 
 
        </span><span class="s2">set</span><span class="s0">: { 
 
          defaultSide: </span><span class="s2">function</span><span class="s0">() { 
            $activeSide = $module.find(</span><span class="s3">'.' </span><span class="s0">+ settings.className.active); 
            $nextSide   = ( $activeSide.next(selector.side).size() &gt; </span><span class="s4">0 </span><span class="s0">) 
              ? $activeSide.next(selector.side) 
              : $module.find(selector.side).first() 
            ; 
            nextIndex = </span><span class="s2">false</span><span class="s0">; 
            module.verbose(</span><span class="s3">'Active side set to'</span><span class="s0">, $activeSide); 
            module.verbose(</span><span class="s3">'Next side set to'</span><span class="s0">, $nextSide); 
          }, 
 
          duration: </span><span class="s2">function</span><span class="s0">(duration) { 
            duration = duration || settings.duration; 
            duration = (</span><span class="s2">typeof </span><span class="s0">duration == </span><span class="s3">'number'</span><span class="s0">) 
              ? duration + </span><span class="s3">'ms'</span><span class="s0"> 
              : duration 
            ; 
            module.verbose(</span><span class="s3">'Setting animation duration'</span><span class="s0">, duration); 
            $sides.add($side) 
              .css({ 
                </span><span class="s3">'-webkit-transition-duration'</span><span class="s0">: duration, 
                </span><span class="s3">'-moz-transition-duration'</span><span class="s0">: duration, 
                </span><span class="s3">'-ms-transition-duration'</span><span class="s0">: duration, 
                </span><span class="s3">'-o-transition-duration'</span><span class="s0">: duration, 
                </span><span class="s3">'transition-duration'</span><span class="s0">: duration 
              }) 
            ; 
          }, 
 
          stageSize: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              $clone      = $module.clone().addClass(className.loading), 
              $activeSide = $clone.find(</span><span class="s3">'.' </span><span class="s0">+ settings.className.active), 
              $nextSide   = (nextIndex) 
                ? $clone.find(selector.side).eq(nextIndex) 
                : ( $activeSide.next(selector.side).size() &gt; </span><span class="s4">0 </span><span class="s0">) 
                  ? $activeSide.next(selector.side) 
                  : $clone.find(selector.side).first(), 
              newSize = {} 
            ; 
            $activeSide.removeClass(className.active); 
            $nextSide.addClass(className.active); 
            $clone.insertAfter($module); 
            newSize = { 
              width  : $nextSide.outerWidth(), 
              height : $nextSide.outerHeight() 
            }; 
            $clone.remove(); 
            $module 
              .css(newSize) 
            ; 
            module.verbose(</span><span class="s3">'Resizing stage to fit new content'</span><span class="s0">, newSize); 
          }, 
 
          nextSide: </span><span class="s2">function</span><span class="s0">(selector) { 
            nextIndex = selector; 
            $nextSide = $side.filter(selector); 
            nextIndex = $side.index($nextSide); 
            </span><span class="s2">if</span><span class="s0">($nextSide.size() === </span><span class="s4">0</span><span class="s0">) { 
              module.set.defaultSide(); 
              module.error(error.side); 
            } 
            module.verbose(</span><span class="s3">'Next side manually set to'</span><span class="s0">, $nextSide); 
          }, 
 
          active: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Setting new side to active'</span><span class="s0">, $nextSide); 
            $side 
              .removeClass(className.active) 
            ; 
            $nextSide 
              .addClass(className.active) 
            ; 
            $.proxy(settings.onChange, $nextSide[</span><span class="s4">0</span><span class="s0">])(); 
            module.set.defaultSide(); 
          } 
        }, 
 
        flip: { 
 
          up: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.is.complete() &amp;&amp; !module.is.animating() &amp;&amp; !settings.allowRepeats) { 
              module.debug(</span><span class="s3">'Side already visible'</span><span class="s0">, $nextSide); 
              </span><span class="s2">return</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( !module.is.animating()) { 
              module.debug(</span><span class="s3">'Flipping up'</span><span class="s0">, $nextSide); 
              module.set.stageSize(); 
              module.stage.above(); 
              module.animate( module.get.transform.up() ); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.queue(</span><span class="s3">'flip up'</span><span class="s0">); 
            } 
          }, 
 
          down: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.is.complete() &amp;&amp; !module.is.animating() &amp;&amp; !settings.allowRepeats) { 
              module.debug(</span><span class="s3">'Side already visible'</span><span class="s0">, $nextSide); 
              </span><span class="s2">return</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( !module.is.animating()) { 
              module.debug(</span><span class="s3">'Flipping down'</span><span class="s0">, $nextSide); 
              module.set.stageSize(); 
              module.stage.below(); 
              module.animate( module.get.transform.down() ); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.queue(</span><span class="s3">'flip down'</span><span class="s0">); 
            } 
          }, 
 
          left: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.is.complete() &amp;&amp; !module.is.animating() &amp;&amp; !settings.allowRepeats) { 
              module.debug(</span><span class="s3">'Side already visible'</span><span class="s0">, $nextSide); 
              </span><span class="s2">return</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( !module.is.animating()) { 
              module.debug(</span><span class="s3">'Flipping left'</span><span class="s0">, $nextSide); 
              module.set.stageSize(); 
              module.stage.left(); 
              module.animate(module.get.transform.left() ); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.queue(</span><span class="s3">'flip left'</span><span class="s0">); 
            } 
          }, 
 
          right: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.is.complete() &amp;&amp; !module.is.animating() &amp;&amp; !settings.allowRepeats) { 
              module.debug(</span><span class="s3">'Side already visible'</span><span class="s0">, $nextSide); 
              </span><span class="s2">return</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( !module.is.animating()) { 
              module.debug(</span><span class="s3">'Flipping right'</span><span class="s0">, $nextSide); 
              module.set.stageSize(); 
              module.stage.right(); 
              module.animate(module.get.transform.right() ); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.queue(</span><span class="s3">'flip right'</span><span class="s0">); 
            } 
          }, 
 
          over: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.is.complete() &amp;&amp; !module.is.animating() &amp;&amp; !settings.allowRepeats) { 
              module.debug(</span><span class="s3">'Side already visible'</span><span class="s0">, $nextSide); 
              </span><span class="s2">return</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( !module.is.animating()) { 
              module.debug(</span><span class="s3">'Flipping over'</span><span class="s0">, $nextSide); 
              module.set.stageSize(); 
              module.stage.behind(); 
              module.animate(module.get.transform.over() ); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.queue(</span><span class="s3">'flip over'</span><span class="s0">); 
            } 
          }, 
 
          back: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.is.complete() &amp;&amp; !module.is.animating() &amp;&amp; !settings.allowRepeats) { 
              module.debug(</span><span class="s3">'Side already visible'</span><span class="s0">, $nextSide); 
              </span><span class="s2">return</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( !module.is.animating()) { 
              module.debug(</span><span class="s3">'Flipping back'</span><span class="s0">, $nextSide); 
              module.set.stageSize(); 
              module.stage.behind(); 
              module.animate(module.get.transform.back() ); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.queue(</span><span class="s3">'flip back'</span><span class="s0">); 
            } 
          } 
 
        }, 
 
        </span><span class="s2">get</span><span class="s0">: { 
 
          transform: { 
            up: </span><span class="s2">function</span><span class="s0">() { 
              </span><span class="s2">var</span><span class="s0"> 
                translate = { 
                  y: -(($activeSide.outerHeight() - $nextSide.outerHeight()) / </span><span class="s4">2</span><span class="s0">), 
                  z: -($activeSide.outerHeight() / </span><span class="s4">2</span><span class="s0">) 
                } 
              ; 
              </span><span class="s2">return </span><span class="s0">{ 
                transform: </span><span class="s3">'translateY(' </span><span class="s0">+ translate.y + </span><span class="s3">'px) translateZ('</span><span class="s0">+ translate.z + </span><span class="s3">'px) rotateX(-90deg)'</span><span class="s0"> 
              }; 
            }, 
 
            down: </span><span class="s2">function</span><span class="s0">() { 
              </span><span class="s2">var</span><span class="s0"> 
                translate = { 
                  y: -(($activeSide.outerHeight() - $nextSide.outerHeight()) / </span><span class="s4">2</span><span class="s0">), 
                  z: -($activeSide.outerHeight() / </span><span class="s4">2</span><span class="s0">) 
                } 
              ; 
              </span><span class="s2">return </span><span class="s0">{ 
                transform: </span><span class="s3">'translateY(' </span><span class="s0">+ translate.y + </span><span class="s3">'px) translateZ('</span><span class="s0">+ translate.z + </span><span class="s3">'px) rotateX(90deg)'</span><span class="s0"> 
              }; 
            }, 
 
            left: </span><span class="s2">function</span><span class="s0">() { 
              </span><span class="s2">var</span><span class="s0"> 
                translate = { 
                  x : -(($activeSide.outerWidth() - $nextSide.outerWidth()) / </span><span class="s4">2</span><span class="s0">), 
                  z : -($activeSide.outerWidth() / </span><span class="s4">2</span><span class="s0">) 
                } 
              ; 
              </span><span class="s2">return </span><span class="s0">{ 
                transform: </span><span class="s3">'translateX(' </span><span class="s0">+ translate.x + </span><span class="s3">'px) translateZ(' </span><span class="s0">+ translate.z + </span><span class="s3">'px) rotateY(90deg)'</span><span class="s0"> 
              }; 
            }, 
 
            right: </span><span class="s2">function</span><span class="s0">() { 
              </span><span class="s2">var</span><span class="s0"> 
                translate = { 
                  x : -(($activeSide.outerWidth() - $nextSide.outerWidth()) / </span><span class="s4">2</span><span class="s0">), 
                  z : -($activeSide.outerWidth() / </span><span class="s4">2</span><span class="s0">) 
                } 
              ; 
              </span><span class="s2">return </span><span class="s0">{ 
                transform: </span><span class="s3">'translateX(' </span><span class="s0">+ translate.x + </span><span class="s3">'px) translateZ(' </span><span class="s0">+ translate.z + </span><span class="s3">'px) rotateY(-90deg)'</span><span class="s0"> 
              }; 
            }, 
 
            over: </span><span class="s2">function</span><span class="s0">() { 
              </span><span class="s2">var</span><span class="s0"> 
                translate = { 
                  x : -(($activeSide.outerWidth() - $nextSide.outerWidth()) / </span><span class="s4">2</span><span class="s0">) 
                } 
              ; 
              </span><span class="s2">return </span><span class="s0">{ 
                transform: </span><span class="s3">'translateX(' </span><span class="s0">+ translate.x + </span><span class="s3">'px) rotateY(180deg)'</span><span class="s0"> 
              }; 
            }, 
 
            back: </span><span class="s2">function</span><span class="s0">() { 
              </span><span class="s2">var</span><span class="s0"> 
                translate = { 
                  x : -(($activeSide.outerWidth() - $nextSide.outerWidth()) / </span><span class="s4">2</span><span class="s0">) 
                } 
              ; 
              </span><span class="s2">return </span><span class="s0">{ 
                transform: </span><span class="s3">'translateX(' </span><span class="s0">+ translate.x + </span><span class="s3">'px) rotateY(-180deg)'</span><span class="s0"> 
              }; 
            } 
          }, 
 
          transitionEvent: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              element     = document.createElement(</span><span class="s3">'element'</span><span class="s0">), 
              transitions = { 
                </span><span class="s3">'transition'       </span><span class="s0">:</span><span class="s3">'transitionend'</span><span class="s0">, 
                </span><span class="s3">'OTransition'      </span><span class="s0">:</span><span class="s3">'oTransitionEnd'</span><span class="s0">, 
                </span><span class="s3">'MozTransition'    </span><span class="s0">:</span><span class="s3">'transitionend'</span><span class="s0">, 
                </span><span class="s3">'WebkitTransition' </span><span class="s0">:</span><span class="s3">'webkitTransitionEnd'</span><span class="s0"> 
              }, 
              transition 
            ; 
            </span><span class="s2">for</span><span class="s0">(transition </span><span class="s2">in </span><span class="s0">transitions){ 
              </span><span class="s2">if</span><span class="s0">( element.style[transition] !== undefined ){ 
                </span><span class="s2">return </span><span class="s0">transitions[transition]; 
              } 
            } 
          }, 
 
          nextSide: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">( $activeSide.next(selector.side).size() &gt; </span><span class="s4">0 </span><span class="s0">) 
              ? $activeSide.next(selector.side) 
              : $module.find(selector.side).first() 
            ; 
          } 
 
        }, 
 
        stage: { 
 
          above: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              box = { 
                origin : (($activeSide.outerHeight() - $nextSide.outerHeight()) / </span><span class="s4">2</span><span class="s0">), 
                depth  : { 
                  active : ($nextSide.outerHeight() / </span><span class="s4">2</span><span class="s0">), 
                  next   : ($activeSide.outerHeight() / </span><span class="s4">2</span><span class="s0">) 
                } 
              } 
            ; 
            module.verbose(</span><span class="s3">'Setting the initial animation position as above'</span><span class="s0">, $nextSide, box); 
            $activeSide 
              .css({ 
                </span><span class="s3">'transform' </span><span class="s0">: </span><span class="s3">'rotateY(0deg) translateZ(' </span><span class="s0">+ box.depth.active + </span><span class="s3">'px)'</span><span class="s0"> 
              }) 
            ; 
            $nextSide 
              .addClass(className.animating) 
              .css({ 
                </span><span class="s3">'display'   </span><span class="s0">: </span><span class="s3">'block'</span><span class="s0">, 
                </span><span class="s3">'top'       </span><span class="s0">: box.origin + </span><span class="s3">'px'</span><span class="s0">, 
                </span><span class="s3">'transform' </span><span class="s0">: </span><span class="s3">'rotateX(90deg) translateZ(' </span><span class="s0">+ box.depth.next + </span><span class="s3">'px)'</span><span class="s0"> 
              }) 
            ; 
          }, 
 
          below: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              box = { 
                origin : (($activeSide.outerHeight() - $nextSide.outerHeight()) / </span><span class="s4">2</span><span class="s0">), 
                depth  : { 
                  active : ($nextSide.outerHeight() / </span><span class="s4">2</span><span class="s0">), 
                  next   : ($activeSide.outerHeight() / </span><span class="s4">2</span><span class="s0">) 
                } 
              } 
            ; 
            module.verbose(</span><span class="s3">'Setting the initial animation position as below'</span><span class="s0">, $nextSide, box); 
            $activeSide 
              .css({ 
                </span><span class="s3">'transform' </span><span class="s0">: </span><span class="s3">'rotateY(0deg) translateZ(' </span><span class="s0">+ box.depth.active + </span><span class="s3">'px)'</span><span class="s0"> 
              }) 
            ; 
            $nextSide 
              .addClass(className.animating) 
              .css({ 
                </span><span class="s3">'display'   </span><span class="s0">: </span><span class="s3">'block'</span><span class="s0">, 
                </span><span class="s3">'top'       </span><span class="s0">: box.origin + </span><span class="s3">'px'</span><span class="s0">, 
                </span><span class="s3">'transform' </span><span class="s0">: </span><span class="s3">'rotateX(-90deg) translateZ(' </span><span class="s0">+ box.depth.next + </span><span class="s3">'px)'</span><span class="s0"> 
              }) 
            ; 
          }, 
 
          left: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              box = { 
                origin : ( ( $activeSide.outerWidth() - $nextSide.outerWidth() ) / </span><span class="s4">2</span><span class="s0">), 
                depth  : { 
                  active : ($nextSide.outerWidth() / </span><span class="s4">2</span><span class="s0">), 
                  next   : ($activeSide.outerWidth() / </span><span class="s4">2</span><span class="s0">) 
                } 
              } 
            ; 
            module.verbose(</span><span class="s3">'Setting the initial animation position as left'</span><span class="s0">, $nextSide, box); 
            $activeSide 
              .css({ 
                </span><span class="s3">'transform' </span><span class="s0">: </span><span class="s3">'rotateY(0deg) translateZ(' </span><span class="s0">+ box.depth.active + </span><span class="s3">'px)'</span><span class="s0"> 
              }) 
            ; 
            $nextSide 
              .addClass(className.animating) 
              .css({ 
                </span><span class="s3">'display'   </span><span class="s0">: </span><span class="s3">'block'</span><span class="s0">, 
                </span><span class="s3">'left'      </span><span class="s0">: box.origin + </span><span class="s3">'px'</span><span class="s0">, 
                </span><span class="s3">'transform' </span><span class="s0">: </span><span class="s3">'rotateY(-90deg) translateZ(' </span><span class="s0">+ box.depth.next + </span><span class="s3">'px)'</span><span class="s0"> 
              }) 
            ; 
          }, 
 
          right: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              box = { 
                origin : ( ( $activeSide.outerWidth() - $nextSide.outerWidth() ) / </span><span class="s4">2</span><span class="s0">), 
                depth  : { 
                  active : ($nextSide.outerWidth() / </span><span class="s4">2</span><span class="s0">), 
                  next   : ($activeSide.outerWidth() / </span><span class="s4">2</span><span class="s0">) 
                } 
              } 
            ; 
            module.verbose(</span><span class="s3">'Setting the initial animation position as left'</span><span class="s0">, $nextSide, box); 
            $activeSide 
              .css({ 
                </span><span class="s3">'transform' </span><span class="s0">: </span><span class="s3">'rotateY(0deg) translateZ(' </span><span class="s0">+ box.depth.active + </span><span class="s3">'px)'</span><span class="s0"> 
              }) 
            ; 
            $nextSide 
              .addClass(className.animating) 
              .css({ 
                </span><span class="s3">'display'   </span><span class="s0">: </span><span class="s3">'block'</span><span class="s0">, 
                </span><span class="s3">'left'      </span><span class="s0">: box.origin + </span><span class="s3">'px'</span><span class="s0">, 
                </span><span class="s3">'transform' </span><span class="s0">: </span><span class="s3">'rotateY(90deg) translateZ(' </span><span class="s0">+ box.depth.next + </span><span class="s3">'px)'</span><span class="s0"> 
              }) 
            ; 
          }, 
 
          behind: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              box = { 
                origin : ( ( $activeSide.outerWidth() - $nextSide.outerWidth() ) / </span><span class="s4">2</span><span class="s0">), 
                depth  : { 
                  active : ($nextSide.outerWidth() / </span><span class="s4">2</span><span class="s0">), 
                  next   : ($activeSide.outerWidth() / </span><span class="s4">2</span><span class="s0">) 
                } 
              } 
            ; 
            module.verbose(</span><span class="s3">'Setting the initial animation position as behind'</span><span class="s0">, $nextSide, box); 
            $activeSide 
              .css({ 
                </span><span class="s3">'transform' </span><span class="s0">: </span><span class="s3">'rotateY(0deg)'</span><span class="s0"> 
              }) 
            ; 
            $nextSide 
              .addClass(className.animating) 
              .css({ 
                </span><span class="s3">'display'   </span><span class="s0">: </span><span class="s3">'block'</span><span class="s0">, 
                </span><span class="s3">'left'      </span><span class="s0">: box.origin + </span><span class="s3">'px'</span><span class="s0">, 
                </span><span class="s3">'transform' </span><span class="s0">: </span><span class="s3">'rotateY(-180deg)'</span><span class="s0"> 
              }) 
            ; 
          } 
        }, 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing setting'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">($allModules.size() &gt; </span><span class="s4">1</span><span class="s0">) { 
              title += </span><span class="s3">' ' </span><span class="s0">+ </span><span class="s3">'(' </span><span class="s0">+ $allModules.size() + </span><span class="s3">')'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
    }) 
  ; 
 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.shape.settings = { 
 
  </span><span class="s1">// module info</span><span class="s0"> 
  name : </span><span class="s3">'Shape'</span><span class="s0">, 
 
  </span><span class="s1">// debug content outputted to console</span><span class="s0"> 
  debug      : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// verbose debug output</span><span class="s0"> 
  verbose    : </span><span class="s2">true</span><span class="s0">, 
 
  </span><span class="s1">// performance data output</span><span class="s0"> 
  performance: </span><span class="s2">true</span><span class="s0">, 
 
  </span><span class="s1">// event namespace</span><span class="s0"> 
  namespace  : </span><span class="s3">'shape'</span><span class="s0">, 
 
  </span><span class="s1">// callback occurs on side change</span><span class="s0"> 
  beforeChange : </span><span class="s2">function</span><span class="s0">() {}, 
  onChange     : </span><span class="s2">function</span><span class="s0">() {}, 
 
  </span><span class="s1">// allow animation to same side</span><span class="s0"> 
  allowRepeats: </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// animation duration</span><span class="s0"> 
  duration   : </span><span class="s4">700</span><span class="s0">, 
 
  </span><span class="s1">// possible errors</span><span class="s0"> 
  error: { 
    side   : </span><span class="s3">'You tried to switch to a side that does not exist.'</span><span class="s0">, 
    method : </span><span class="s3">'The method you called is not defined'</span><span class="s0"> 
  }, 
 
  </span><span class="s1">// classnames used</span><span class="s0"> 
  className   : { 
    animating : </span><span class="s3">'animating'</span><span class="s0">, 
    hidden    : </span><span class="s3">'hidden'</span><span class="s0">, 
    loading   : </span><span class="s3">'loading'</span><span class="s0">, 
    active    : </span><span class="s3">'active'</span><span class="s0"> 
  }, 
 
  </span><span class="s1">// selectors used</span><span class="s0"> 
  selector    : { 
    sides : </span><span class="s3">'.sides'</span><span class="s0">, 
    side  : </span><span class="s3">'.side'</span><span class="s0"> 
  } 
 
}; 
 
 
})( jQuery, window , document ); 
</span><span class="s1">/* 
 * # Semantic - Sidebar 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">( $, window, document, undefined ) { 
 
</span><span class="s3">&quot;use strict&quot;</span><span class="s0">; 
 
$.fn.sidebar = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules    = $(</span><span class="s2">this</span><span class="s0">), 
    $head          = $(</span><span class="s3">'head'</span><span class="s0">), 
 
    moduleSelector = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
    time           = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance    = [], 
 
    query          = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked  = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
 
    requestAnimationFrame = window.requestAnimationFrame 
      || window.mozRequestAnimationFrame 
      || window.webkitRequestAnimationFrame 
      || window.msRequestAnimationFrame 
      || </span><span class="s2">function</span><span class="s0">(callback) { setTimeout(callback, </span><span class="s4">0</span><span class="s0">); }, 
 
    returnedValue 
  ; 
 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings        = ( $.isPlainObject(parameters) ) 
          ? $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.sidebar.settings, parameters) 
          : $.extend({}, $.fn.sidebar.settings), 
 
        selector        = settings.selector, 
        className       = settings.className, 
        namespace       = settings.namespace, 
        error           = settings.error, 
 
        eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace = </span><span class="s3">'module-' </span><span class="s0">+ namespace, 
 
        $module         = $(</span><span class="s2">this</span><span class="s0">), 
        $context        = $(settings.context), 
 
        $sidebars       = $module.children(selector.sidebar), 
        $pusher         = $context.children(selector.pusher), 
        $style, 
 
        element         = </span><span class="s2">this</span><span class="s0">, 
        instance        = $module.data(moduleNamespace), 
 
        currentScroll, 
        transitionEvent, 
 
        module 
      ; 
 
      module      = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Initializing sidebar'</span><span class="s0">, parameters); 
 
          transitionEvent = module.get.transitionEvent(); 
 
          </span><span class="s1">// cache on initialize</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">( module.is.legacy() || settings.legacy) { 
            settings.transition = </span><span class="s3">'overlay'</span><span class="s0">; 
            settings.useLegacy = </span><span class="s2">true</span><span class="s0">; 
          } 
 
          </span><span class="s1">// avoid locking rendering if included in onReady</span><span class="s0"> 
          requestAnimationFrame(module.setup.layout); 
 
          module.instantiate(); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of module'</span><span class="s0">, module); 
          instance = module; 
          $module 
            .data(moduleNamespace, module) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying previous module for'</span><span class="s0">, $module); 
          module.remove.direction(); 
          $module 
            .off(eventNamespace) 
            .removeData(moduleNamespace) 
          ; 
        }, 
 
        event: { 
          clickaway: </span><span class="s2">function</span><span class="s0">(event) { 
            </span><span class="s2">if</span><span class="s0">( $(event.target).closest(selector.sidebar).size() === </span><span class="s4">0 </span><span class="s0">) { 
              module.verbose(</span><span class="s3">'User clicked on dimmed page'</span><span class="s0">); 
              module.hide(); 
            } 
          }, 
          touch: </span><span class="s2">function</span><span class="s0">(event) { 
            </span><span class="s1">//event.stopPropagation();</span><span class="s0"> 
          }, 
          containScroll: </span><span class="s2">function</span><span class="s0">(event) { 
            </span><span class="s2">if</span><span class="s0">(element.scrollTop &lt;= </span><span class="s4">0</span><span class="s0">)  { 
              element.scrollTop = </span><span class="s4">1</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">((element.scrollTop + element.offsetHeight) &gt;= element.scrollHeight) { 
              element.scrollTop = element.scrollHeight - element.offsetHeight - </span><span class="s4">1</span><span class="s0">; 
            } 
          }, 
          scroll: </span><span class="s2">function</span><span class="s0">(event) { 
            </span><span class="s2">if</span><span class="s0">( $(event.target).closest(selector.sidebar).size() === </span><span class="s4">0 </span><span class="s0">) { 
              event.preventDefault(); 
            } 
          } 
        }, 
 
        bind: { 
          clickaway: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(settings.scrollLock) { 
              $(window) 
                .on(</span><span class="s3">'DOMMouseScroll' </span><span class="s0">+ eventNamespace, module.event.scroll) 
              ; 
            } 
            $(document) 
              .on(</span><span class="s3">'touchmove' </span><span class="s0">+ eventNamespace, module.event.touch) 
            ; 
            $module 
              .on(</span><span class="s3">'scroll' </span><span class="s0">+ eventNamespace, module.event.containScroll) 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.closable) { 
              $context 
                .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, module.event.clickaway) 
                .on(</span><span class="s3">'touchend' </span><span class="s0">+ eventNamespace, module.event.clickaway) 
              ; 
            } 
          } 
        }, 
        unbind: { 
          clickaway: </span><span class="s2">function</span><span class="s0">() { 
            $context.off(eventNamespace); 
            $pusher.off(eventNamespace); 
            $(document).off(eventNamespace); 
            $(window).off(eventNamespace); 
          } 
        }, 
 
        add: { 
          bodyCSS: </span><span class="s2">function</span><span class="s0">(direction, distance) { 
            </span><span class="s2">var</span><span class="s0"> 
              width  = $module.outerWidth(), 
              height = $module.outerHeight(), 
              style 
            ; 
            style  = </span><span class="s3">''</span><span class="s0"> 
              + </span><span class="s3">'&lt;style title=&quot;' </span><span class="s0">+ namespace + </span><span class="s3">'&quot;&gt;'</span><span class="s0"> 
              + </span><span class="s3">' .ui.visible.left.sidebar ~ .fixed,'</span><span class="s0"> 
              + </span><span class="s3">' .ui.visible.left.sidebar ~ .pusher {'</span><span class="s0"> 
              + </span><span class="s3">'   -webkit-transform: translate3d('</span><span class="s0">+ width + </span><span class="s3">'px, 0, 0);'</span><span class="s0"> 
              + </span><span class="s3">'           transform: translate3d('</span><span class="s0">+ width + </span><span class="s3">'px, 0, 0);'</span><span class="s0"> 
              + </span><span class="s3">' }'</span><span class="s0"> 
              + </span><span class="s3">' .ui.visible.right.sidebar ~ .fixed,'</span><span class="s0"> 
              + </span><span class="s3">' .ui.visible.right.sidebar ~ .pusher {'</span><span class="s0"> 
              + </span><span class="s3">'   -webkit-transform: translate3d(-'</span><span class="s0">+ width + </span><span class="s3">'px, 0, 0);'</span><span class="s0"> 
              + </span><span class="s3">'           transform: translate3d(-'</span><span class="s0">+ width + </span><span class="s3">'px, 0, 0);'</span><span class="s0"> 
              + </span><span class="s3">' }'</span><span class="s0"> 
              + </span><span class="s3">' .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .fixed,'</span><span class="s0"> 
              + </span><span class="s3">' .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher,'</span><span class="s0"> 
              + </span><span class="s3">' .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .fixed,'</span><span class="s0"> 
              + </span><span class="s3">' .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher {'</span><span class="s0"> 
              + </span><span class="s3">'   -webkit-transform: translate3d(0px, 0, 0);'</span><span class="s0"> 
              + </span><span class="s3">'           transform: translate3d(0px, 0, 0);'</span><span class="s0"> 
              + </span><span class="s3">' }'</span><span class="s0"> 
              + </span><span class="s3">' .ui.visible.top.sidebar ~ .fixed,'</span><span class="s0"> 
              + </span><span class="s3">' .ui.visible.top.sidebar ~ .pusher {'</span><span class="s0"> 
              + </span><span class="s3">'   -webkit-transform: translate3d(0, ' </span><span class="s0">+ height + </span><span class="s3">'px, 0);'</span><span class="s0"> 
              + </span><span class="s3">'           transform: translate3d(0, ' </span><span class="s0">+ height + </span><span class="s3">'px, 0);'</span><span class="s0"> 
              + </span><span class="s3">' }'</span><span class="s0"> 
              + </span><span class="s3">' .ui.visible.bottom.sidebar ~ .fixed,'</span><span class="s0"> 
              + </span><span class="s3">' .ui.visible.bottom.sidebar ~ .pusher {'</span><span class="s0"> 
              + </span><span class="s3">'   -webkit-transform: translate3d(0, -' </span><span class="s0">+ height + </span><span class="s3">'px, 0);'</span><span class="s0"> 
              + </span><span class="s3">'           transform: translate3d(0, -' </span><span class="s0">+ height + </span><span class="s3">'px, 0);'</span><span class="s0"> 
              + </span><span class="s3">' }'</span><span class="s0"> 
            ; 
 
            </span><span class="s1">/* IE is only browser not to create context with transforms */</span><span class="s0"> 
            </span><span class="s1">/* https://www.w3.org/Bugs/Public/show_bug.cgi?id=16328 */</span><span class="s0"> 
            </span><span class="s2">if</span><span class="s0">( module.is.ie() ) { 
              style += </span><span class="s3">''</span><span class="s0"> 
                + </span><span class="s3">' .ui.visible.left.sidebar ~ .pusher:after {'</span><span class="s0"> 
                + </span><span class="s3">'   -webkit-transform: translate3d('</span><span class="s0">+ width + </span><span class="s3">'px, 0, 0);'</span><span class="s0"> 
                + </span><span class="s3">'           transform: translate3d('</span><span class="s0">+ width + </span><span class="s3">'px, 0, 0);'</span><span class="s0"> 
                + </span><span class="s3">' }'</span><span class="s0"> 
                + </span><span class="s3">' .ui.visible.right.sidebar ~ .pusher:after {'</span><span class="s0"> 
                + </span><span class="s3">'   -webkit-transform: translate3d(-'</span><span class="s0">+ width + </span><span class="s3">'px, 0, 0);'</span><span class="s0"> 
                + </span><span class="s3">'           transform: translate3d(-'</span><span class="s0">+ width + </span><span class="s3">'px, 0, 0);'</span><span class="s0"> 
                + </span><span class="s3">' }'</span><span class="s0"> 
                + </span><span class="s3">' .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after,'</span><span class="s0"> 
                + </span><span class="s3">' .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {'</span><span class="s0"> 
                + </span><span class="s3">'   -webkit-transform: translate3d(0px, 0, 0);'</span><span class="s0"> 
                + </span><span class="s3">'           transform: translate3d(0px, 0, 0);'</span><span class="s0"> 
                + </span><span class="s3">' }'</span><span class="s0"> 
                + </span><span class="s3">' .ui.visible.top.sidebar ~ .pusher:after {'</span><span class="s0"> 
                + </span><span class="s3">'   -webkit-transform: translate3d(0, ' </span><span class="s0">+ height + </span><span class="s3">'px, 0);'</span><span class="s0"> 
                + </span><span class="s3">'           transform: translate3d(0, ' </span><span class="s0">+ height + </span><span class="s3">'px, 0);'</span><span class="s0"> 
                + </span><span class="s3">' }'</span><span class="s0"> 
                + </span><span class="s3">' .ui.visible.bottom.sidebar ~ .pusher:after {'</span><span class="s0"> 
                + </span><span class="s3">'   -webkit-transform: translate3d(0, -' </span><span class="s0">+ height + </span><span class="s3">'px, 0);'</span><span class="s0"> 
                + </span><span class="s3">'           transform: translate3d(0, -' </span><span class="s0">+ height + </span><span class="s3">'px, 0);'</span><span class="s0"> 
                + </span><span class="s3">' }'</span><span class="s0"> 
              ; 
            } 
 
           style += </span><span class="s3">'&lt;/style&gt;'</span><span class="s0">; 
 
            $head.append(style); 
            $style = $(</span><span class="s3">'style[title=' </span><span class="s0">+ namespace + </span><span class="s3">']'</span><span class="s0">); 
            module.debug(</span><span class="s3">'Adding sizing css to head'</span><span class="s0">, $style); 
          } 
        }, 
 
        refresh: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Refreshing selector cache'</span><span class="s0">); 
          $context  = $(settings.context); 
          $sidebars = $context.children(selector.sidebar); 
          $pusher   = $context.children(selector.pusher); 
        }, 
 
        repaint: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Forcing repaint event'</span><span class="s0">); 
          element.style.display=</span><span class="s3">'none'</span><span class="s0">; 
          element.offsetHeight; 
          element.scrollTop = element.scrollTop; 
          element.style.display=</span><span class="s3">''</span><span class="s0">; 
        }, 
 
        setup: { 
          layout: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">( $context.children(selector.pusher).size() === </span><span class="s4">0 </span><span class="s0">) { 
              module.debug(</span><span class="s3">'Adding wrapper element for sidebar'</span><span class="s0">); 
              module.error(error.pusher); 
              $pusher = $(</span><span class="s3">'&lt;div class=&quot;pusher&quot; /&gt;'</span><span class="s0">); 
              $context 
                .children() 
                  .not(selector.omitted) 
                  .not($sidebars) 
                  .wrapAll($pusher) 
              ; 
              module.refresh(); 
            } 
            </span><span class="s2">if</span><span class="s0">($module.nextAll(selector.pusher).size() == </span><span class="s4">0 </span><span class="s0">|| $module.nextAll(selector.pusher)[</span><span class="s4">0</span><span class="s0">] !== $pusher[</span><span class="s4">0</span><span class="s0">]) { 
              module.debug(</span><span class="s3">'Moved sidebar to correct parent element'</span><span class="s0">); 
              module.error(error.movedSidebar, element); 
              $module.detach().prependTo($context); 
              module.refresh(); 
            } 
            module.set.pushable(); 
            module.set.direction(); 
          } 
        }, 
 
        attachEvents: </span><span class="s2">function</span><span class="s0">(selector, event) { 
          </span><span class="s2">var</span><span class="s0"> 
            $toggle = $(selector) 
          ; 
          event = $.isFunction(module[event]) 
            ? module[event] 
            : module.toggle 
          ; 
          </span><span class="s2">if</span><span class="s0">($toggle.size() &gt; </span><span class="s4">0</span><span class="s0">) { 
            module.debug(</span><span class="s3">'Attaching sidebar events to element'</span><span class="s0">, selector, event); 
            $toggle 
              .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, event) 
            ; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.error(error.notFound, selector); 
          } 
        }, 
 
        show: </span><span class="s2">function</span><span class="s0">(callback) { 
          </span><span class="s2">var</span><span class="s0"> 
            animateMethod = (settings.useLegacy) 
              ? module.legacyPushPage 
              : module.pushPage 
          ; 
          callback = $.isFunction(callback) 
            ? callback 
            : </span><span class="s2">function</span><span class="s0">(){} 
          ; 
          </span><span class="s2">if</span><span class="s0">(module.is.closed()) { 
            </span><span class="s2">if</span><span class="s0">(settings.overlay)  { 
              module.error(error.overlay); 
              settings.transition = </span><span class="s3">'overlay'</span><span class="s0">; 
            } 
            module.refresh(); 
            </span><span class="s2">if</span><span class="s0">(module.othersVisible() &amp;&amp; module.get.transition() != </span><span class="s3">'overlay'</span><span class="s0">) { 
              module.debug(</span><span class="s3">'Other sidebars currently open'</span><span class="s0">); 
              </span><span class="s2">if</span><span class="s0">(settings.exclusive) { 
                module.hideOthers(); 
              } 
            } 
            animateMethod(</span><span class="s2">function</span><span class="s0">() { 
              $.proxy(callback, element)(); 
              $.proxy(settings.onShow, element)(); 
            }); 
            $.proxy(settings.onChange, element)(); 
            $.proxy(settings.onVisible, element)(); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.debug(</span><span class="s3">'Sidebar is already visible'</span><span class="s0">); 
          } 
        }, 
 
        hide: </span><span class="s2">function</span><span class="s0">(callback) { 
          </span><span class="s2">var</span><span class="s0"> 
            animateMethod = (settings.useLegacy) 
              ? module.legacyPullPage 
              : module.pullPage 
          ; 
          callback = $.isFunction(callback) 
            ? callback 
            : </span><span class="s2">function</span><span class="s0">(){} 
          ; 
          </span><span class="s2">if</span><span class="s0">(module.is.visible() || module.is.animating()) { 
            module.debug(</span><span class="s3">'Hiding sidebar'</span><span class="s0">, callback); 
            animateMethod(</span><span class="s2">function</span><span class="s0">() { 
              $.proxy(callback, element)(); 
              $.proxy(settings.onHidden, element)(); 
            }); 
            $.proxy(settings.onChange, element)(); 
            $.proxy(settings.onHide, element)(); 
          } 
        }, 
 
        othersVisible: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">return </span><span class="s0">($sidebars.not($module).filter(</span><span class="s3">'.' </span><span class="s0">+ className.visible).size() &gt; </span><span class="s4">0</span><span class="s0">); 
        }, 
        othersActive: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">return </span><span class="s0">($sidebars.not($module).filter(</span><span class="s3">'.' </span><span class="s0">+ className.active).size() &gt; </span><span class="s4">0</span><span class="s0">); 
        }, 
 
        hideOthers: </span><span class="s2">function</span><span class="s0">(callback) { 
          </span><span class="s2">var</span><span class="s0"> 
            $otherSidebars = $sidebars.not($module).filter(</span><span class="s3">'.' </span><span class="s0">+ className.visible), 
            callback       = callback || </span><span class="s2">function</span><span class="s0">(){}, 
            sidebarCount   = $otherSidebars.size(), 
            callbackCount  = </span><span class="s4">0</span><span class="s0"> 
          ; 
          $otherSidebars 
            .sidebar(</span><span class="s3">'hide'</span><span class="s0">, </span><span class="s2">function</span><span class="s0">() { 
              callbackCount++; 
              </span><span class="s2">if</span><span class="s0">(callbackCount == sidebarCount) { 
                callback(); 
              } 
            }) 
          ; 
        }, 
 
        toggle: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Determining toggled direction'</span><span class="s0">); 
          </span><span class="s2">if</span><span class="s0">(module.is.closed()) { 
            module.show(); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.hide(); 
          } 
        }, 
 
        pushPage: </span><span class="s2">function</span><span class="s0">(callback) { 
          </span><span class="s2">var</span><span class="s0"> 
            transition = module.get.transition(), 
            $transition = (transition == </span><span class="s3">'safe'</span><span class="s0">) 
              ? $context 
              : (transition == </span><span class="s3">'overlay' </span><span class="s0">|| module.othersVisible()) 
                ? $module 
                : $pusher, 
            animate, 
            transitionEnd 
          ; 
          callback = $.isFunction(callback) 
            ? callback 
            : </span><span class="s2">function</span><span class="s0">(){} 
          ; 
          </span><span class="s2">if</span><span class="s0">(settings.transition == </span><span class="s3">'scale down' </span><span class="s0">|| (module.is.mobile() &amp;&amp; transition !== </span><span class="s3">'overlay'</span><span class="s0">)) { 
            module.scrollToTop(); 
          } 
          module.set.transition(); 
          module.repaint(); 
          animate = </span><span class="s2">function</span><span class="s0">() { 
            module.add.bodyCSS(); 
            module.set.animating(); 
            module.set.visible(); 
            </span><span class="s2">if</span><span class="s0">(!module.othersActive()) { 
              </span><span class="s2">if</span><span class="s0">(settings.dimPage) { 
                $pusher.addClass(className.dimmed); 
              } 
            } 
          }; 
          transitionEnd = </span><span class="s2">function</span><span class="s0">(event) { 
            </span><span class="s2">if</span><span class="s0">( event.target == $transition[</span><span class="s4">0</span><span class="s0">] ) { 
              $transition.off(transitionEvent + eventNamespace, transitionEnd); 
              module.remove.animating(); 
              module.bind.clickaway(); 
              $.proxy(callback, element)(); 
            } 
          }; 
          $transition.on(transitionEvent + eventNamespace, transitionEnd); 
          requestAnimationFrame(animate); 
        }, 
 
        pullPage: </span><span class="s2">function</span><span class="s0">(callback) { 
          </span><span class="s2">var</span><span class="s0"> 
            transition = module.get.transition(), 
            $transition = (transition == </span><span class="s3">'safe'</span><span class="s0">) 
              ? $context 
              : (transition == </span><span class="s3">'overlay' </span><span class="s0">|| module.othersActive()) 
                ? $module 
                : $pusher, 
            animate, 
            transitionEnd 
          ; 
          callback = $.isFunction(callback) 
            ? callback 
            : </span><span class="s2">function</span><span class="s0">(){} 
          ; 
          module.verbose(</span><span class="s3">'Removing context push state'</span><span class="s0">, module.get.direction()); 
          </span><span class="s2">if</span><span class="s0">(!module.othersActive()) { 
            module.unbind.clickaway(); 
          } 
          animate = </span><span class="s2">function</span><span class="s0">() { 
            module.set.animating(); 
            module.remove.visible(); 
            </span><span class="s2">if</span><span class="s0">(settings.dimPage &amp;&amp; !module.othersActive()) { 
              $pusher.removeClass(className.dimmed); 
            } 
          }; 
          transitionEnd = </span><span class="s2">function</span><span class="s0">(event) { 
            </span><span class="s2">if</span><span class="s0">( event.target == $transition[</span><span class="s4">0</span><span class="s0">] ) { 
              $transition.off(transitionEvent + eventNamespace, transitionEnd); 
              module.remove.animating(); 
              module.remove.transition(); 
              module.remove.bodyCSS(); 
              </span><span class="s2">if</span><span class="s0">(transition == </span><span class="s3">'scale down' </span><span class="s0">|| (settings.returnScroll &amp;&amp; module.is.mobile()) ) { 
                module.scrollBack(); 
              } 
              $.proxy(callback, element)(); 
            } 
          }; 
          $transition.on(transitionEvent + eventNamespace, transitionEnd); 
          requestAnimationFrame(animate); 
        }, 
 
        legacyPushPage: </span><span class="s2">function</span><span class="s0">(callback) { 
          </span><span class="s2">var</span><span class="s0"> 
            distance   = $module.width(), 
            direction  = module.get.direction(), 
            properties = {} 
          ; 
          distance  = distance || $module.width(); 
          callback  = $.isFunction(callback) 
            ? callback 
            : </span><span class="s2">function</span><span class="s0">(){} 
          ; 
          properties[direction] = distance; 
          module.debug(</span><span class="s3">'Using javascript to push context'</span><span class="s0">, properties); 
          module.set.visible(); 
          module.set.transition(); 
          module.set.animating(); 
          </span><span class="s2">if</span><span class="s0">(settings.dimPage) { 
            $pusher.addClass(className.dimmed); 
          } 
          $context 
            .css(</span><span class="s3">'position'</span><span class="s0">, </span><span class="s3">'relative'</span><span class="s0">) 
            .animate(properties, settings.duration, settings.easing, </span><span class="s2">function</span><span class="s0">() { 
              module.remove.animating(); 
              module.bind.clickaway(); 
              $.proxy(callback, module)(); 
            }) 
          ; 
        }, 
        legacyPullPage: </span><span class="s2">function</span><span class="s0">(callback) { 
          </span><span class="s2">var</span><span class="s0"> 
            distance   = </span><span class="s4">0</span><span class="s0">, 
            direction  = module.get.direction(), 
            properties = {} 
          ; 
          distance  = distance || $module.width(); 
          callback  = $.isFunction(callback) 
            ? callback 
            : </span><span class="s2">function</span><span class="s0">(){} 
          ; 
          properties[direction] = </span><span class="s3">'0px'</span><span class="s0">; 
          module.debug(</span><span class="s3">'Using javascript to pull context'</span><span class="s0">, properties); 
          module.unbind.clickaway(); 
          module.set.animating(); 
          module.remove.visible(); 
          </span><span class="s2">if</span><span class="s0">(settings.dimPage &amp;&amp; !module.othersVisible()) { 
            $pusher.removeClass(className.dimmed); 
          } 
          $context 
            .css(</span><span class="s3">'position'</span><span class="s0">, </span><span class="s3">'relative'</span><span class="s0">) 
            .animate(properties, settings.duration, settings.easing, </span><span class="s2">function</span><span class="s0">() { 
              module.remove.animating(); 
              $.proxy(callback, module)(); 
            }) 
          ; 
        }, 
 
        scrollToTop: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Scrolling to top of page to avoid animation issues'</span><span class="s0">); 
          currentScroll = $(window).scrollTop(); 
          $module.scrollTop(</span><span class="s4">0</span><span class="s0">); 
          window.scrollTo(</span><span class="s4">0</span><span class="s0">, </span><span class="s4">0</span><span class="s0">); 
        }, 
 
        scrollBack: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Scrolling back to original page position'</span><span class="s0">); 
          window.scrollTo(</span><span class="s4">0</span><span class="s0">, currentScroll); 
        }, 
 
        </span><span class="s2">set</span><span class="s0">: { 
          </span><span class="s1">// container</span><span class="s0"> 
          pushed: </span><span class="s2">function</span><span class="s0">() { 
            $context.addClass(className.pushed); 
          }, 
          pushable: </span><span class="s2">function</span><span class="s0">() { 
            $context.addClass(className.pushable); 
          }, 
 
          </span><span class="s1">// sidebar</span><span class="s0"> 
          active: </span><span class="s2">function</span><span class="s0">() { 
            $module.addClass(className.active); 
          }, 
          animating: </span><span class="s2">function</span><span class="s0">() { 
            $module.addClass(className.animating); 
          }, 
          transition: </span><span class="s2">function</span><span class="s0">(transition) { 
            transition = transition || module.get.transition(); 
            $module.addClass(transition); 
          }, 
          direction: </span><span class="s2">function</span><span class="s0">(direction) { 
            direction = direction || module.get.direction(); 
            $module.addClass(className[direction]); 
          }, 
          visible: </span><span class="s2">function</span><span class="s0">() { 
            $module.addClass(className.visible); 
          }, 
          overlay: </span><span class="s2">function</span><span class="s0">() { 
            $module.addClass(className.overlay); 
          } 
        }, 
        remove: { 
 
          bodyCSS: </span><span class="s2">function</span><span class="s0">() { 
            module.debug(</span><span class="s3">'Removing body css styles'</span><span class="s0">, $style); 
            </span><span class="s2">if</span><span class="s0">($style.size() &gt; </span><span class="s4">0</span><span class="s0">) { 
              $style.remove(); 
            } 
          }, 
 
          </span><span class="s1">// context</span><span class="s0"> 
          pushed: </span><span class="s2">function</span><span class="s0">() { 
            $context.removeClass(className.pushed); 
          }, 
          pushable: </span><span class="s2">function</span><span class="s0">() { 
            $context.removeClass(className.pushable); 
          }, 
 
          </span><span class="s1">// sidebar</span><span class="s0"> 
          active: </span><span class="s2">function</span><span class="s0">() { 
            $module.removeClass(className.active); 
          }, 
          animating: </span><span class="s2">function</span><span class="s0">() { 
            $module.removeClass(className.animating); 
          }, 
          transition: </span><span class="s2">function</span><span class="s0">(transition) { 
            transition = transition || module.get.transition(); 
            $module.removeClass(transition); 
          }, 
          direction: </span><span class="s2">function</span><span class="s0">(direction) { 
            direction = direction || module.get.direction(); 
            $module.removeClass(className[direction]); 
          }, 
          visible: </span><span class="s2">function</span><span class="s0">() { 
            $module.removeClass(className.visible); 
          }, 
          overlay: </span><span class="s2">function</span><span class="s0">() { 
            $module.removeClass(className.overlay); 
          } 
        }, 
 
        </span><span class="s2">get</span><span class="s0">: { 
          direction: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">($module.hasClass(className.top)) { 
              </span><span class="s2">return </span><span class="s0">className.top; 
            } 
            </span><span class="s2">else if</span><span class="s0">($module.hasClass(className.right)) { 
              </span><span class="s2">return </span><span class="s0">className.right; 
            } 
            </span><span class="s2">else if</span><span class="s0">($module.hasClass(className.bottom)) { 
              </span><span class="s2">return </span><span class="s0">className.bottom; 
            } 
            </span><span class="s2">return </span><span class="s0">className.left; 
          }, 
          transition: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              direction = module.get.direction(), 
              transition 
            ; 
            </span><span class="s2">return </span><span class="s0">( module.is.mobile() ) 
              ? (settings.mobileTransition == </span><span class="s3">'auto'</span><span class="s0">) 
                ? settings.defaultTransition.mobile[direction] 
                : settings.mobileTransition 
              : (settings.transition == </span><span class="s3">'auto'</span><span class="s0">) 
                ? settings.defaultTransition.computer[direction] 
                : settings.transition 
            ; 
          }, 
          transitionEvent: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              element     = document.createElement(</span><span class="s3">'element'</span><span class="s0">), 
              transitions = { 
                </span><span class="s3">'transition'       </span><span class="s0">:</span><span class="s3">'transitionend'</span><span class="s0">, 
                </span><span class="s3">'OTransition'      </span><span class="s0">:</span><span class="s3">'oTransitionEnd'</span><span class="s0">, 
                </span><span class="s3">'MozTransition'    </span><span class="s0">:</span><span class="s3">'transitionend'</span><span class="s0">, 
                </span><span class="s3">'WebkitTransition' </span><span class="s0">:</span><span class="s3">'webkitTransitionEnd'</span><span class="s0"> 
              }, 
              transition 
            ; 
            </span><span class="s2">for</span><span class="s0">(transition </span><span class="s2">in </span><span class="s0">transitions){ 
              </span><span class="s2">if</span><span class="s0">( element.style[transition] !== undefined ){ 
                </span><span class="s2">return </span><span class="s0">transitions[transition]; 
              } 
            } 
          } 
        }, 
 
        is: { 
 
          ie: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              isIE11 = (!(window.ActiveXObject) &amp;&amp; </span><span class="s3">'ActiveXObject' </span><span class="s2">in </span><span class="s0">window), 
              isIE   = (</span><span class="s3">'ActiveXObject' </span><span class="s2">in </span><span class="s0">window) 
            ; 
            </span><span class="s2">return </span><span class="s0">(isIE11 || isIE); 
          }, 
 
          legacy: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              element    = document.createElement(</span><span class="s3">'div'</span><span class="s0">), 
              transforms = { 
                </span><span class="s3">'webkitTransform' </span><span class="s0">:</span><span class="s3">'-webkit-transform'</span><span class="s0">, 
                </span><span class="s3">'OTransform'      </span><span class="s0">:</span><span class="s3">'-o-transform'</span><span class="s0">, 
                </span><span class="s3">'msTransform'     </span><span class="s0">:</span><span class="s3">'-ms-transform'</span><span class="s0">, 
                </span><span class="s3">'MozTransform'    </span><span class="s0">:</span><span class="s3">'-moz-transform'</span><span class="s0">, 
                </span><span class="s3">'transform'       </span><span class="s0">:</span><span class="s3">'transform'</span><span class="s0"> 
              }, 
              has3D 
            ; 
 
            </span><span class="s1">// Add it to the body to get the computed style.</span><span class="s0"> 
            document.body.insertBefore(element, </span><span class="s2">null</span><span class="s0">); 
            </span><span class="s2">for </span><span class="s0">(</span><span class="s2">var </span><span class="s0">transform </span><span class="s2">in </span><span class="s0">transforms) { 
              </span><span class="s2">if </span><span class="s0">(element.style[transform] !== undefined) { 
                element.style[transform] = </span><span class="s3">&quot;translate3d(1px,1px,1px)&quot;</span><span class="s0">; 
                has3D = window.getComputedStyle(element).getPropertyValue(transforms[transform]); 
              } 
            } 
            document.body.removeChild(element); 
            </span><span class="s2">return </span><span class="s0">!(has3D !== undefined &amp;&amp; has3D.length &gt; </span><span class="s4">0 </span><span class="s0">&amp;&amp; has3D !== </span><span class="s3">'none'</span><span class="s0">); 
          }, 
          mobile: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              userAgent    = navigator.userAgent, 
              mobileRegExp = </span><span class="s4">/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/</span><span class="s0">, 
              isMobile     = mobileRegExp.test(userAgent) 
            ; 
            </span><span class="s2">if</span><span class="s0">(isMobile) { 
              module.verbose(</span><span class="s3">'Browser was found to be mobile'</span><span class="s0">, userAgent); 
              </span><span class="s2">return true</span><span class="s0">; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose(</span><span class="s3">'Browser is not mobile, using regular transition'</span><span class="s0">, userAgent); 
              </span><span class="s2">return false</span><span class="s0">; 
            } 
          }, 
          closed: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">!module.is.visible(); 
          }, 
          visible: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.visible); 
          }, 
          vertical: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.top); 
          }, 
          animating: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$context.hasClass(className.animating); 
          } 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing setting'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.error(error.method, query); 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      } 
    ; 
 
    </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
      </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
        module.initialize(); 
      } 
      module.invoke(query); 
    } 
    </span><span class="s2">else </span><span class="s0">{ 
      </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
        module.invoke(</span><span class="s3">'destroy'</span><span class="s0">); 
      } 
      module.initialize(); 
    } 
  }); 
 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.sidebar.settings = { 
 
  name              : </span><span class="s3">'Sidebar'</span><span class="s0">, 
  namespace         : </span><span class="s3">'sidebar'</span><span class="s0">, 
 
  debug             : </span><span class="s2">false</span><span class="s0">, 
  verbose           : </span><span class="s2">true</span><span class="s0">, 
  performance       : </span><span class="s2">true</span><span class="s0">, 
 
  transition        : </span><span class="s3">'auto'</span><span class="s0">, 
  mobileTransition  : </span><span class="s3">'auto'</span><span class="s0">, 
 
  defaultTransition : { 
    computer: { 
      left   : </span><span class="s3">'uncover'</span><span class="s0">, 
      right  : </span><span class="s3">'uncover'</span><span class="s0">, 
      top    : </span><span class="s3">'overlay'</span><span class="s0">, 
      bottom : </span><span class="s3">'overlay'</span><span class="s0"> 
    }, 
    mobile: { 
      left   : </span><span class="s3">'uncover'</span><span class="s0">, 
      right  : </span><span class="s3">'uncover'</span><span class="s0">, 
      top    : </span><span class="s3">'overlay'</span><span class="s0">, 
      bottom : </span><span class="s3">'overlay'</span><span class="s0"> 
    } 
  }, 
 
  context           : </span><span class="s3">'body'</span><span class="s0">, 
  exclusive         : </span><span class="s2">false</span><span class="s0">, 
  closable          : </span><span class="s2">true</span><span class="s0">, 
  dimPage           : </span><span class="s2">true</span><span class="s0">, 
  scrollLock        : </span><span class="s2">false</span><span class="s0">, 
  returnScroll      : </span><span class="s2">false</span><span class="s0">, 
 
  useLegacy         : </span><span class="s2">false</span><span class="s0">, 
  duration          : </span><span class="s4">500</span><span class="s0">, 
  easing            : </span><span class="s3">'easeInOutQuint'</span><span class="s0">, 
 
  onChange          : </span><span class="s2">function</span><span class="s0">(){}, 
  onShow            : </span><span class="s2">function</span><span class="s0">(){}, 
  onHide            : </span><span class="s2">function</span><span class="s0">(){}, 
 
  onHidden          : </span><span class="s2">function</span><span class="s0">(){}, 
  onVisible         : </span><span class="s2">function</span><span class="s0">(){}, 
 
  className         : { 
    active    : </span><span class="s3">'active'</span><span class="s0">, 
    animating : </span><span class="s3">'animating'</span><span class="s0">, 
    dimmed    : </span><span class="s3">'dimmed'</span><span class="s0">, 
    pushable  : </span><span class="s3">'pushable'</span><span class="s0">, 
    pushed    : </span><span class="s3">'pushed'</span><span class="s0">, 
    right     : </span><span class="s3">'right'</span><span class="s0">, 
    top       : </span><span class="s3">'top'</span><span class="s0">, 
    left      : </span><span class="s3">'left'</span><span class="s0">, 
    bottom    : </span><span class="s3">'bottom'</span><span class="s0">, 
    visible   : </span><span class="s3">'visible'</span><span class="s0"> 
  }, 
 
  selector: { 
    fixed   : </span><span class="s3">'.fixed'</span><span class="s0">, 
    omitted : </span><span class="s3">'script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed'</span><span class="s0">, 
    pusher  : </span><span class="s3">'.pusher'</span><span class="s0">, 
    sidebar : </span><span class="s3">'.ui.sidebar'</span><span class="s0"> 
  }, 
 
  error   : { 
    method       : </span><span class="s3">'The method you called is not defined.'</span><span class="s0">, 
    pusher       : </span><span class="s3">'Had to add pusher element. For optimal performance make sure body content is inside a pusher element'</span><span class="s0">, 
    movedSidebar : </span><span class="s3">'Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag'</span><span class="s0">, 
    overlay      : </span><span class="s3">'The overlay setting is no longer supported, use animation: overlay'</span><span class="s0">, 
    notFound     : </span><span class="s3">'There were no elements that matched the specified selector'</span><span class="s0"> 
  } 
 
}; 
 
</span><span class="s1">// Adds easing</span><span class="s0"> 
$.extend( $.easing, { 
  easeInOutQuint: </span><span class="s2">function </span><span class="s0">(x, t, b, c, d) { 
    </span><span class="s2">if </span><span class="s0">((t/=d/</span><span class="s4">2</span><span class="s0">) &lt; </span><span class="s4">1</span><span class="s0">) </span><span class="s2">return </span><span class="s0">c/</span><span class="s4">2</span><span class="s0">*t*t*t*t*t + b; 
    </span><span class="s2">return </span><span class="s0">c/</span><span class="s4">2</span><span class="s0">*((t-=</span><span class="s4">2</span><span class="s0">)*t*t*t*t + </span><span class="s4">2</span><span class="s0">) + b; 
  } 
}); 
 
 
})( jQuery, window , document ); 
 
</span><span class="s1">/* 
 * # Semantic - Site 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
;(</span><span class="s2">function </span><span class="s0">( $, window, document, undefined ) { 
 
$.site = $.fn.site = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    time           = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance    = [], 
 
    query          = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked  = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
 
    settings        = ( $.isPlainObject(parameters) ) 
      ? $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.site.settings, parameters) 
      : $.extend({}, $.site.settings), 
 
    namespace       = settings.namespace, 
    error           = settings.error, 
 
    eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
    moduleNamespace = </span><span class="s3">'module-' </span><span class="s0">+ namespace, 
 
    $document       = $(document), 
    $module         = $document, 
    element         = </span><span class="s2">this</span><span class="s0">, 
    instance        = $module.data(moduleNamespace), 
 
    module, 
    returnedValue 
  ; 
  module = { 
 
    initialize: </span><span class="s2">function</span><span class="s0">() { 
      module.instantiate(); 
    }, 
 
    instantiate: </span><span class="s2">function</span><span class="s0">() { 
      module.verbose(</span><span class="s3">'Storing instance of site'</span><span class="s0">, module); 
      instance = module; 
      $module 
        .data(moduleNamespace, module) 
      ; 
    }, 
 
    normalize: </span><span class="s2">function</span><span class="s0">() { 
      module.fix.console(); 
      module.fix.requestAnimationFrame(); 
    }, 
 
    fix: { 
      console: </span><span class="s2">function</span><span class="s0">() { 
        module.debug(</span><span class="s3">'Normalizing window.console'</span><span class="s0">); 
        </span><span class="s2">if </span><span class="s0">(console === undefined || console.log === undefined) { 
          module.verbose(</span><span class="s3">'Console not available, normalizing events'</span><span class="s0">); 
          module.disable.console(); 
        } 
        </span><span class="s2">if </span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">console.group == </span><span class="s3">'undefined' </span><span class="s0">|| </span><span class="s2">typeof </span><span class="s0">console.groupEnd == </span><span class="s3">'undefined' </span><span class="s0">|| </span><span class="s2">typeof </span><span class="s0">console.groupCollapsed == </span><span class="s3">'undefined'</span><span class="s0">) { 
          module.verbose(</span><span class="s3">'Console group not available, normalizing events'</span><span class="s0">); 
          window.console.group = </span><span class="s2">function</span><span class="s0">() {}; 
          window.console.groupEnd = </span><span class="s2">function</span><span class="s0">() {}; 
          window.console.groupCollapsed = </span><span class="s2">function</span><span class="s0">() {}; 
        } 
        </span><span class="s2">if </span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">console.markTimeline == </span><span class="s3">'undefined'</span><span class="s0">) { 
          module.verbose(</span><span class="s3">'Mark timeline not available, normalizing events'</span><span class="s0">); 
          window.console.markTimeline = </span><span class="s2">function</span><span class="s0">() {}; 
        } 
      }, 
      consoleClear: </span><span class="s2">function</span><span class="s0">() { 
        module.debug(</span><span class="s3">'Disabling programmatic console clearing'</span><span class="s0">); 
        window.console.clear = </span><span class="s2">function</span><span class="s0">() {}; 
      }, 
      requestAnimationFrame: </span><span class="s2">function</span><span class="s0">() { 
        module.debug(</span><span class="s3">'Normalizing requestAnimationFrame'</span><span class="s0">); 
        </span><span class="s2">if</span><span class="s0">(window.requestAnimationFrame === undefined) { 
          module.debug(</span><span class="s3">'RequestAnimationFrame not available, normailizing event'</span><span class="s0">); 
          window.requestAnimationFrame = window.requestAnimationFrame 
            || window.mozRequestAnimationFrame 
            || window.webkitRequestAnimationFrame 
            || window.msRequestAnimationFrame 
            || </span><span class="s2">function</span><span class="s0">(callback) { setTimeout(callback, </span><span class="s4">0</span><span class="s0">); } 
          ; 
        } 
      } 
    }, 
 
    moduleExists: </span><span class="s2">function</span><span class="s0">(name) { 
      </span><span class="s2">return </span><span class="s0">($.fn[name] !== undefined &amp;&amp; $.fn[name].settings !== undefined); 
    }, 
 
    enabled: { 
      modules: </span><span class="s2">function</span><span class="s0">(modules) { 
        </span><span class="s2">var</span><span class="s0"> 
          enabledModules = [] 
        ; 
        modules = modules || settings.modules; 
        $.each(modules, </span><span class="s2">function</span><span class="s0">(index, name) { 
          </span><span class="s2">if</span><span class="s0">(module.moduleExists(name)) { 
            enabledModules.push(name); 
          } 
        }); 
        </span><span class="s2">return </span><span class="s0">enabledModules; 
      } 
    }, 
 
    disabled: { 
      modules: </span><span class="s2">function</span><span class="s0">(modules) { 
        </span><span class="s2">var</span><span class="s0"> 
          disabledModules = [] 
        ; 
        modules = modules || settings.modules; 
        $.each(modules, </span><span class="s2">function</span><span class="s0">(index, name) { 
          </span><span class="s2">if</span><span class="s0">(!module.moduleExists(name)) { 
            disabledModules.push(name); 
          } 
        }); 
        </span><span class="s2">return </span><span class="s0">disabledModules; 
      } 
    }, 
 
    change: { 
      setting: </span><span class="s2">function</span><span class="s0">(setting, value, modules, modifyExisting) { 
        modules = (</span><span class="s2">typeof </span><span class="s0">modules === </span><span class="s3">'string'</span><span class="s0">) 
          ? (modules === </span><span class="s3">'all'</span><span class="s0">) 
            ? settings.modules 
            : [modules] 
          : modules || settings.modules 
        ; 
        modifyExisting = (modifyExisting !== undefined) 
          ? modifyExisting 
          : </span><span class="s2">true</span><span class="s0"> 
        ; 
        $.each(modules, </span><span class="s2">function</span><span class="s0">(index, name) { 
          </span><span class="s2">var</span><span class="s0"> 
            namespace = (module.moduleExists(name)) 
              ? $.fn[name].settings.namespace || </span><span class="s2">false</span><span class="s0"> 
              : </span><span class="s2">true</span><span class="s0">, 
            $existingModules 
          ; 
          </span><span class="s2">if</span><span class="s0">(module.moduleExists(name)) { 
            module.verbose(</span><span class="s3">'Changing default setting'</span><span class="s0">, setting, value, name); 
            $.fn[name].settings[setting] = value; 
            </span><span class="s2">if</span><span class="s0">(modifyExisting &amp;&amp; namespace) { 
              $existingModules = $(</span><span class="s3">':data(module-' </span><span class="s0">+ namespace + </span><span class="s3">')'</span><span class="s0">); 
              </span><span class="s2">if</span><span class="s0">($existingModules.size() &gt; </span><span class="s4">0</span><span class="s0">) { 
                module.verbose(</span><span class="s3">'Modifying existing settings'</span><span class="s0">, $existingModules); 
                $existingModules[name](</span><span class="s3">'setting'</span><span class="s0">, setting, value); 
              } 
            } 
          } 
        }); 
      }, 
      settings: </span><span class="s2">function</span><span class="s0">(newSettings, modules, modifyExisting) { 
        modules = (</span><span class="s2">typeof </span><span class="s0">modules === </span><span class="s3">'string'</span><span class="s0">) 
          ? [modules] 
          : modules || settings.modules 
        ; 
        modifyExisting = (modifyExisting !== undefined) 
          ? modifyExisting 
          : </span><span class="s2">true</span><span class="s0"> 
        ; 
        $.each(modules, </span><span class="s2">function</span><span class="s0">(index, name) { 
          </span><span class="s2">var</span><span class="s0"> 
            $existingModules 
          ; 
          </span><span class="s2">if</span><span class="s0">(module.moduleExists(name)) { 
            module.verbose(</span><span class="s3">'Changing default setting'</span><span class="s0">, newSettings, name); 
            $.extend(</span><span class="s2">true</span><span class="s0">, $.fn[name].settings, newSettings); 
            </span><span class="s2">if</span><span class="s0">(modifyExisting &amp;&amp; namespace) { 
              $existingModules = $(</span><span class="s3">':data(module-' </span><span class="s0">+ namespace + </span><span class="s3">')'</span><span class="s0">); 
              </span><span class="s2">if</span><span class="s0">($existingModules.size() &gt; </span><span class="s4">0</span><span class="s0">) { 
                module.verbose(</span><span class="s3">'Modifying existing settings'</span><span class="s0">, $existingModules); 
                $existingModules[name](</span><span class="s3">'setting'</span><span class="s0">, newSettings); 
              } 
            } 
          } 
        }); 
      } 
    }, 
 
    enable: { 
      console: </span><span class="s2">function</span><span class="s0">() { 
        module.console(</span><span class="s2">true</span><span class="s0">); 
      }, 
      debug: </span><span class="s2">function</span><span class="s0">(modules, modifyExisting) { 
        modules = modules || settings.modules; 
        module.debug(</span><span class="s3">'Enabling debug for modules'</span><span class="s0">, modules); 
        module.change.setting(</span><span class="s3">'debug'</span><span class="s0">, </span><span class="s2">true</span><span class="s0">, modules, modifyExisting); 
      }, 
      verbose: </span><span class="s2">function</span><span class="s0">(modules, modifyExisting) { 
        modules = modules || settings.modules; 
        module.debug(</span><span class="s3">'Enabling verbose debug for modules'</span><span class="s0">, modules); 
        module.change.setting(</span><span class="s3">'verbose'</span><span class="s0">, </span><span class="s2">true</span><span class="s0">, modules, modifyExisting); 
      } 
    }, 
    disable: { 
      console: </span><span class="s2">function</span><span class="s0">() { 
        module.console(</span><span class="s2">false</span><span class="s0">); 
      }, 
      debug: </span><span class="s2">function</span><span class="s0">(modules, modifyExisting) { 
        modules = modules || settings.modules; 
        module.debug(</span><span class="s3">'Disabling debug for modules'</span><span class="s0">, modules); 
        module.change.setting(</span><span class="s3">'debug'</span><span class="s0">, </span><span class="s2">false</span><span class="s0">, modules, modifyExisting); 
      }, 
      verbose: </span><span class="s2">function</span><span class="s0">(modules, modifyExisting) { 
        modules = modules || settings.modules; 
        module.debug(</span><span class="s3">'Disabling verbose debug for modules'</span><span class="s0">, modules); 
        module.change.setting(</span><span class="s3">'verbose'</span><span class="s0">, </span><span class="s2">false</span><span class="s0">, modules, modifyExisting); 
      } 
    }, 
 
    console: </span><span class="s2">function</span><span class="s0">(enable) { 
      </span><span class="s2">if</span><span class="s0">(enable) { 
        </span><span class="s2">if</span><span class="s0">(instance.cache.console === undefined) { 
          module.error(error.console); 
          </span><span class="s2">return</span><span class="s0">; 
        } 
        module.debug(</span><span class="s3">'Restoring console function'</span><span class="s0">); 
        window.console = instance.cache.console; 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        module.debug(</span><span class="s3">'Disabling console function'</span><span class="s0">); 
        instance.cache.console = window.console; 
        window.console = { 
          clear          : </span><span class="s2">function</span><span class="s0">(){}, 
          error          : </span><span class="s2">function</span><span class="s0">(){}, 
          group          : </span><span class="s2">function</span><span class="s0">(){}, 
          groupCollapsed : </span><span class="s2">function</span><span class="s0">(){}, 
          groupEnd       : </span><span class="s2">function</span><span class="s0">(){}, 
          info           : </span><span class="s2">function</span><span class="s0">(){}, 
          log            : </span><span class="s2">function</span><span class="s0">(){}, 
          markTimeline   : </span><span class="s2">function</span><span class="s0">(){}, 
          warn           : </span><span class="s2">function</span><span class="s0">(){} 
        }; 
      } 
    }, 
 
    destroy: </span><span class="s2">function</span><span class="s0">() { 
      module.verbose(</span><span class="s3">'Destroying previous site for'</span><span class="s0">, $module); 
      $module 
        .removeData(moduleNamespace) 
      ; 
    }, 
 
    cache: {}, 
 
    setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
      </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
        $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
      } 
      </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
        settings[name] = value; 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">return </span><span class="s0">settings[name]; 
      } 
    }, 
    internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
      </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
        $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
      } 
      </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
        module[name] = value; 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">return </span><span class="s0">module[name]; 
      } 
    }, 
    debug: </span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">if</span><span class="s0">(settings.debug) { 
        </span><span class="s2">if</span><span class="s0">(settings.performance) { 
          module.performance.log(arguments); 
        } 
        </span><span class="s2">else </span><span class="s0">{ 
          module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.debug.apply(console, arguments); 
        } 
      } 
    }, 
    verbose: </span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
        </span><span class="s2">if</span><span class="s0">(settings.performance) { 
          module.performance.log(arguments); 
        } 
        </span><span class="s2">else </span><span class="s0">{ 
          module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.verbose.apply(console, arguments); 
        } 
      } 
    }, 
    error: </span><span class="s2">function</span><span class="s0">() { 
      module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
      module.error.apply(console, arguments); 
    }, 
    performance: { 
      log: </span><span class="s2">function</span><span class="s0">(message) { 
        </span><span class="s2">var</span><span class="s0"> 
          currentTime, 
          executionTime, 
          previousTime 
        ; 
        </span><span class="s2">if</span><span class="s0">(settings.performance) { 
          currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
          previousTime  = time || currentTime; 
          executionTime = currentTime - previousTime; 
          time          = currentTime; 
          performance.push({ 
            </span><span class="s3">'Element'        </span><span class="s0">: element, 
            </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
            </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
            </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
          }); 
        } 
        clearTimeout(module.performance.timer); 
        module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
      }, 
      display: </span><span class="s2">function</span><span class="s0">() { 
        </span><span class="s2">var</span><span class="s0"> 
          title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
          totalTime = </span><span class="s4">0</span><span class="s0"> 
        ; 
        time = </span><span class="s2">false</span><span class="s0">; 
        clearTimeout(module.performance.timer); 
        $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
          totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
        }); 
        title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
        </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
          console.groupCollapsed(title); 
          </span><span class="s2">if</span><span class="s0">(console.table) { 
            console.table(performance); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
            }); 
          } 
          console.groupEnd(); 
        } 
        performance = []; 
      } 
    }, 
    invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
      </span><span class="s2">var</span><span class="s0"> 
        object = instance, 
        maxDepth, 
        found, 
        response 
      ; 
      passedArguments = passedArguments || queryArguments; 
      context         = element         || context; 
      </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
        query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
        maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
        $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
          </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
            ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
            : query 
          ; 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
            object = object[camelCaseValue]; 
          } 
          </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
            found = object[camelCaseValue]; 
            </span><span class="s2">return false</span><span class="s0">; 
          } 
          </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
            object = object[value]; 
          } 
          </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
            found = object[value]; 
            </span><span class="s2">return false</span><span class="s0">; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.error(error.method, query); 
            </span><span class="s2">return false</span><span class="s0">; 
          } 
        }); 
      } 
      </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
        response = found.apply(context, passedArguments); 
      } 
      </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
        response = found; 
      } 
      </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
        returnedValue.push(response); 
      } 
      </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
        returnedValue = [returnedValue, response]; 
      } 
      </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
        returnedValue = response; 
      } 
      </span><span class="s2">return </span><span class="s0">found; 
    } 
  }; 
 
  </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
    </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
      module.initialize(); 
    } 
    module.invoke(query); 
  } 
  </span><span class="s2">else </span><span class="s0">{ 
    </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
      module.destroy(); 
    } 
    module.initialize(); 
  } 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.site.settings = { 
 
  name        : </span><span class="s3">'Site'</span><span class="s0">, 
  namespace   : </span><span class="s3">'site'</span><span class="s0">, 
 
  error : { 
    console : </span><span class="s3">'Console cannot be restored, most likely it was overwritten outside of module'</span><span class="s0">, 
    method : </span><span class="s3">'The method you called is not defined.'</span><span class="s0"> 
  }, 
 
  debug       : </span><span class="s2">false</span><span class="s0">, 
  verbose     : </span><span class="s2">true</span><span class="s0">, 
  performance : </span><span class="s2">true</span><span class="s0">, 
 
  modules: [ 
    </span><span class="s3">'accordion'</span><span class="s0">, 
    </span><span class="s3">'api'</span><span class="s0">, 
    </span><span class="s3">'checkbox'</span><span class="s0">, 
    </span><span class="s3">'dimmer'</span><span class="s0">, 
    </span><span class="s3">'dropdown'</span><span class="s0">, 
    </span><span class="s3">'form'</span><span class="s0">, 
    </span><span class="s3">'modal'</span><span class="s0">, 
    </span><span class="s3">'nag'</span><span class="s0">, 
    </span><span class="s3">'popup'</span><span class="s0">, 
    </span><span class="s3">'rating'</span><span class="s0">, 
    </span><span class="s3">'shape'</span><span class="s0">, 
    </span><span class="s3">'sidebar'</span><span class="s0">, 
    </span><span class="s3">'state'</span><span class="s0">, 
    </span><span class="s3">'sticky'</span><span class="s0">, 
    </span><span class="s3">'tab'</span><span class="s0">, 
    </span><span class="s3">'transition'</span><span class="s0">, 
    </span><span class="s3">'video'</span><span class="s0">, 
    </span><span class="s3">'visit'</span><span class="s0">, 
    </span><span class="s3">'visibility'</span><span class="s0"> 
  ], 
 
  siteNamespace   : </span><span class="s3">'site'</span><span class="s0">, 
  namespaceStub   : { 
    cache     : {}, 
    config    : {}, 
    sections  : {}, 
    section   : {}, 
    utilities : {} 
  } 
 
}; 
 
</span><span class="s1">// allows for selection of elements with data attributes</span><span class="s0"> 
$.extend($.expr[ </span><span class="s3">&quot;:&quot; </span><span class="s0">], { 
  data: ($.expr.createPseudo) 
    ? $.expr.createPseudo(</span><span class="s2">function</span><span class="s0">(dataName) { 
        </span><span class="s2">return function</span><span class="s0">(elem) { 
          </span><span class="s2">return </span><span class="s0">!!$.data(elem, dataName); 
        }; 
      }) 
    : </span><span class="s2">function</span><span class="s0">(elem, i, match) { 
      </span><span class="s1">// support: jQuery &lt; 1.8</span><span class="s0"> 
      </span><span class="s2">return </span><span class="s0">!!$.data(elem, match[ </span><span class="s4">3 </span><span class="s0">]); 
    } 
}); 
 
 
})( jQuery, window , document ); 
</span><span class="s1">/* 
 * # Semantic - State 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">( $, window, document, undefined ) { 
 
$.fn.state = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules     = $(</span><span class="s2">this</span><span class="s0">), 
 
    moduleSelector  = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
    hasTouch        = (</span><span class="s3">'ontouchstart' </span><span class="s2">in </span><span class="s0">document.documentElement), 
    time            = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance     = [], 
 
    query           = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked   = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments  = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
 
    returnedValue 
  ; 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings          = ( $.isPlainObject(parameters) ) 
          ? $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.state.settings, parameters) 
          : $.extend({}, $.fn.state.settings), 
 
        error           = settings.error, 
        metadata        = settings.metadata, 
        className       = settings.className, 
        namespace       = settings.namespace, 
        states          = settings.states, 
        text            = settings.text, 
 
        eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace = namespace + </span><span class="s3">'-module'</span><span class="s0">, 
 
        $module         = $(</span><span class="s2">this</span><span class="s0">), 
 
        element         = </span><span class="s2">this</span><span class="s0">, 
        instance        = $module.data(moduleNamespace), 
 
        module 
      ; 
      module = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Initializing module'</span><span class="s0">); 
 
          </span><span class="s1">// allow module to guess desired state based on element</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">(settings.automatic) { 
            module.add.defaults(); 
          } 
 
          </span><span class="s1">// bind events with delegated events</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">(settings.context &amp;&amp; moduleSelector !== </span><span class="s3">''</span><span class="s0">) { 
            $(settings.context) 
              .on(moduleSelector, </span><span class="s3">'mouseenter' </span><span class="s0">+ eventNamespace, module.change.text) 
              .on(moduleSelector, </span><span class="s3">'mouseleave' </span><span class="s0">+ eventNamespace, module.reset.text) 
              .on(moduleSelector, </span><span class="s3">'click'      </span><span class="s0">+ eventNamespace, module.toggle.state) 
            ; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            $module 
              .on(</span><span class="s3">'mouseenter' </span><span class="s0">+ eventNamespace, module.change.text) 
              .on(</span><span class="s3">'mouseleave' </span><span class="s0">+ eventNamespace, module.reset.text) 
              .on(</span><span class="s3">'click'      </span><span class="s0">+ eventNamespace, module.toggle.state) 
            ; 
          } 
          module.instantiate(); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of module'</span><span class="s0">, module); 
          instance = module; 
          $module 
            .data(moduleNamespace, module) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying previous module'</span><span class="s0">, instance); 
          $module 
            .off(eventNamespace) 
            .removeData(moduleNamespace) 
          ; 
        }, 
 
        refresh: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Refreshing selector cache'</span><span class="s0">); 
          $module = $(element); 
        }, 
 
        add: { 
          defaults: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              userStates = parameters &amp;&amp; $.isPlainObject(parameters.states) 
                ? parameters.states 
                : {} 
            ; 
            $.each(settings.defaults, </span><span class="s2">function</span><span class="s0">(type, typeStates) { 
              </span><span class="s2">if</span><span class="s0">( module.is[type] !== undefined &amp;&amp; module.is[type]() ) { 
                module.verbose(</span><span class="s3">'Adding default states'</span><span class="s0">, type, element); 
                $.extend(settings.states, typeStates, userStates); 
              } 
            }); 
          } 
        }, 
 
        is: { 
 
          active: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.active); 
          }, 
          loading: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.loading); 
          }, 
          inactive: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">!( $module.hasClass(className.active) ); 
          }, 
          state: </span><span class="s2">function</span><span class="s0">(state) { 
            </span><span class="s2">if</span><span class="s0">(className[state] === undefined) { 
              </span><span class="s2">return false</span><span class="s0">; 
            } 
            </span><span class="s2">return </span><span class="s0">$module.hasClass( className[state] ); 
          }, 
 
          enabled: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">!( $module.is(settings.filter.active) ); 
          }, 
          disabled: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">( $module.is(settings.filter.active) ); 
          }, 
          textEnabled: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">!( $module.is(settings.filter.text) ); 
          }, 
 
          </span><span class="s1">// definitions for automatic type detection</span><span class="s0"> 
          button: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.is(</span><span class="s3">'.button:not(a, .submit)'</span><span class="s0">); 
          }, 
          input: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.is(</span><span class="s3">'input'</span><span class="s0">); 
          }, 
          progress: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.is(</span><span class="s3">'.ui.progress'</span><span class="s0">); 
          } 
        }, 
 
        allow: </span><span class="s2">function</span><span class="s0">(state) { 
          module.debug(</span><span class="s3">'Now allowing state'</span><span class="s0">, state); 
          states[state] = </span><span class="s2">true</span><span class="s0">; 
        }, 
        disallow: </span><span class="s2">function</span><span class="s0">(state) { 
          module.debug(</span><span class="s3">'No longer allowing'</span><span class="s0">, state); 
          states[state] = </span><span class="s2">false</span><span class="s0">; 
        }, 
 
        allows: </span><span class="s2">function</span><span class="s0">(state) { 
          </span><span class="s2">return </span><span class="s0">states[state] || </span><span class="s2">false</span><span class="s0">; 
        }, 
 
        enable: </span><span class="s2">function</span><span class="s0">() { 
          $module.removeClass(className.disabled); 
        }, 
 
        disable: </span><span class="s2">function</span><span class="s0">() { 
          $module.addClass(className.disabled); 
        }, 
 
        setState: </span><span class="s2">function</span><span class="s0">(state) { 
          </span><span class="s2">if</span><span class="s0">(module.allows(state)) { 
            $module.addClass( className[state] ); 
          } 
        }, 
 
        removeState: </span><span class="s2">function</span><span class="s0">(state) { 
          </span><span class="s2">if</span><span class="s0">(module.allows(state)) { 
            $module.removeClass( className[state] ); 
          } 
        }, 
 
        toggle: { 
          state: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              apiRequest 
            ; 
            </span><span class="s2">if</span><span class="s0">( module.allows(</span><span class="s3">'active'</span><span class="s0">) &amp;&amp; module.is.enabled() ) { 
              module.refresh(); 
              </span><span class="s2">if</span><span class="s0">($.fn.api !== undefined) { 
                apiRequest = $module.api(</span><span class="s3">'get request'</span><span class="s0">); 
                </span><span class="s2">if</span><span class="s0">(apiRequest) { 
                  module.listenTo(apiRequest); 
                  </span><span class="s2">return</span><span class="s0">; 
                } 
              } 
              module.change.state(); 
            } 
          } 
        }, 
 
        listenTo: </span><span class="s2">function</span><span class="s0">(apiRequest) { 
          module.debug(</span><span class="s3">'API request detected, waiting for state signal'</span><span class="s0">, apiRequest); 
          </span><span class="s2">if</span><span class="s0">(apiRequest) { 
            </span><span class="s2">if</span><span class="s0">(text.loading) { 
              module.update.text(text.loading); 
            } 
            $.when(apiRequest) 
              .then(</span><span class="s2">function</span><span class="s0">() { 
                </span><span class="s2">if</span><span class="s0">(apiRequest.state() == </span><span class="s3">'resolved'</span><span class="s0">) { 
                  module.debug(</span><span class="s3">'API request succeeded'</span><span class="s0">); 
                  settings.activateTest   = </span><span class="s2">function</span><span class="s0">(){ </span><span class="s2">return true</span><span class="s0">; }; 
                  settings.deactivateTest = </span><span class="s2">function</span><span class="s0">(){ </span><span class="s2">return true</span><span class="s0">; }; 
                } 
                </span><span class="s2">else </span><span class="s0">{ 
                  module.debug(</span><span class="s3">'API request failed'</span><span class="s0">); 
                  settings.activateTest   = </span><span class="s2">function</span><span class="s0">(){ </span><span class="s2">return false</span><span class="s0">; }; 
                  settings.deactivateTest = </span><span class="s2">function</span><span class="s0">(){ </span><span class="s2">return false</span><span class="s0">; }; 
                } 
                module.change.state(); 
              }) 
            ; 
          } 
          </span><span class="s1">// xhr exists but set to false, beforeSend killed the xhr</span><span class="s0"> 
          </span><span class="s2">else </span><span class="s0">{ 
            settings.activateTest   = </span><span class="s2">function</span><span class="s0">(){ </span><span class="s2">return false</span><span class="s0">; }; 
            settings.deactivateTest = </span><span class="s2">function</span><span class="s0">(){ </span><span class="s2">return false</span><span class="s0">; }; 
          } 
        }, 
 
        </span><span class="s1">// checks whether active/inactive state can be given</span><span class="s0"> 
        change: { 
 
          state: </span><span class="s2">function</span><span class="s0">() { 
            module.debug(</span><span class="s3">'Determining state change direction'</span><span class="s0">); 
            </span><span class="s1">// inactive to active change</span><span class="s0"> 
            </span><span class="s2">if</span><span class="s0">( module.is.inactive() ) { 
              module.activate(); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.deactivate(); 
            } 
            </span><span class="s2">if</span><span class="s0">(settings.sync) { 
              module.sync(); 
            } 
            $.proxy(settings.onChange, element)(); 
          }, 
 
          text: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">( module.is.textEnabled() ) { 
              </span><span class="s2">if</span><span class="s0">(module.is.disabled() ) { 
                module.verbose(</span><span class="s3">'Changing text to disabled text'</span><span class="s0">, text.hover); 
                module.update.text(text.disabled); 
              } 
              </span><span class="s2">else if</span><span class="s0">( module.is.active() ) { 
                </span><span class="s2">if</span><span class="s0">(text.hover) { 
                  module.verbose(</span><span class="s3">'Changing text to hover text'</span><span class="s0">, text.hover); 
                  module.update.text(text.hover); 
                } 
                </span><span class="s2">else if</span><span class="s0">(text.deactivate) { 
                  module.verbose(</span><span class="s3">'Changing text to deactivating text'</span><span class="s0">, text.deactivate); 
                  module.update.text(text.deactivate); 
                } 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">if</span><span class="s0">(text.hover) { 
                  module.verbose(</span><span class="s3">'Changing text to hover text'</span><span class="s0">, text.hover); 
                  module.update.text(text.hover); 
                } 
                </span><span class="s2">else if</span><span class="s0">(text.activate){ 
                  module.verbose(</span><span class="s3">'Changing text to activating text'</span><span class="s0">, text.activate); 
                  module.update.text(text.activate); 
                } 
              } 
            } 
          } 
 
        }, 
 
        activate: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">( $.proxy(settings.activateTest, element)() ) { 
            module.debug(</span><span class="s3">'Setting state to active'</span><span class="s0">); 
            $module 
              .addClass(className.active) 
            ; 
            module.update.text(text.active); 
            $.proxy(settings.onActivate, element)(); 
          } 
        }, 
 
        deactivate: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">($.proxy(settings.deactivateTest, element)() ) { 
            module.debug(</span><span class="s3">'Setting state to inactive'</span><span class="s0">); 
            $module 
              .removeClass(className.active) 
            ; 
            module.update.text(text.inactive); 
            $.proxy(settings.onDeactivate, element)(); 
          } 
        }, 
 
        sync: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Syncing other buttons to current state'</span><span class="s0">); 
          </span><span class="s2">if</span><span class="s0">( module.is.active() ) { 
            $allModules 
              .not($module) 
                .state(</span><span class="s3">'activate'</span><span class="s0">); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            $allModules 
              .not($module) 
                .state(</span><span class="s3">'deactivate'</span><span class="s0">) 
            ; 
          } 
        }, 
 
        </span><span class="s2">get</span><span class="s0">: { 
          text: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">(settings.selector.text) 
              ? $module.find(settings.selector.text).text() 
              : $module.html() 
            ; 
          }, 
          textFor: </span><span class="s2">function</span><span class="s0">(state) { 
            </span><span class="s2">return </span><span class="s0">text[state] || </span><span class="s2">false</span><span class="s0">; 
          } 
        }, 
 
        flash: { 
          text: </span><span class="s2">function</span><span class="s0">(text, duration, callback) { 
            </span><span class="s2">var</span><span class="s0"> 
              previousText = module.get.text() 
            ; 
            module.debug(</span><span class="s3">'Flashing text message'</span><span class="s0">, text, duration); 
            text     = text     || settings.text.flash; 
            duration = duration || settings.flashDuration; 
            callback = callback || </span><span class="s2">function</span><span class="s0">() {}; 
            module.update.text(text); 
            setTimeout(</span><span class="s2">function</span><span class="s0">(){ 
              module.update.text(previousText); 
              $.proxy(callback, element)(); 
            }, duration); 
          } 
        }, 
 
        reset: { 
          </span><span class="s1">// on mouseout sets text to previous value</span><span class="s0"> 
          text: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              activeText   = text.active   || $module.data(metadata.storedText), 
              inactiveText = text.inactive || $module.data(metadata.storedText) 
            ; 
            </span><span class="s2">if</span><span class="s0">( module.is.textEnabled() ) { 
              </span><span class="s2">if</span><span class="s0">( module.is.active() &amp;&amp; activeText) { 
                module.verbose(</span><span class="s3">'Resetting active text'</span><span class="s0">, activeText); 
                module.update.text(activeText); 
              } 
              </span><span class="s2">else if</span><span class="s0">(inactiveText) { 
                module.verbose(</span><span class="s3">'Resetting inactive text'</span><span class="s0">, activeText); 
                module.update.text(inactiveText); 
              } 
            } 
          } 
        }, 
 
        update: { 
          text: </span><span class="s2">function</span><span class="s0">(text) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentText = module.get.text() 
            ; 
            </span><span class="s2">if</span><span class="s0">(text &amp;&amp; text !== currentText) { 
              module.debug(</span><span class="s3">'Updating text'</span><span class="s0">, text); 
              </span><span class="s2">if</span><span class="s0">(settings.selector.text) { 
                $module 
                  .data(metadata.storedText, text) 
                  .find(settings.selector.text) 
                    .text(text) 
                ; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $module 
                  .data(metadata.storedText, text) 
                  .html(text) 
                ; 
              } 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug(</span><span class="s3">'Text is already sane, ignoring update'</span><span class="s0">, text); 
            } 
          } 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing setting'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.error(error.method, query); 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
    }) 
  ; 
 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.state.settings = { 
 
  </span><span class="s1">// module info</span><span class="s0"> 
  name : </span><span class="s3">'State'</span><span class="s0">, 
 
  </span><span class="s1">// debug output</span><span class="s0"> 
  debug      : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// verbose debug output</span><span class="s0"> 
  verbose    : </span><span class="s2">true</span><span class="s0">, 
 
  </span><span class="s1">// namespace for events</span><span class="s0"> 
  namespace  : </span><span class="s3">'state'</span><span class="s0">, 
 
  </span><span class="s1">// debug data includes performance</span><span class="s0"> 
  performance: </span><span class="s2">true</span><span class="s0">, 
 
  </span><span class="s1">// callback occurs on state change</span><span class="s0"> 
  onActivate   : </span><span class="s2">function</span><span class="s0">() {}, 
  onDeactivate : </span><span class="s2">function</span><span class="s0">() {}, 
  onChange     : </span><span class="s2">function</span><span class="s0">() {}, 
 
  </span><span class="s1">// state test functions</span><span class="s0"> 
  activateTest   : </span><span class="s2">function</span><span class="s0">() { </span><span class="s2">return true</span><span class="s0">; }, 
  deactivateTest : </span><span class="s2">function</span><span class="s0">() { </span><span class="s2">return true</span><span class="s0">; }, 
 
  </span><span class="s1">// whether to automatically map default states</span><span class="s0"> 
  automatic     : </span><span class="s2">true</span><span class="s0">, 
 
  </span><span class="s1">// activate / deactivate changes all elements instantiated at same time</span><span class="s0"> 
  sync          : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// default flash text duration, used for temporarily changing text of an element</span><span class="s0"> 
  flashDuration : </span><span class="s4">1000</span><span class="s0">, 
 
  </span><span class="s1">// selector filter</span><span class="s0"> 
  filter     : { 
    text   : </span><span class="s3">'.loading, .disabled'</span><span class="s0">, 
    active : </span><span class="s3">'.disabled'</span><span class="s0"> 
  }, 
 
  context    : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// error</span><span class="s0"> 
  error: { 
    method : </span><span class="s3">'The method you called is not defined.'</span><span class="s0"> 
  }, 
 
  </span><span class="s1">// metadata</span><span class="s0"> 
  metadata: { 
    promise    : </span><span class="s3">'promise'</span><span class="s0">, 
    storedText : </span><span class="s3">'stored-text'</span><span class="s0"> 
  }, 
 
  </span><span class="s1">// change class on state</span><span class="s0"> 
  className: { 
    active   : </span><span class="s3">'active'</span><span class="s0">, 
    disabled : </span><span class="s3">'disabled'</span><span class="s0">, 
    error    : </span><span class="s3">'error'</span><span class="s0">, 
    loading  : </span><span class="s3">'loading'</span><span class="s0">, 
    success  : </span><span class="s3">'success'</span><span class="s0">, 
    warning  : </span><span class="s3">'warning'</span><span class="s0"> 
  }, 
 
  selector: { 
    </span><span class="s1">// selector for text node</span><span class="s0"> 
    text: </span><span class="s2">false</span><span class="s0"> 
  }, 
 
  defaults : { 
    input: { 
      disabled : </span><span class="s2">true</span><span class="s0">, 
      loading  : </span><span class="s2">true</span><span class="s0">, 
      active   : </span><span class="s2">true</span><span class="s0"> 
    }, 
    button: { 
      disabled : </span><span class="s2">true</span><span class="s0">, 
      loading  : </span><span class="s2">true</span><span class="s0">, 
      active   : </span><span class="s2">true</span><span class="s0">, 
    }, 
    progress: { 
      active   : </span><span class="s2">true</span><span class="s0">, 
      success  : </span><span class="s2">true</span><span class="s0">, 
      warning  : </span><span class="s2">true</span><span class="s0">, 
      error    : </span><span class="s2">true</span><span class="s0"> 
    } 
  }, 
 
  states     : { 
    active   : </span><span class="s2">true</span><span class="s0">, 
    disabled : </span><span class="s2">true</span><span class="s0">, 
    error    : </span><span class="s2">true</span><span class="s0">, 
    loading  : </span><span class="s2">true</span><span class="s0">, 
    success  : </span><span class="s2">true</span><span class="s0">, 
    warning  : </span><span class="s2">true</span><span class="s0"> 
  }, 
 
  text     : { 
    disabled   : </span><span class="s2">false</span><span class="s0">, 
    flash      : </span><span class="s2">false</span><span class="s0">, 
    hover      : </span><span class="s2">false</span><span class="s0">, 
    active     : </span><span class="s2">false</span><span class="s0">, 
    inactive   : </span><span class="s2">false</span><span class="s0">, 
    activate   : </span><span class="s2">false</span><span class="s0">, 
    deactivate : </span><span class="s2">false</span><span class="s0"> 
  } 
 
}; 
 
 
 
})( jQuery, window , document ); 
 
 </span><span class="s1">/* 
 * # Semantic - Sticky 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributors 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">( $, window, document, undefined ) { 
 
</span><span class="s3">&quot;use strict&quot;</span><span class="s0">; 
 
$.fn.sticky = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules    = $(</span><span class="s2">this</span><span class="s0">), 
    moduleSelector = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
    time           = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance    = [], 
 
    query          = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked  = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
    returnedValue 
  ; 
 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings              = $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.sticky.settings, parameters), 
 
        className             = settings.className, 
        namespace             = settings.namespace, 
        error                 = settings.error, 
 
        eventNamespace        = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace       = </span><span class="s3">'module-' </span><span class="s0">+ namespace, 
 
        $module               = $(</span><span class="s2">this</span><span class="s0">), 
        $window               = $(window), 
        $container            = $module.offsetParent(), 
        $scroll               = $(settings.scrollContext), 
        $context, 
 
        selector              = $module.selector || </span><span class="s3">''</span><span class="s0">, 
        instance              = $module.data(moduleNamespace), 
 
        requestAnimationFrame = window.requestAnimationFrame 
          || window.mozRequestAnimationFrame 
          || window.webkitRequestAnimationFrame 
          || window.msRequestAnimationFrame 
          || </span><span class="s2">function</span><span class="s0">(callback) { setTimeout(callback, </span><span class="s4">0</span><span class="s0">); }, 
 
        element         = </span><span class="s2">this</span><span class="s0">, 
        observer, 
        module 
      ; 
 
      module      = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.context) { 
            $context = $(settings.context); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            $context = $container; 
          } 
          </span><span class="s2">if</span><span class="s0">($context.size() === </span><span class="s4">0</span><span class="s0">) { 
            module.error(error.invalidContext, settings.context, $module); 
            </span><span class="s2">return</span><span class="s0">; 
          } 
          module.verbose(</span><span class="s3">'Initializing sticky'</span><span class="s0">, settings, $container); 
          module.save.positions(); 
 
          </span><span class="s1">// error conditions</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">( module.is.hidden() ) { 
            module.error(error.visible, $module); 
          } 
          </span><span class="s2">if</span><span class="s0">(module.cache.element.height &gt; module.cache.context.height) { 
            module.reset(); 
            module.error(error.elementSize, $module); 
            </span><span class="s2">return</span><span class="s0">; 
          } 
 
          $window 
            .on(</span><span class="s3">'resize' </span><span class="s0">+ eventNamespace, module.event.resize) 
          ; 
          $scroll 
            .on(</span><span class="s3">'scroll' </span><span class="s0">+ eventNamespace, module.event.scroll) 
          ; 
 
          module.observeChanges(); 
          module.instantiate(); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of module'</span><span class="s0">, module); 
          instance = module; 
          $module 
            .data(moduleNamespace, module) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying previous module'</span><span class="s0">); 
          module.reset(); 
          $window 
            .off(</span><span class="s3">'resize' </span><span class="s0">+ eventNamespace, module.event.resize) 
          ; 
          $scroll 
            .off(</span><span class="s3">'scroll' </span><span class="s0">+ eventNamespace, module.event.scroll) 
          ; 
          $module 
            .removeData(moduleNamespace) 
          ; 
        }, 
 
        observeChanges: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">var</span><span class="s0"> 
            context = $context[</span><span class="s4">0</span><span class="s0">] 
          ; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s3">'MutationObserver' </span><span class="s2">in </span><span class="s0">window) { 
            observer = </span><span class="s2">new </span><span class="s0">MutationObserver(</span><span class="s2">function</span><span class="s0">(mutations) { 
              clearTimeout(module.timer); 
              module.timer = setTimeout(</span><span class="s2">function</span><span class="s0">() { 
                module.verbose(</span><span class="s3">'DOM tree modified, updating sticky menu'</span><span class="s0">); 
                module.refresh(); 
              }, </span><span class="s4">200</span><span class="s0">); 
            }); 
            observer.observe(element, { 
              childList : </span><span class="s2">true</span><span class="s0">, 
              subtree   : </span><span class="s2">true</span><span class="s0"> 
            }); 
            observer.observe(context, { 
              childList : </span><span class="s2">true</span><span class="s0">, 
              subtree   : </span><span class="s2">true</span><span class="s0"> 
            }); 
            module.debug(</span><span class="s3">'Setting up mutation observer'</span><span class="s0">, observer); 
          } 
        }, 
 
        event: { 
          resize: </span><span class="s2">function</span><span class="s0">() { 
            requestAnimationFrame(</span><span class="s2">function</span><span class="s0">() { 
              module.refresh(); 
              module.stick(); 
            }); 
          }, 
          scroll: </span><span class="s2">function</span><span class="s0">() { 
            requestAnimationFrame(</span><span class="s2">function</span><span class="s0">() { 
              module.stick(); 
              $.proxy(settings.onScroll, element)(); 
            }); 
          } 
        }, 
 
        refresh: </span><span class="s2">function</span><span class="s0">(hardRefresh) { 
          module.reset(); 
          </span><span class="s2">if</span><span class="s0">(hardRefresh) { 
            $container = $module.offsetParent(); 
          } 
          module.save.positions(); 
          module.stick(); 
          $.proxy(settings.onReposition, element)(); 
        }, 
 
        supports: { 
          sticky: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              $element = $(</span><span class="s3">'&lt;div/&gt;'</span><span class="s0">), 
              element = $element.get() 
            ; 
            $element 
              .addClass(className.supported) 
            ; 
            </span><span class="s2">return</span><span class="s0">($element.css(</span><span class="s3">'position'</span><span class="s0">).match(</span><span class="s3">'sticky'</span><span class="s0">)); 
          } 
        }, 
 
        save: { 
          scroll: </span><span class="s2">function</span><span class="s0">(scroll) { 
            module.lastScroll = scroll; 
          }, 
          positions: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              window = { 
                height: $window.height() 
              }, 
              element = { 
                margin: { 
                  top    : parseInt($module.css(</span><span class="s3">'margin-top'</span><span class="s0">), </span><span class="s4">10</span><span class="s0">), 
                  bottom : parseInt($module.css(</span><span class="s3">'margin-bottom'</span><span class="s0">), </span><span class="s4">10</span><span class="s0">), 
                }, 
                offset : $module.offset(), 
                width  : $module.outerWidth(), 
                height : $module.outerHeight() 
              }, 
              context = { 
                offset: $context.offset(), 
                height: $context.outerHeight() 
              } 
            ; 
            module.cache = { 
              fits : ( element.height &lt; window.height ), 
              window: { 
                height: window.height 
              }, 
              element: { 
                margin : element.margin, 
                top    : element.offset.top - element.margin.top, 
                left   : element.offset.left, 
                width  : element.width, 
                height : element.height, 
                bottom : element.offset.top + element.height 
              }, 
              context: { 
                top    : context.offset.top, 
                height : context.height, 
                bottom : context.offset.top + context.height 
              } 
            }; 
            module.set.containerSize(); 
            module.set.size(); 
            module.stick(); 
            module.debug(</span><span class="s3">'Caching element positions'</span><span class="s0">, module.cache); 
          } 
        }, 
 
        </span><span class="s2">get</span><span class="s0">: { 
          direction: </span><span class="s2">function</span><span class="s0">(scroll) { 
            </span><span class="s2">var</span><span class="s0"> 
              direction = </span><span class="s3">'down'</span><span class="s0"> 
            ; 
            scroll = scroll || $scroll.scrollTop(); 
            </span><span class="s2">if</span><span class="s0">(module.lastScroll !== undefined) { 
              </span><span class="s2">if</span><span class="s0">(module.lastScroll &lt; scroll) { 
                direction = </span><span class="s3">'down'</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">(module.lastScroll &gt; scroll) { 
                direction = </span><span class="s3">'up'</span><span class="s0">; 
              } 
            } 
            </span><span class="s2">return </span><span class="s0">direction; 
          }, 
          scrollChange: </span><span class="s2">function</span><span class="s0">(scroll) { 
            scroll = scroll || $scroll.scrollTop(); 
            </span><span class="s2">return </span><span class="s0">(module.lastScroll) 
              ? (scroll - module.lastScroll) 
              : </span><span class="s4">0</span><span class="s0"> 
            ; 
          }, 
          currentElementScroll: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">( module.is.top() ) 
              ? Math.abs(parseInt($module.css(</span><span class="s3">'top'</span><span class="s0">), </span><span class="s4">10</span><span class="s0">))    || </span><span class="s4">0</span><span class="s0"> 
              : Math.abs(parseInt($module.css(</span><span class="s3">'bottom'</span><span class="s0">), </span><span class="s4">10</span><span class="s0">)) || </span><span class="s4">0</span><span class="s0"> 
            ; 
          }, 
          elementScroll: </span><span class="s2">function</span><span class="s0">(scroll) { 
            scroll = scroll || $scroll.scrollTop(); 
            </span><span class="s2">var</span><span class="s0"> 
              element        = module.cache.element, 
              window         = module.cache.window, 
              delta          = module.get.scrollChange(scroll), 
              maxScroll      = (element.height - window.height + settings.offset), 
              currentScroll  = module.get.currentElementScroll(), 
              possibleScroll = (currentScroll + delta), 
              elementScroll 
            ; 
            </span><span class="s2">if</span><span class="s0">(module.cache.fits || possibleScroll &lt; </span><span class="s4">0</span><span class="s0">) { 
              elementScroll = </span><span class="s4">0</span><span class="s0">; 
            } 
            </span><span class="s2">else if </span><span class="s0">(possibleScroll &gt; maxScroll ) { 
              elementScroll = maxScroll; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              elementScroll = possibleScroll; 
            } 
            </span><span class="s2">return </span><span class="s0">elementScroll; 
          } 
        }, 
 
        remove: { 
          offset: </span><span class="s2">function</span><span class="s0">() { 
            $module.css(</span><span class="s3">'margin-top'</span><span class="s0">, </span><span class="s3">''</span><span class="s0">); 
          } 
        }, 
 
        </span><span class="s2">set</span><span class="s0">: { 
          offset: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Setting offset on element'</span><span class="s0">, settings.offset); 
            $module.css(</span><span class="s3">'margin-top'</span><span class="s0">, settings.offset); 
          }, 
          containerSize: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              tagName = $container.get(</span><span class="s4">0</span><span class="s0">).tagName 
            ; 
            </span><span class="s2">if</span><span class="s0">(tagName === </span><span class="s3">'HTML' </span><span class="s0">|| tagName == </span><span class="s3">'body'</span><span class="s0">) { 
              </span><span class="s1">// this can trigger for too many reasons</span><span class="s0"> 
              </span><span class="s1">//module.error(error.container, tagName, $module);</span><span class="s0"> 
              $container = $module.offsetParent(); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug(</span><span class="s3">'Settings container size'</span><span class="s0">, module.cache.context.height); 
              $container.height(module.cache.context.height); 
            } 
          }, 
          scroll: </span><span class="s2">function</span><span class="s0">(scroll) { 
            module.debug(</span><span class="s3">'Setting scroll on element'</span><span class="s0">, scroll); 
            </span><span class="s2">if</span><span class="s0">( module.is.top() ) { 
              $module 
                .css(</span><span class="s3">'bottom'</span><span class="s0">, </span><span class="s3">''</span><span class="s0">) 
                .css(</span><span class="s3">'top'</span><span class="s0">, -scroll) 
              ; 
            } 
            </span><span class="s2">if</span><span class="s0">( module.is.bottom() ) { 
              $module 
                .css(</span><span class="s3">'top'</span><span class="s0">, </span><span class="s3">''</span><span class="s0">) 
                .css(</span><span class="s3">'bottom'</span><span class="s0">, scroll) 
              ; 
            } 
          }, 
          size: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.cache.element.height !== </span><span class="s4">0 </span><span class="s0">&amp;&amp; module.cache.element.width !== </span><span class="s4">0</span><span class="s0">) { 
              $module 
                .css({ 
                  width  : module.cache.element.width, 
                  height : module.cache.element.height 
                }) 
              ; 
            } 
          } 
        }, 
 
        is: { 
          top: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.top); 
          }, 
          bottom: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.bottom); 
          }, 
          initialPosition: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">(!module.is.fixed() &amp;&amp; !module.is.bound()); 
          }, 
          hidden: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">(!$module.is(</span><span class="s3">':visible'</span><span class="s0">)); 
          }, 
          bound: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.bound); 
          }, 
          fixed: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.fixed); 
          } 
        }, 
 
        stick: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">var</span><span class="s0"> 
            cache          = module.cache, 
            fits           = cache.fits, 
            element        = cache.element, 
            window         = cache.window, 
            context        = cache.context, 
            offset         = (module.is.bottom() &amp;&amp; settings.pushing) 
              ? settings.bottomOffset 
              : settings.offset, 
            scroll         = { 
              top    : $scroll.scrollTop() + offset, 
              bottom : $scroll.scrollTop() + offset + window.height 
            }, 
            direction      = module.get.direction(scroll.top), 
            elementScroll  = module.get.elementScroll(scroll.top), 
 
            </span><span class="s1">// shorthand</span><span class="s0"> 
            doesntFit      = !fits, 
            elementVisible = (element.height !== </span><span class="s4">0</span><span class="s0">) 
          ; 
 
          </span><span class="s1">// save current scroll for next run</span><span class="s0"> 
          module.save.scroll(scroll.top); 
 
          </span><span class="s2">if</span><span class="s0">(elementVisible) { 
 
            </span><span class="s2">if</span><span class="s0">( module.is.initialPosition() ) { 
              </span><span class="s2">if</span><span class="s0">(scroll.top &gt;= element.top) { 
                module.debug(</span><span class="s3">'Element passed, fixing element to page'</span><span class="s0">); 
                module.fixTop(); 
              } 
            } 
            </span><span class="s2">else if</span><span class="s0">( module.is.fixed() ) { 
 
              </span><span class="s1">// currently fixed top</span><span class="s0"> 
              </span><span class="s2">if</span><span class="s0">( module.is.top() ) { 
                </span><span class="s2">if</span><span class="s0">( scroll.top &lt; element.top ) { 
                  module.debug(</span><span class="s3">'Fixed element reached top of container'</span><span class="s0">); 
                  module.setInitialPosition(); 
                } 
                </span><span class="s2">else if</span><span class="s0">( (element.height + scroll.top - elementScroll) &gt; context.bottom ) { 
                  module.debug(</span><span class="s3">'Fixed element reached bottom of container'</span><span class="s0">); 
                  module.bindBottom(); 
                } 
                </span><span class="s1">// scroll element if larger than screen</span><span class="s0"> 
                </span><span class="s2">else if</span><span class="s0">(doesntFit) { 
                  module.set.scroll(elementScroll); 
                } 
              } 
 
              </span><span class="s1">// currently fixed bottom</span><span class="s0"> 
              </span><span class="s2">else if</span><span class="s0">(module.is.bottom() ) { 
 
                </span><span class="s1">// top edge</span><span class="s0"> 
                </span><span class="s2">if</span><span class="s0">( (scroll.bottom - element.height) &lt; element.top) { 
                  module.debug(</span><span class="s3">'Bottom fixed rail has reached top of container'</span><span class="s0">); 
                  module.setInitialPosition(); 
                } 
                </span><span class="s1">// bottom edge</span><span class="s0"> 
                </span><span class="s2">else if</span><span class="s0">(scroll.bottom &gt; context.bottom) { 
                  module.debug(</span><span class="s3">'Bottom fixed rail has reached bottom of container'</span><span class="s0">); 
                  module.bindBottom(); 
                } 
                </span><span class="s1">// scroll element if larger than screen</span><span class="s0"> 
                </span><span class="s2">else if</span><span class="s0">(doesntFit) { 
                  module.set.scroll(elementScroll); 
                } 
 
              } 
            } 
            </span><span class="s2">else if</span><span class="s0">( module.is.bottom() ) { 
              </span><span class="s2">if</span><span class="s0">(settings.pushing) { 
                </span><span class="s2">if</span><span class="s0">(module.is.bound() &amp;&amp; scroll.bottom &lt; context.bottom ) { 
                  module.debug(</span><span class="s3">'Fixing bottom attached element to bottom of browser.'</span><span class="s0">); 
                  module.fixBottom(); 
                } 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">if</span><span class="s0">(module.is.bound() &amp;&amp; (scroll.top &lt; context.bottom - element.height) ) { 
                  module.debug(</span><span class="s3">'Fixing bottom attached element to top of browser.'</span><span class="s0">); 
                  module.fixTop(); 
                } 
              } 
            } 
          } 
        }, 
 
        bindTop: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Binding element to top of parent container'</span><span class="s0">); 
          module.remove.offset(); 
          $module 
            .css(</span><span class="s3">'left' </span><span class="s0">, </span><span class="s3">''</span><span class="s0">) 
            .css(</span><span class="s3">'top' </span><span class="s0">, </span><span class="s3">''</span><span class="s0">) 
            .css(</span><span class="s3">'bottom' </span><span class="s0">, </span><span class="s3">''</span><span class="s0">) 
            .removeClass(className.fixed) 
            .removeClass(className.bottom) 
            .addClass(className.bound) 
            .addClass(className.top) 
          ; 
          $.proxy(settings.onTop, element)(); 
          $.proxy(settings.onUnstick, element)(); 
        }, 
        bindBottom: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Binding element to bottom of parent container'</span><span class="s0">); 
          module.remove.offset(); 
          $module 
            .css(</span><span class="s3">'left' </span><span class="s0">, </span><span class="s3">''</span><span class="s0">) 
            .css(</span><span class="s3">'top' </span><span class="s0">, </span><span class="s3">''</span><span class="s0">) 
            .css(</span><span class="s3">'bottom' </span><span class="s0">, </span><span class="s3">''</span><span class="s0">) 
            .removeClass(className.fixed) 
            .removeClass(className.top) 
            .addClass(className.bound) 
            .addClass(className.bottom) 
          ; 
          $.proxy(settings.onBottom, element)(); 
          $.proxy(settings.onUnstick, element)(); 
        }, 
 
        setInitialPosition: </span><span class="s2">function</span><span class="s0">() { 
          module.unfix(); 
          module.unbind(); 
        }, 
 
 
        fixTop: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Fixing element to top of page'</span><span class="s0">); 
          module.set.offset(); 
          $module 
            .css(</span><span class="s3">'left'</span><span class="s0">, module.cache.element.left) 
            .removeClass(className.bound) 
            .removeClass(className.bottom) 
            .addClass(className.fixed) 
            .addClass(className.top) 
          ; 
          $.proxy(settings.onStick, element)(); 
        }, 
 
        fixBottom: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Sticking element to bottom of page'</span><span class="s0">); 
          module.set.offset(); 
          $module 
            .css(</span><span class="s3">'left'</span><span class="s0">, module.cache.element.left) 
            .removeClass(className.bound) 
            .removeClass(className.top) 
            .addClass(className.fixed) 
            .addClass(className.bottom) 
          ; 
          $.proxy(settings.onStick, element)(); 
        }, 
 
        unbind: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Removing absolute position on element'</span><span class="s0">); 
          module.remove.offset(); 
          $module 
            .removeClass(className.bound) 
            .removeClass(className.top) 
            .removeClass(className.bottom) 
          ; 
        }, 
 
        unfix: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Removing fixed position on element'</span><span class="s0">); 
          module.remove.offset(); 
          $module 
            .removeClass(className.fixed) 
            .removeClass(className.top) 
            .removeClass(className.bottom) 
          ; 
          $.proxy(settings.onUnstick, </span><span class="s2">this</span><span class="s0">)(); 
        }, 
 
        reset: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Reseting elements position'</span><span class="s0">); 
          module.unbind(); 
          module.unfix(); 
          module.resetCSS(); 
        }, 
 
        resetCSS: </span><span class="s2">function</span><span class="s0">() { 
          $module 
            .css({ 
              top    : </span><span class="s3">''</span><span class="s0">, 
              bottom : </span><span class="s3">''</span><span class="s0">, 
              width  : </span><span class="s3">''</span><span class="s0">, 
              height : </span><span class="s3">''</span><span class="s0"> 
            }) 
          ; 
          $container 
            .css({ 
              height: </span><span class="s3">''</span><span class="s0"> 
            }) 
          ; 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">0</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
    }) 
  ; 
 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.sticky.settings = { 
 
  name          : </span><span class="s3">'Sticky'</span><span class="s0">, 
  namespace     : </span><span class="s3">'sticky'</span><span class="s0">, 
 
  debug         : </span><span class="s2">false</span><span class="s0">, 
  verbose       : </span><span class="s2">false</span><span class="s0">, 
  performance   : </span><span class="s2">false</span><span class="s0">, 
 
  pushing       : </span><span class="s2">false</span><span class="s0">, 
  context       : </span><span class="s2">false</span><span class="s0">, 
  scrollContext : window, 
  offset        : </span><span class="s4">0</span><span class="s0">, 
  bottomOffset  : </span><span class="s4">0</span><span class="s0">, 
 
  onReposition  : </span><span class="s2">function</span><span class="s0">(){}, 
  onScroll      : </span><span class="s2">function</span><span class="s0">(){}, 
  onStick       : </span><span class="s2">function</span><span class="s0">(){}, 
  onUnstick     : </span><span class="s2">function</span><span class="s0">(){}, 
  onTop         : </span><span class="s2">function</span><span class="s0">(){}, 
  onBottom      : </span><span class="s2">function</span><span class="s0">(){}, 
 
  error         : { 
    container      : </span><span class="s3">'Sticky element must be inside a relative container'</span><span class="s0">, 
    visible        : </span><span class="s3">'Element is hidden, you must call refresh after element becomes visible'</span><span class="s0">, 
    method         : </span><span class="s3">'The method you called is not defined.'</span><span class="s0">, 
    invalidContext : </span><span class="s3">'Context specified does not exist'</span><span class="s0">, 
    elementSize    : </span><span class="s3">'Sticky element is larger than its container, cannot create sticky.'</span><span class="s0"> 
  }, 
 
  className : { 
    bound     : </span><span class="s3">'bound'</span><span class="s0">, 
    fixed     : </span><span class="s3">'fixed'</span><span class="s0">, 
    supported : </span><span class="s3">'native'</span><span class="s0">, 
    top       : </span><span class="s3">'top'</span><span class="s0">, 
    bottom    : </span><span class="s3">'bottom'</span><span class="s0"> 
  } 
 
}; 
 
})( jQuery, window , document ); 
 
 </span><span class="s1">/* 
 * # Semantic - Tab 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributors 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">($, window, document, undefined) { 
 
</span><span class="s3">&quot;use strict&quot;</span><span class="s0">; 
 
$.tab = $.fn.tab = </span><span class="s2">function</span><span class="s0">(parameters) { 
 
  </span><span class="s2">var</span><span class="s0"> 
    </span><span class="s1">// use window context if none specified</span><span class="s0"> 
    $allModules     = $.isFunction(</span><span class="s2">this</span><span class="s0">) 
        ? $(window) 
        : $(</span><span class="s2">this</span><span class="s0">), 
 
    settings        = ( $.isPlainObject(parameters) ) 
      ? $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.tab.settings, parameters) 
      : $.extend({}, $.fn.tab.settings), 
 
    moduleSelector  = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
    time            = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance     = [], 
 
    query           = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked   = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments  = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
 
    module, 
    returnedValue 
  ; 
 
 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
 
        className          = settings.className, 
        metadata           = settings.metadata, 
        selector           = settings.selector, 
        error              = settings.error, 
 
        eventNamespace     = </span><span class="s3">'.' </span><span class="s0">+ settings.namespace, 
        moduleNamespace    = </span><span class="s3">'module-' </span><span class="s0">+ settings.namespace, 
 
        $module            = $(</span><span class="s2">this</span><span class="s0">), 
 
        cache              = {}, 
        firstLoad          = </span><span class="s2">true</span><span class="s0">, 
        recursionDepth     = </span><span class="s4">0</span><span class="s0">, 
 
        $context, 
        $tabs, 
        activeTabPath, 
        parameterArray, 
        historyEvent, 
 
        element         = </span><span class="s2">this</span><span class="s0">, 
        instance        = $module.data(moduleNamespace) 
      ; 
 
      module = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Initializing tab menu item'</span><span class="s0">, $module); 
 
          module.determineTabs(); 
          module.debug(</span><span class="s3">'Determining tabs'</span><span class="s0">, settings.context, $tabs); 
 
          </span><span class="s1">// set up automatic routing</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">(settings.auto) { 
            module.verbose(</span><span class="s3">'Setting up automatic tab retrieval from server'</span><span class="s0">); 
            settings.apiSettings = { 
              url: settings.path + </span><span class="s3">'/{$tab}'</span><span class="s0"> 
            }; 
          } 
 
          </span><span class="s1">// attach events if navigation wasn't set to window</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">( !$.isWindow( element ) ) { 
            module.debug(</span><span class="s3">'Attaching tab activation events to element'</span><span class="s0">, $module); 
            $module 
              .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, module.event.click) 
            ; 
          } 
          module.instantiate(); 
        }, 
 
        determineTabs: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">var</span><span class="s0"> 
            $reference 
          ; 
 
          </span><span class="s1">// determine tab context</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">(settings.context === </span><span class="s3">'parent'</span><span class="s0">) { 
            </span><span class="s2">if</span><span class="s0">($module.closest(selector.ui).size() &gt; </span><span class="s4">0</span><span class="s0">) { 
              $reference = $module.closest(selector.ui); 
              module.verbose(</span><span class="s3">'Using closest UI element for determining parent'</span><span class="s0">, $reference); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              $reference = $module; 
            } 
            $context = $reference.parent(); 
            module.verbose(</span><span class="s3">'Determined parent element for creating context'</span><span class="s0">, $context); 
          } 
          </span><span class="s2">else if</span><span class="s0">(settings.context) { 
            $context = $(settings.context); 
            module.verbose(</span><span class="s3">'Using selector for tab context'</span><span class="s0">, settings.context, $context); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            $context = $(</span><span class="s3">'body'</span><span class="s0">); 
          } 
 
          </span><span class="s1">// find tabs</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">(settings.childrenOnly) { 
            $tabs = $context.children(selector.tabs); 
            module.debug(</span><span class="s3">'Searching tab context children for tabs'</span><span class="s0">, $context, $tabs); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            $tabs = $context.find(selector.tabs); 
            module.debug(</span><span class="s3">'Searching tab context for tabs'</span><span class="s0">, $context, $tabs); 
          } 
        }, 
 
        initializeHistory: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.history) { 
            module.debug(</span><span class="s3">'Initializing page state'</span><span class="s0">); 
            </span><span class="s2">if</span><span class="s0">( $.address === undefined ) { 
              module.error(error.state); 
              </span><span class="s2">return false</span><span class="s0">; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              </span><span class="s2">if</span><span class="s0">(settings.historyType == </span><span class="s3">'state'</span><span class="s0">) { 
                module.debug(</span><span class="s3">'Using HTML5 to manage state'</span><span class="s0">); 
                </span><span class="s2">if</span><span class="s0">(settings.path !== </span><span class="s2">false</span><span class="s0">) { 
                  $.address 
                    .history(</span><span class="s2">true</span><span class="s0">) 
                    .state(settings.path) 
                  ; 
                } 
                </span><span class="s2">else </span><span class="s0">{ 
                  module.error(error.path); 
                  </span><span class="s2">return false</span><span class="s0">; 
                } 
              } 
              $.address 
                .bind(</span><span class="s3">'change'</span><span class="s0">, module.event.history.change) 
              ; 
            } 
          } 
        }, 
 
        instantiate: </span><span class="s2">function </span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of module'</span><span class="s0">, module); 
          $module 
            .data(moduleNamespace, module) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Destroying tabs'</span><span class="s0">, $module); 
          $module 
            .removeData(moduleNamespace) 
            .off(eventNamespace) 
          ; 
        }, 
 
        event: { 
          click: </span><span class="s2">function</span><span class="s0">(event) { 
            </span><span class="s2">var</span><span class="s0"> 
              tabPath = $(</span><span class="s2">this</span><span class="s0">).data(metadata.tab) 
            ; 
            </span><span class="s2">if</span><span class="s0">(tabPath !== undefined) { 
              </span><span class="s2">if</span><span class="s0">(settings.history) { 
                module.verbose(</span><span class="s3">'Updating page state'</span><span class="s0">, event); 
                $.address.value(tabPath); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.verbose(</span><span class="s3">'Changing tab'</span><span class="s0">, event); 
                module.changeTab(tabPath); 
              } 
              event.preventDefault(); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug(</span><span class="s3">'No tab specified'</span><span class="s0">); 
            } 
          }, 
          history: { 
            change: </span><span class="s2">function</span><span class="s0">(event) { 
              </span><span class="s2">var</span><span class="s0"> 
                tabPath   = event.pathNames.join(</span><span class="s3">'/'</span><span class="s0">) || module.get.initialPath(), 
                pageTitle = settings.templates.determineTitle(tabPath) || </span><span class="s2">false</span><span class="s0"> 
              ; 
              module.performance.display(); 
              module.debug(</span><span class="s3">'History change event'</span><span class="s0">, tabPath, event); 
              historyEvent = event; 
              </span><span class="s2">if</span><span class="s0">(tabPath !== undefined) { 
                module.changeTab(tabPath); 
              } 
              </span><span class="s2">if</span><span class="s0">(pageTitle) { 
                $.address.title(pageTitle); 
              } 
            } 
          } 
        }, 
 
        refresh: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(activeTabPath) { 
            module.debug(</span><span class="s3">'Refreshing tab'</span><span class="s0">, activeTabPath); 
            module.changeTab(activeTabPath); 
          } 
        }, 
 
        cache: { 
 
          read: </span><span class="s2">function</span><span class="s0">(cacheKey) { 
            </span><span class="s2">return </span><span class="s0">(cacheKey !== undefined) 
              ? cache[cacheKey] 
              : </span><span class="s2">false</span><span class="s0"> 
            ; 
          }, 
          add: </span><span class="s2">function</span><span class="s0">(cacheKey, content) { 
            cacheKey = cacheKey || activeTabPath; 
            module.debug(</span><span class="s3">'Adding cached content for'</span><span class="s0">, cacheKey); 
            cache[cacheKey] = content; 
          }, 
          remove: </span><span class="s2">function</span><span class="s0">(cacheKey) { 
            cacheKey = cacheKey || activeTabPath; 
            module.debug(</span><span class="s3">'Removing cached content for'</span><span class="s0">, cacheKey); 
            </span><span class="s2">delete </span><span class="s0">cache[cacheKey]; 
          } 
        }, 
 
        </span><span class="s2">set</span><span class="s0">: { 
          state: </span><span class="s2">function</span><span class="s0">(state) { 
            $.address.value(state); 
          } 
        }, 
 
        changeTab: </span><span class="s2">function</span><span class="s0">(tabPath) { 
          </span><span class="s2">var</span><span class="s0"> 
            pushStateAvailable = (window.history &amp;&amp; window.history.pushState), 
            shouldIgnoreLoad   = (pushStateAvailable &amp;&amp; settings.ignoreFirstLoad &amp;&amp; firstLoad), 
            remoteContent      = (settings.auto || $.isPlainObject(settings.apiSettings) ), 
            </span><span class="s1">// only get default path if not remote content</span><span class="s0"> 
            pathArray = (remoteContent &amp;&amp; !shouldIgnoreLoad) 
              ? module.utilities.pathToArray(tabPath) 
              : module.get.defaultPathArray(tabPath) 
          ; 
          tabPath = module.utilities.arrayToPath(pathArray); 
          $.each(pathArray, </span><span class="s2">function</span><span class="s0">(index, tab) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentPathArray   = pathArray.slice(</span><span class="s4">0</span><span class="s0">, index + </span><span class="s4">1</span><span class="s0">), 
              currentPath        = module.utilities.arrayToPath(currentPathArray), 
 
              isTab              = module.is.tab(currentPath), 
              isLastIndex        = (index + </span><span class="s4">1 </span><span class="s0">== pathArray.length), 
 
              $tab               = module.get.tabElement(currentPath), 
              $anchor, 
              nextPathArray, 
              nextPath, 
              isLastTab 
            ; 
            module.verbose(</span><span class="s3">'Looking for tab'</span><span class="s0">, tab); 
            </span><span class="s2">if</span><span class="s0">(isTab) { 
              module.verbose(</span><span class="s3">'Tab was found'</span><span class="s0">, tab); 
 
              </span><span class="s1">// scope up</span><span class="s0"> 
              activeTabPath = currentPath; 
              parameterArray = module.utilities.filterArray(pathArray, currentPathArray); 
 
              </span><span class="s2">if</span><span class="s0">(isLastIndex) { 
                isLastTab = </span><span class="s2">true</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                nextPathArray = pathArray.slice(</span><span class="s4">0</span><span class="s0">, index + </span><span class="s4">2</span><span class="s0">); 
                nextPath      = module.utilities.arrayToPath(nextPathArray); 
                isLastTab     = ( !module.is.tab(nextPath) ); 
                </span><span class="s2">if</span><span class="s0">(isLastTab) { 
                  module.verbose(</span><span class="s3">'Tab parameters found'</span><span class="s0">, nextPathArray); 
                } 
              } 
              </span><span class="s2">if</span><span class="s0">(isLastTab &amp;&amp; remoteContent) { 
                </span><span class="s2">if</span><span class="s0">(!shouldIgnoreLoad) { 
                  module.activate.navigation(currentPath); 
                  module.content.fetch(currentPath, tabPath); 
                } 
                </span><span class="s2">else </span><span class="s0">{ 
                  module.debug(</span><span class="s3">'Ignoring remote content on first tab load'</span><span class="s0">, currentPath); 
                  firstLoad = </span><span class="s2">false</span><span class="s0">; 
                  module.cache.add(tabPath, $tab.html()); 
                  module.activate.all(currentPath); 
                  $.proxy(settings.onTabInit, $tab)(currentPath, parameterArray, historyEvent); 
                  $.proxy(settings.onTabLoad, $tab)(currentPath, parameterArray, historyEvent); 
                } 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.debug(</span><span class="s3">'Opened local tab'</span><span class="s0">, currentPath); 
                module.activate.all(currentPath); 
                </span><span class="s2">if</span><span class="s0">( !module.cache.read(currentPath) ) { 
                  module.cache.add(currentPath, </span><span class="s2">true</span><span class="s0">); 
                  module.debug(</span><span class="s3">'First time tab loaded calling tab init'</span><span class="s0">); 
                  $.proxy(settings.onTabInit, $tab)(currentPath, parameterArray, historyEvent); 
                } 
                $.proxy(settings.onTabLoad, $tab)(currentPath, parameterArray, historyEvent); 
              } 
            } 
            </span><span class="s2">else if</span><span class="s0">(tabPath.search(</span><span class="s3">'/'</span><span class="s0">) == -</span><span class="s4">1</span><span class="s0">) { 
              </span><span class="s1">// look for in page anchor</span><span class="s0"> 
              $anchor     = $(</span><span class="s3">'#' </span><span class="s0">+ tabPath + </span><span class="s3">', a[name=&quot;' </span><span class="s0">+ tabPath + </span><span class="s3">'&quot;]'</span><span class="s0">), 
              currentPath = $anchor.closest(</span><span class="s3">'[data-tab]'</span><span class="s0">).data(</span><span class="s3">'tab'</span><span class="s0">); 
              $tab        = module.get.tabElement(currentPath); 
              </span><span class="s1">// if anchor exists use parent tab</span><span class="s0"> 
              </span><span class="s2">if</span><span class="s0">($anchor &amp;&amp; $anchor.size() &gt; </span><span class="s4">0 </span><span class="s0">&amp;&amp; currentPath) { 
                module.debug(</span><span class="s3">'No tab found, but deep anchor link present, opening parent tab'</span><span class="s0">); 
                module.activate.all(currentPath); 
                </span><span class="s2">if</span><span class="s0">( !module.cache.read(currentPath) ) { 
                  module.cache.add(currentPath, </span><span class="s2">true</span><span class="s0">); 
                  module.debug(</span><span class="s3">'First time tab loaded calling tab init'</span><span class="s0">); 
                  $.proxy(settings.onTabInit, $tab)(currentPath, parameterArray, historyEvent); 
                } 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.error(error.missingTab, $module, $context, currentPath); 
              </span><span class="s2">return false</span><span class="s0">; 
            } 
          }); 
        }, 
 
        content: { 
 
          fetch: </span><span class="s2">function</span><span class="s0">(tabPath, fullTabPath) { 
            </span><span class="s2">var</span><span class="s0"> 
              $tab             = module.get.tabElement(tabPath), 
              apiSettings      = { 
                dataType     : </span><span class="s3">'html'</span><span class="s0">, 
                stateContext : $tab, 
                onSuccess      : </span><span class="s2">function</span><span class="s0">(response) { 
                  module.cache.add(fullTabPath, response); 
                  module.content.update(tabPath, response); 
                  </span><span class="s2">if</span><span class="s0">(tabPath == activeTabPath) { 
                    module.debug(</span><span class="s3">'Content loaded'</span><span class="s0">, tabPath); 
                    module.activate.tab(tabPath); 
                  } 
                  </span><span class="s2">else </span><span class="s0">{ 
                    module.debug(</span><span class="s3">'Content loaded in background'</span><span class="s0">, tabPath); 
                  } 
                  $.proxy(settings.onTabInit, $tab)(tabPath, parameterArray, historyEvent); 
                  $.proxy(settings.onTabLoad, $tab)(tabPath, parameterArray, historyEvent); 
                }, 
                urlData: { tab: fullTabPath } 
              }, 
              request         = $tab.data(metadata.promise) || </span><span class="s2">false</span><span class="s0">, 
              existingRequest = ( request &amp;&amp; request.state() === </span><span class="s3">'pending' </span><span class="s0">), 
              requestSettings, 
              cachedContent 
            ; 
 
            fullTabPath   = fullTabPath || tabPath; 
            cachedContent = module.cache.read(fullTabPath); 
 
            </span><span class="s2">if</span><span class="s0">(settings.cache &amp;&amp; cachedContent) { 
              module.debug(</span><span class="s3">'Showing existing content'</span><span class="s0">, fullTabPath); 
              module.content.update(tabPath, cachedContent); 
              module.activate.tab(tabPath); 
              $.proxy(settings.onTabLoad, $tab)(tabPath, parameterArray, historyEvent); 
            } 
            </span><span class="s2">else if</span><span class="s0">(existingRequest) { 
              module.debug(</span><span class="s3">'Content is already loading'</span><span class="s0">, fullTabPath); 
              $tab 
                .addClass(className.loading) 
              ; 
            } 
            </span><span class="s2">else if</span><span class="s0">($.api !== undefined) { 
              requestSettings = $.extend(</span><span class="s2">true</span><span class="s0">, { headers: { </span><span class="s3">'X-Remote'</span><span class="s0">: </span><span class="s2">true </span><span class="s0">} }, settings.apiSettings, apiSettings); 
              module.debug(</span><span class="s3">'Retrieving remote content'</span><span class="s0">, fullTabPath, requestSettings); 
              $.api( requestSettings ); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.error(error.api); 
            } 
          }, 
 
          update: </span><span class="s2">function</span><span class="s0">(tabPath, html) { 
            module.debug(</span><span class="s3">'Updating html for'</span><span class="s0">, tabPath); 
            </span><span class="s2">var</span><span class="s0"> 
              $tab = module.get.tabElement(tabPath) 
            ; 
            $tab 
              .html(html) 
            ; 
          } 
        }, 
 
        activate: { 
          all: </span><span class="s2">function</span><span class="s0">(tabPath) { 
            module.activate.tab(tabPath); 
            module.activate.navigation(tabPath); 
          }, 
          tab: </span><span class="s2">function</span><span class="s0">(tabPath) { 
            </span><span class="s2">var</span><span class="s0"> 
              $tab = module.get.tabElement(tabPath) 
            ; 
            module.verbose(</span><span class="s3">'Showing tab content for'</span><span class="s0">, $tab); 
            $tab 
              .addClass(className.active) 
              .siblings($tabs) 
                .removeClass(className.active + </span><span class="s3">' ' </span><span class="s0">+ className.loading) 
            ; 
          }, 
          navigation: </span><span class="s2">function</span><span class="s0">(tabPath) { 
            </span><span class="s2">var</span><span class="s0"> 
              $navigation = module.get.navElement(tabPath) 
            ; 
            module.verbose(</span><span class="s3">'Activating tab navigation for'</span><span class="s0">, $navigation, tabPath); 
            $navigation 
              .addClass(className.active) 
              .siblings($allModules) 
                .removeClass(className.active + </span><span class="s3">' ' </span><span class="s0">+ className.loading) 
            ; 
          } 
        }, 
 
        deactivate: { 
          all: </span><span class="s2">function</span><span class="s0">() { 
            module.deactivate.navigation(); 
            module.deactivate.tabs(); 
          }, 
          navigation: </span><span class="s2">function</span><span class="s0">() { 
            $allModules 
              .removeClass(className.active) 
            ; 
          }, 
          tabs: </span><span class="s2">function</span><span class="s0">() { 
            $tabs 
              .removeClass(className.active + </span><span class="s3">' ' </span><span class="s0">+ className.loading) 
            ; 
          } 
        }, 
 
        is: { 
          tab: </span><span class="s2">function</span><span class="s0">(tabName) { 
            </span><span class="s2">return </span><span class="s0">(tabName !== undefined) 
              ? ( module.get.tabElement(tabName).size() &gt; </span><span class="s4">0 </span><span class="s0">) 
              : </span><span class="s2">false</span><span class="s0"> 
            ; 
          } 
        }, 
 
        </span><span class="s2">get</span><span class="s0">: { 
          initialPath: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$allModules.eq(</span><span class="s4">0</span><span class="s0">).data(metadata.tab) || $tabs.eq(</span><span class="s4">0</span><span class="s0">).data(metadata.tab); 
          }, 
          path: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$.address.value(); 
          }, 
          </span><span class="s1">// adds default tabs to tab path</span><span class="s0"> 
          defaultPathArray: </span><span class="s2">function</span><span class="s0">(tabPath) { 
            </span><span class="s2">return </span><span class="s0">module.utilities.pathToArray( module.get.defaultPath(tabPath) ); 
          }, 
          defaultPath: </span><span class="s2">function</span><span class="s0">(tabPath) { 
            </span><span class="s2">var</span><span class="s0"> 
              $defaultNav = $allModules.filter(</span><span class="s3">'[data-' </span><span class="s0">+ metadata.tab + </span><span class="s3">'^=&quot;' </span><span class="s0">+ tabPath + </span><span class="s3">'/&quot;]'</span><span class="s0">).eq(</span><span class="s4">0</span><span class="s0">), 
              defaultTab  = $defaultNav.data(metadata.tab) || </span><span class="s2">false</span><span class="s0"> 
            ; 
            </span><span class="s2">if</span><span class="s0">( defaultTab ) { 
              module.debug(</span><span class="s3">'Found default tab'</span><span class="s0">, defaultTab); 
              </span><span class="s2">if</span><span class="s0">(recursionDepth &lt; settings.maxDepth) { 
                recursionDepth++; 
                </span><span class="s2">return </span><span class="s0">module.get.defaultPath(defaultTab); 
              } 
              module.error(error.recursion); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug(</span><span class="s3">'No default tabs found for'</span><span class="s0">, tabPath, $tabs); 
            } 
            recursionDepth = </span><span class="s4">0</span><span class="s0">; 
            </span><span class="s2">return </span><span class="s0">tabPath; 
          }, 
          navElement: </span><span class="s2">function</span><span class="s0">(tabPath) { 
            tabPath = tabPath || activeTabPath; 
            </span><span class="s2">return </span><span class="s0">$allModules.filter(</span><span class="s3">'[data-' </span><span class="s0">+ metadata.tab + </span><span class="s3">'=&quot;' </span><span class="s0">+ tabPath + </span><span class="s3">'&quot;]'</span><span class="s0">); 
          }, 
          tabElement: </span><span class="s2">function</span><span class="s0">(tabPath) { 
            </span><span class="s2">var</span><span class="s0"> 
              $fullPathTab, 
              $simplePathTab, 
              tabPathArray, 
              lastTab 
            ; 
            tabPath        = tabPath || activeTabPath; 
            tabPathArray   = module.utilities.pathToArray(tabPath); 
            lastTab        = module.utilities.last(tabPathArray); 
            $fullPathTab   = $tabs.filter(</span><span class="s3">'[data-' </span><span class="s0">+ metadata.tab + </span><span class="s3">'=&quot;' </span><span class="s0">+ lastTab + </span><span class="s3">'&quot;]'</span><span class="s0">); 
            $simplePathTab = $tabs.filter(</span><span class="s3">'[data-' </span><span class="s0">+ metadata.tab + </span><span class="s3">'=&quot;' </span><span class="s0">+ tabPath + </span><span class="s3">'&quot;]'</span><span class="s0">); 
            </span><span class="s2">return </span><span class="s0">($fullPathTab.size() &gt; </span><span class="s4">0</span><span class="s0">) 
              ? $fullPathTab 
              : $simplePathTab 
            ; 
          }, 
          tab: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">activeTabPath; 
          } 
        }, 
 
        utilities: { 
          filterArray: </span><span class="s2">function</span><span class="s0">(keepArray, removeArray) { 
            </span><span class="s2">return </span><span class="s0">$.grep(keepArray, </span><span class="s2">function</span><span class="s0">(keepValue) { 
              </span><span class="s2">return </span><span class="s0">( $.inArray(keepValue, removeArray) == -</span><span class="s4">1</span><span class="s0">); 
            }); 
          }, 
          last: </span><span class="s2">function</span><span class="s0">(array) { 
            </span><span class="s2">return </span><span class="s0">$.isArray(array) 
              ? array[ array.length - </span><span class="s4">1</span><span class="s0">] 
              : </span><span class="s2">false</span><span class="s0"> 
            ; 
          }, 
          pathToArray: </span><span class="s2">function</span><span class="s0">(pathName) { 
            </span><span class="s2">if</span><span class="s0">(pathName === undefined) { 
              pathName = activeTabPath; 
            } 
            </span><span class="s2">return typeof </span><span class="s0">pathName == </span><span class="s3">'string'</span><span class="s0"> 
              ? pathName.split(</span><span class="s3">'/'</span><span class="s0">) 
              : [pathName] 
            ; 
          }, 
          arrayToPath: </span><span class="s2">function</span><span class="s0">(pathArray) { 
            </span><span class="s2">return </span><span class="s0">$.isArray(pathArray) 
              ? pathArray.join(</span><span class="s3">'/'</span><span class="s0">) 
              : </span><span class="s2">false</span><span class="s0"> 
            ; 
          } 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing setting'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.error(error.method, query); 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
    }) 
  ; 
  </span><span class="s2">if</span><span class="s0">(module &amp;&amp; !methodInvoked) { 
    module.initializeHistory(); 
  } 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
 
}; 
 
</span><span class="s1">// shortcut for tabbed content with no defined navigation</span><span class="s0"> 
$.tab = </span><span class="s2">function</span><span class="s0">(settings) { 
  $(window).tab(settings); 
}; 
 
$.fn.tab.settings = { 
 
  name         : </span><span class="s3">'Tab'</span><span class="s0">, 
  namespace    : </span><span class="s3">'tab'</span><span class="s0">, 
 
  debug        : </span><span class="s2">false</span><span class="s0">, 
  verbose      : </span><span class="s2">true</span><span class="s0">, 
  performance  : </span><span class="s2">true</span><span class="s0">, 
 
  </span><span class="s1">// uses pjax style endpoints fetching content from same url with remote-content headers</span><span class="s0"> 
  auto         : </span><span class="s2">false</span><span class="s0">, 
  history      : </span><span class="s2">false</span><span class="s0">, 
  historyType  : </span><span class="s3">'hash'</span><span class="s0">, 
  path         : </span><span class="s2">false</span><span class="s0">, 
 
  context      : </span><span class="s2">false</span><span class="s0">, 
  childrenOnly : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// max depth a tab can be nested</span><span class="s0"> 
  maxDepth        : </span><span class="s4">25</span><span class="s0">, 
 
  </span><span class="s1">// dont load content on first load</span><span class="s0"> 
  ignoreFirstLoad : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// load tab content new every tab click</span><span class="s0"> 
  alwaysRefresh   : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// cache the content requests to pull locally</span><span class="s0"> 
  cache           : </span><span class="s2">true</span><span class="s0">, 
 
  </span><span class="s1">// settings for api call</span><span class="s0"> 
  apiSettings     : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// only called first time a tab's content is loaded (when remote source)</span><span class="s0"> 
  onTabInit    : </span><span class="s2">function</span><span class="s0">(tabPath, parameterArray, historyEvent) {}, 
 
  </span><span class="s1">// called on every load</span><span class="s0"> 
  onTabLoad    : </span><span class="s2">function</span><span class="s0">(tabPath, parameterArray, historyEvent) {}, 
 
  templates    : { 
    determineTitle: </span><span class="s2">function</span><span class="s0">(tabArray) {} 
  }, 
 
  error: { 
    api        : </span><span class="s3">'You attempted to load content without API module'</span><span class="s0">, 
    method     : </span><span class="s3">'The method you called is not defined'</span><span class="s0">, 
    missingTab : </span><span class="s3">'Activated tab cannot be found for this context.'</span><span class="s0">, 
    noContent  : </span><span class="s3">'The tab you specified is missing a content url.'</span><span class="s0">, 
    path       : </span><span class="s3">'History enabled, but no path was specified'</span><span class="s0">, 
    recursion  : </span><span class="s3">'Max recursive depth reached'</span><span class="s0">, 
    state      : </span><span class="s3">'History requires Asual</span><span class="s2">\'</span><span class="s3">s Address library &lt;https://github.com/asual/jquery-address&gt;'</span><span class="s0"> 
  }, 
 
  metadata : { 
    tab    : </span><span class="s3">'tab'</span><span class="s0">, 
    loaded : </span><span class="s3">'loaded'</span><span class="s0">, 
    promise: </span><span class="s3">'promise'</span><span class="s0"> 
  }, 
 
  className   : { 
    loading : </span><span class="s3">'loading'</span><span class="s0">, 
    active  : </span><span class="s3">'active'</span><span class="s0"> 
  }, 
 
  selector    : { 
    tabs : </span><span class="s3">'.ui.tab'</span><span class="s0">, 
    ui   : </span><span class="s3">'.ui'</span><span class="s0"> 
  } 
 
}; 
 
})( jQuery, window , document ); 
</span><span class="s1">/* 
 * # Semantic - Transition 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">( $, window, document, undefined ) { 
 
</span><span class="s3">&quot;use strict&quot;</span><span class="s0">; 
 
$.fn.transition = </span><span class="s2">function</span><span class="s0">() { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules     = $(</span><span class="s2">this</span><span class="s0">), 
    moduleSelector  = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
    time            = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance     = [], 
 
    moduleArguments = arguments, 
    query           = moduleArguments[</span><span class="s4">0</span><span class="s0">], 
    queryArguments  = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
    methodInvoked   = (</span><span class="s2">typeof </span><span class="s0">query === </span><span class="s3">'string'</span><span class="s0">), 
 
    requestAnimationFrame = window.requestAnimationFrame 
      || window.mozRequestAnimationFrame 
      || window.webkitRequestAnimationFrame 
      || window.msRequestAnimationFrame 
      || </span><span class="s2">function</span><span class="s0">(callback) { setTimeout(callback, </span><span class="s4">0</span><span class="s0">); }, 
 
    returnedValue 
  ; 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        $module  = $(</span><span class="s2">this</span><span class="s0">), 
        element  = </span><span class="s2">this</span><span class="s0">, 
 
        </span><span class="s1">// set at run time</span><span class="s0"> 
        settings, 
        instance, 
 
        error, 
        className, 
        metadata, 
        animationStart, 
        animationEnd, 
        animationName, 
 
        namespace, 
        moduleNamespace, 
        eventNamespace, 
        module 
      ; 
 
      module = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
 
          </span><span class="s1">// get full settings</span><span class="s0"> 
          moduleNamespace = </span><span class="s3">'module-' </span><span class="s0">+ namespace; 
          settings        = module.get.settings.apply(element, moduleArguments); 
          className       = settings.className; 
          metadata        = settings.metadata; 
 
          animationStart  = module.get.animationStartEvent(); 
          animationEnd    = module.get.animationEndEvent(); 
          animationName   = module.get.animationName(); 
          error           = settings.error; 
          namespace       = settings.namespace; 
          eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ settings.namespace; 
          instance        = $module.data(moduleNamespace) || module; 
 
          </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
            methodInvoked = module.invoke(query); 
          } 
          </span><span class="s1">// no internal method was found matching query or query not made</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">(methodInvoked === </span><span class="s2">false</span><span class="s0">) { 
            module.verbose(</span><span class="s3">'Converted arguments into settings object'</span><span class="s0">, settings); 
            module.animate(); 
            module.instantiate(); 
          } 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of module'</span><span class="s0">, module); 
          $module 
            .data(moduleNamespace, instance) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying previous module for'</span><span class="s0">, element); 
          $module 
            .removeData(moduleNamespace) 
          ; 
        }, 
 
        refresh: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Refreshing display type on next animation'</span><span class="s0">); 
          </span><span class="s2">delete </span><span class="s0">module.displayType; 
        }, 
 
        forceRepaint: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Forcing element repaint'</span><span class="s0">); 
          </span><span class="s2">var</span><span class="s0"> 
            $parentElement = $module.parent(), 
            $nextElement = $module.next() 
          ; 
          </span><span class="s2">if</span><span class="s0">($nextElement.size() === </span><span class="s4">0</span><span class="s0">) { 
            $module.detach().appendTo($parentElement); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            $module.detach().insertBefore($nextElement); 
          } 
        }, 
 
        repaint: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Repainting element'</span><span class="s0">); 
          </span><span class="s2">var</span><span class="s0"> 
            fakeAssignment = element.offsetWidth 
          ; 
        }, 
 
        animate: </span><span class="s2">function</span><span class="s0">(overrideSettings) { 
          settings = overrideSettings || settings; 
          </span><span class="s2">if</span><span class="s0">(!module.is.supported()) { 
            module.error(error.support); 
            </span><span class="s2">return false</span><span class="s0">; 
          } 
          module.debug(</span><span class="s3">'Preparing animation'</span><span class="s0">, settings.animation); 
          </span><span class="s2">if</span><span class="s0">(module.is.animating()) { 
            </span><span class="s2">if</span><span class="s0">(settings.queue) { 
              </span><span class="s2">if</span><span class="s0">(!settings.allowRepeats &amp;&amp; module.has.direction() &amp;&amp; module.is.occuring() &amp;&amp; module.queuing !== </span><span class="s2">true</span><span class="s0">) { 
                module.error(error.repeated, settings.animation, $module); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.queue(settings.animation); 
              } 
              </span><span class="s2">return false</span><span class="s0">; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
 
            } 
          } 
          </span><span class="s2">if</span><span class="s0">( module.can.animate() ) { 
            module.set.animating(settings.animation); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.error(error.noAnimation, settings.animation); 
          } 
        }, 
 
        reset: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Resetting animation to beginning conditions'</span><span class="s0">); 
          module.remove.animationEndCallback(); 
          module.restore.conditions(); 
          module.remove.animating(); 
        }, 
 
        queue: </span><span class="s2">function</span><span class="s0">(animation) { 
          module.debug(</span><span class="s3">'Queueing animation of'</span><span class="s0">, animation); 
          module.queuing = </span><span class="s2">true</span><span class="s0">; 
          $module 
            .one(animationEnd + eventNamespace, </span><span class="s2">function</span><span class="s0">() { 
              module.queuing = </span><span class="s2">false</span><span class="s0">; 
              module.repaint(); 
              module.animate.apply(</span><span class="s2">this</span><span class="s0">, settings); 
            }) 
          ; 
        }, 
 
        complete: </span><span class="s2">function </span><span class="s0">() { 
          module.verbose(</span><span class="s3">'CSS animation complete'</span><span class="s0">, settings.animation); 
          module.remove.animationEndCallback(); 
          module.remove.failSafe(); 
          </span><span class="s2">if</span><span class="s0">(!module.is.looping()) { 
            </span><span class="s2">if</span><span class="s0">( module.is.outward() ) { 
              module.verbose(</span><span class="s3">'Animation is outward, hiding element'</span><span class="s0">); 
              module.restore.conditions(); 
              module.hide(); 
              $.proxy(settings.onHide, </span><span class="s2">this</span><span class="s0">)(); 
            } 
            </span><span class="s2">else if</span><span class="s0">( module.is.inward() ) { 
              module.verbose(</span><span class="s3">'Animation is outward, showing element'</span><span class="s0">); 
              module.restore.conditions(); 
              module.show(); 
              module.set.display(); 
              $.proxy(settings.onShow, </span><span class="s2">this</span><span class="s0">)(); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.restore.conditions(); 
            } 
            module.remove.animation(); 
            module.remove.animating(); 
          } 
          $.proxy(settings.onComplete, </span><span class="s2">this</span><span class="s0">)(); 
        }, 
 
        has: { 
          direction: </span><span class="s2">function</span><span class="s0">(animation) { 
            animation = animation || settings.animation; 
            </span><span class="s2">if</span><span class="s0">( animation.search(className.inward) !== -</span><span class="s4">1 </span><span class="s0">|| animation.search(className.outward) !== -</span><span class="s4">1</span><span class="s0">) { 
              module.debug(</span><span class="s3">'Direction already set in animation'</span><span class="s0">); 
              </span><span class="s2">return true</span><span class="s0">; 
            } 
            </span><span class="s2">return false</span><span class="s0">; 
          }, 
          inlineDisplay: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              style = $module.attr(</span><span class="s3">'style'</span><span class="s0">) || </span><span class="s3">''</span><span class="s0"> 
            ; 
            </span><span class="s2">return </span><span class="s0">$.isArray(style.match(</span><span class="s4">/display.*?;/</span><span class="s0">, </span><span class="s3">''</span><span class="s0">)); 
          } 
        }, 
 
        </span><span class="s2">set</span><span class="s0">: { 
          animating: </span><span class="s2">function</span><span class="s0">(animation) { 
            animation = animation || settings.animation; 
            </span><span class="s2">if</span><span class="s0">(!module.is.animating()) { 
              module.save.conditions(); 
            } 
            module.remove.direction(); 
            module.remove.animationEndCallback(); 
            </span><span class="s2">if</span><span class="s0">(module.can.transition() &amp;&amp; !module.has.direction()) { 
              module.set.direction(); 
            } 
            module.remove.hidden(); 
            module.set.display(); 
            $module 
              .addClass(className.animating) 
              .addClass(className.transition) 
              .addClass(animation) 
              .one(animationEnd + </span><span class="s3">'.complete' </span><span class="s0">+ eventNamespace, module.complete) 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.useFailSafe) { 
              module.add.failSafe(); 
            } 
            module.set.duration(settings.duration); 
            $.proxy(settings.onStart, </span><span class="s2">this</span><span class="s0">)(); 
            module.debug(</span><span class="s3">'Starting tween'</span><span class="s0">, animation, $module.attr(</span><span class="s3">'class'</span><span class="s0">)); 
          }, 
          duration: </span><span class="s2">function</span><span class="s0">(animationName, duration) { 
            duration = duration || settings.duration; 
            duration = (</span><span class="s2">typeof </span><span class="s0">duration == </span><span class="s3">'number'</span><span class="s0">) 
              ? duration + </span><span class="s3">'ms'</span><span class="s0"> 
              : duration 
            ; 
            module.verbose(</span><span class="s3">'Setting animation duration'</span><span class="s0">, duration); 
            $module 
              .css({ 
                </span><span class="s3">'-webkit-animation-duration'</span><span class="s0">: duration, 
                </span><span class="s3">'-moz-animation-duration'</span><span class="s0">: duration, 
                </span><span class="s3">'-ms-animation-duration'</span><span class="s0">: duration, 
                </span><span class="s3">'-o-animation-duration'</span><span class="s0">: duration, 
                </span><span class="s3">'animation-duration'</span><span class="s0">:  duration 
              }) 
            ; 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              style              = module.get.style(), 
              displayType        = module.get.displayType(), 
              overrideStyle      = style + </span><span class="s3">'display: ' </span><span class="s0">+ displayType + </span><span class="s3">' !important;'</span><span class="s0"> 
            ; 
            $module.css(</span><span class="s3">'display'</span><span class="s0">, </span><span class="s3">''</span><span class="s0">); 
            module.refresh(); 
            </span><span class="s2">if</span><span class="s0">( $module.css(</span><span class="s3">'display'</span><span class="s0">) !== displayType ) { 
              module.verbose(</span><span class="s3">'Setting inline visibility to'</span><span class="s0">, displayType); 
              $module 
                .attr(</span><span class="s3">'style'</span><span class="s0">, overrideStyle) 
              ; 
            } 
          }, 
          direction: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">($module.is(</span><span class="s3">':visible'</span><span class="s0">) &amp;&amp; !module.is.hidden()) { 
              module.debug(</span><span class="s3">'Automatically determining the direction of animation'</span><span class="s0">, </span><span class="s3">'Outward'</span><span class="s0">); 
              $module 
                .removeClass(className.inward) 
                .addClass(className.outward) 
              ; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug(</span><span class="s3">'Automatically determining the direction of animation'</span><span class="s0">, </span><span class="s3">'Inward'</span><span class="s0">); 
              $module 
                .removeClass(className.outward) 
                .addClass(className.inward) 
              ; 
            } 
          }, 
          looping: </span><span class="s2">function</span><span class="s0">() { 
            module.debug(</span><span class="s3">'Transition set to loop'</span><span class="s0">); 
            $module 
              .addClass(className.looping) 
            ; 
          }, 
          hidden: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(!module.is.hidden()) { 
              $module 
                .addClass(className.transition) 
                .addClass(className.hidden) 
              ; 
              </span><span class="s2">if</span><span class="s0">($module.css(</span><span class="s3">'display'</span><span class="s0">) !== </span><span class="s3">'none'</span><span class="s0">) { 
                module.verbose(</span><span class="s3">'Overriding default display to hide element'</span><span class="s0">); 
                $module 
                  .css(</span><span class="s3">'display'</span><span class="s0">, </span><span class="s3">'none'</span><span class="s0">) 
                ; 
              } 
            } 
          }, 
          visible: </span><span class="s2">function</span><span class="s0">() { 
            $module 
              .addClass(className.transition) 
              .addClass(className.visible) 
            ; 
          } 
        }, 
 
        save: { 
          displayType: </span><span class="s2">function</span><span class="s0">(displayType) { 
            $module.data(metadata.displayType, displayType); 
          }, 
          transitionExists: </span><span class="s2">function</span><span class="s0">(animation, exists) { 
            $.fn.transition.exists[animation] = exists; 
            module.verbose(</span><span class="s3">'Saving existence of transition'</span><span class="s0">, animation, exists); 
          }, 
          conditions: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              clasName = $module.attr(</span><span class="s3">'class'</span><span class="s0">) || </span><span class="s2">false</span><span class="s0">, 
              style = $module.attr(</span><span class="s3">'style'</span><span class="s0">) || </span><span class="s3">''</span><span class="s0"> 
            ; 
            $module.removeClass(settings.animation); 
            module.remove.direction(); 
            module.cache = { 
              className : $module.attr(</span><span class="s3">'class'</span><span class="s0">), 
              style     : module.get.style() 
            }; 
            module.verbose(</span><span class="s3">'Saving original attributes'</span><span class="s0">, module.cache); 
          } 
        }, 
 
        restore: { 
          conditions: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.cache === undefined) { 
              </span><span class="s2">return false</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">(module.cache.className) { 
              $module.attr(</span><span class="s3">'class'</span><span class="s0">, module.cache.className); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              $module.removeAttr(</span><span class="s3">'class'</span><span class="s0">); 
            } 
            </span><span class="s2">if</span><span class="s0">(module.cache.style) { 
              module.verbose(</span><span class="s3">'Restoring original style attribute'</span><span class="s0">, module.cache.style); 
              $module.attr(</span><span class="s3">'style'</span><span class="s0">, module.cache.style); 
            } 
            </span><span class="s2">if</span><span class="s0">(module.is.looping()) { 
              module.remove.looping(); 
            } 
            module.verbose(</span><span class="s3">'Restoring original attributes'</span><span class="s0">, module.cache); 
          } 
        }, 
 
        add: { 
          failSafe: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              duration = module.get.duration() 
            ; 
            module.timer = setTimeout(module.complete, duration + </span><span class="s4">100</span><span class="s0">); 
            module.verbose(</span><span class="s3">'Adding fail safe timer'</span><span class="s0">, module.timer); 
          } 
        }, 
 
        remove: { 
          animating: </span><span class="s2">function</span><span class="s0">() { 
            $module.removeClass(className.animating); 
          }, 
          animation: </span><span class="s2">function</span><span class="s0">() { 
            $module 
              .css({ 
                </span><span class="s3">'-webkit-animation' </span><span class="s0">: </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'-moz-animation'    </span><span class="s0">: </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'-ms-animation'     </span><span class="s0">: </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'-o-animation'      </span><span class="s0">: </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'animation'         </span><span class="s0">: </span><span class="s3">''</span><span class="s0"> 
              }) 
            ; 
          }, 
          animationEndCallback: </span><span class="s2">function</span><span class="s0">() { 
            $module.off(</span><span class="s3">'.complete'</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            $module.css(</span><span class="s3">'display'</span><span class="s0">, </span><span class="s3">''</span><span class="s0">); 
          }, 
          direction: </span><span class="s2">function</span><span class="s0">() { 
            $module 
              .removeClass(className.inward) 
              .removeClass(className.outward) 
            ; 
          }, 
          failSafe: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Removing fail safe timer'</span><span class="s0">, module.timer); 
            </span><span class="s2">if</span><span class="s0">(module.timer) { 
              clearTimeout(module.timer); 
            } 
          }, 
          hidden: </span><span class="s2">function</span><span class="s0">() { 
            $module.removeClass(className.hidden); 
          }, 
          visible: </span><span class="s2">function</span><span class="s0">() { 
            $module.removeClass(className.visible); 
          }, 
          looping: </span><span class="s2">function</span><span class="s0">() { 
            module.debug(</span><span class="s3">'Transitions are no longer looping'</span><span class="s0">); 
            $module 
              .removeClass(className.looping) 
            ; 
            module.forceRepaint(); 
          }, 
          transition: </span><span class="s2">function</span><span class="s0">() { 
            $module 
              .removeClass(className.visible) 
              .removeClass(className.hidden) 
            ; 
          } 
        }, 
        </span><span class="s2">get</span><span class="s0">: { 
          settings: </span><span class="s2">function</span><span class="s0">(animation, duration, onComplete) { 
            </span><span class="s1">// single settings object</span><span class="s0"> 
            </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">animation == </span><span class="s3">'object'</span><span class="s0">) { 
              </span><span class="s2">return </span><span class="s0">$.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.transition.settings, animation); 
            } 
            </span><span class="s1">// all arguments provided</span><span class="s0"> 
            </span><span class="s2">else if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">onComplete == </span><span class="s3">'function'</span><span class="s0">) { 
              </span><span class="s2">return </span><span class="s0">$.extend({}, $.fn.transition.settings, { 
                animation  : animation, 
                onComplete : onComplete, 
                duration   : duration 
              }); 
            } 
            </span><span class="s1">// only duration provided</span><span class="s0"> 
            </span><span class="s2">else if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">duration == </span><span class="s3">'string' </span><span class="s0">|| </span><span class="s2">typeof </span><span class="s0">duration == </span><span class="s3">'number'</span><span class="s0">) { 
              </span><span class="s2">return </span><span class="s0">$.extend({}, $.fn.transition.settings, { 
                animation : animation, 
                duration  : duration 
              }); 
            } 
            </span><span class="s1">// duration is actually settings object</span><span class="s0"> 
            </span><span class="s2">else if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">duration == </span><span class="s3">'object'</span><span class="s0">) { 
              </span><span class="s2">return </span><span class="s0">$.extend({}, $.fn.transition.settings, duration, { 
                animation : animation 
              }); 
            } 
            </span><span class="s1">// duration is actually callback</span><span class="s0"> 
            </span><span class="s2">else if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">duration == </span><span class="s3">'function'</span><span class="s0">) { 
              </span><span class="s2">return </span><span class="s0">$.extend({}, $.fn.transition.settings, { 
                animation  : animation, 
                onComplete : duration 
              }); 
            } 
            </span><span class="s1">// only animation provided</span><span class="s0"> 
            </span><span class="s2">else </span><span class="s0">{ 
              </span><span class="s2">return </span><span class="s0">$.extend({}, $.fn.transition.settings, { 
                animation : animation 
              }); 
            } 
            </span><span class="s2">return </span><span class="s0">$.fn.transition.settings; 
          }, 
          duration: </span><span class="s2">function</span><span class="s0">(duration) { 
            duration = duration || settings.duration; 
            </span><span class="s2">return </span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">settings.duration === </span><span class="s3">'string'</span><span class="s0">) 
              ? (duration.indexOf(</span><span class="s3">'ms'</span><span class="s0">) &gt; -</span><span class="s4">1</span><span class="s0">) 
                ? parseFloat(duration) 
                : parseFloat(duration) * </span><span class="s4">1000</span><span class="s0"> 
              : duration 
            ; 
          }, 
          displayType: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(settings.displayType) { 
              </span><span class="s2">return </span><span class="s0">settings.displayType; 
            } 
            </span><span class="s2">if</span><span class="s0">($module.data(metadata.displayType) === undefined) { 
              </span><span class="s1">// create fake element to determine display state</span><span class="s0"> 
              module.can.transition(</span><span class="s2">true</span><span class="s0">); 
            } 
            </span><span class="s2">return </span><span class="s0">$module.data(metadata.displayType); 
          }, 
          style: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              style = $module.attr(</span><span class="s3">'style'</span><span class="s0">) || </span><span class="s3">''</span><span class="s0"> 
            ; 
            </span><span class="s2">return </span><span class="s0">style.replace(</span><span class="s4">/display.*?;/</span><span class="s0">, </span><span class="s3">''</span><span class="s0">); 
          }, 
          transitionExists: </span><span class="s2">function</span><span class="s0">(animation) { 
            </span><span class="s2">return </span><span class="s0">$.fn.transition.exists[animation]; 
          }, 
          animationName: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              element     = document.createElement(</span><span class="s3">'div'</span><span class="s0">), 
              animations  = { 
                </span><span class="s3">'animation'       </span><span class="s0">:</span><span class="s3">'animationName'</span><span class="s0">, 
                </span><span class="s3">'OAnimation'      </span><span class="s0">:</span><span class="s3">'oAnimationName'</span><span class="s0">, 
                </span><span class="s3">'MozAnimation'    </span><span class="s0">:</span><span class="s3">'mozAnimationName'</span><span class="s0">, 
                </span><span class="s3">'WebkitAnimation' </span><span class="s0">:</span><span class="s3">'webkitAnimationName'</span><span class="s0"> 
              }, 
              animation 
            ; 
            </span><span class="s2">for</span><span class="s0">(animation </span><span class="s2">in </span><span class="s0">animations){ 
              </span><span class="s2">if</span><span class="s0">( element.style[animation] !== undefined ){ 
                </span><span class="s2">return </span><span class="s0">animations[animation]; 
              } 
            } 
            </span><span class="s2">return false</span><span class="s0">; 
          }, 
          animationStartEvent: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              element     = document.createElement(</span><span class="s3">'div'</span><span class="s0">), 
              animations  = { 
                </span><span class="s3">'animation'       </span><span class="s0">:</span><span class="s3">'animationstart'</span><span class="s0">, 
                </span><span class="s3">'OAnimation'      </span><span class="s0">:</span><span class="s3">'oAnimationStart'</span><span class="s0">, 
                </span><span class="s3">'MozAnimation'    </span><span class="s0">:</span><span class="s3">'mozAnimationStart'</span><span class="s0">, 
                </span><span class="s3">'WebkitAnimation' </span><span class="s0">:</span><span class="s3">'webkitAnimationStart'</span><span class="s0"> 
              }, 
              animation 
            ; 
            </span><span class="s2">for</span><span class="s0">(animation </span><span class="s2">in </span><span class="s0">animations){ 
              </span><span class="s2">if</span><span class="s0">( element.style[animation] !== undefined ){ 
                </span><span class="s2">return </span><span class="s0">animations[animation]; 
              } 
            } 
            </span><span class="s2">return false</span><span class="s0">; 
          }, 
          animationEndEvent: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              element     = document.createElement(</span><span class="s3">'div'</span><span class="s0">), 
              animations  = { 
                </span><span class="s3">'animation'       </span><span class="s0">:</span><span class="s3">'animationend'</span><span class="s0">, 
                </span><span class="s3">'OAnimation'      </span><span class="s0">:</span><span class="s3">'oAnimationEnd'</span><span class="s0">, 
                </span><span class="s3">'MozAnimation'    </span><span class="s0">:</span><span class="s3">'mozAnimationEnd'</span><span class="s0">, 
                </span><span class="s3">'WebkitAnimation' </span><span class="s0">:</span><span class="s3">'webkitAnimationEnd'</span><span class="s0"> 
              }, 
              animation 
            ; 
            </span><span class="s2">for</span><span class="s0">(animation </span><span class="s2">in </span><span class="s0">animations){ 
              </span><span class="s2">if</span><span class="s0">( element.style[animation] !== undefined ){ 
                </span><span class="s2">return </span><span class="s0">animations[animation]; 
              } 
            } 
            </span><span class="s2">return false</span><span class="s0">; 
          } 
 
        }, 
 
        can: { 
          transition: </span><span class="s2">function</span><span class="s0">(forced) { 
            </span><span class="s2">var</span><span class="s0"> 
              elementClass      = $module.attr(</span><span class="s3">'class'</span><span class="s0">), 
              tagName           = $module.prop(</span><span class="s3">'tagName'</span><span class="s0">), 
              animation         = settings.animation, 
              transitionExists  = module.get.transitionExists(animation), 
              $clone, 
              currentAnimation, 
              inAnimation, 
              directionExists, 
              displayType 
            ; 
            </span><span class="s2">if</span><span class="s0">( transitionExists === undefined || forced) { 
              module.verbose(</span><span class="s3">'Determining whether animation exists'</span><span class="s0">); 
              $clone = $(</span><span class="s3">'&lt;' </span><span class="s0">+ tagName + </span><span class="s3">' /&gt;'</span><span class="s0">).addClass( elementClass ).insertAfter($module); 
              currentAnimation = $clone 
                .addClass(animation) 
                .removeClass(className.inward) 
                .removeClass(className.outward) 
                .addClass(className.animating) 
                .addClass(className.transition) 
                .css(animationName) 
              ; 
              inAnimation = $clone 
                .addClass(className.inward) 
                .css(animationName) 
              ; 
              displayType = $clone 
                .attr(</span><span class="s3">'class'</span><span class="s0">, elementClass) 
                .removeAttr(</span><span class="s3">'style'</span><span class="s0">) 
                .removeClass(className.hidden) 
                .removeClass(className.visible) 
                .show() 
                .css(</span><span class="s3">'display'</span><span class="s0">) 
              ; 
              module.verbose(</span><span class="s3">'Determining final display state'</span><span class="s0">, displayType); 
              $clone.remove(); 
              </span><span class="s2">if</span><span class="s0">(currentAnimation != inAnimation) { 
                module.debug(</span><span class="s3">'Direction exists for animation'</span><span class="s0">, animation); 
                directionExists = </span><span class="s2">true</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">(currentAnimation == </span><span class="s3">'none' </span><span class="s0">|| !currentAnimation) { 
                module.debug(</span><span class="s3">'No animation defined in css'</span><span class="s0">, animation); 
                </span><span class="s2">return</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                module.debug(</span><span class="s3">'Static animation found'</span><span class="s0">, animation, displayType); 
                directionExists = </span><span class="s2">false</span><span class="s0">; 
              } 
              module.save.displayType(displayType); 
              module.save.transitionExists(animation, directionExists); 
            } 
            </span><span class="s2">return </span><span class="s0">(transitionExists !== undefined) 
              ? transitionExists 
              : directionExists 
            ; 
          }, 
          animate: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s1">// can transition does not return a value if animation does not exist</span><span class="s0"> 
            </span><span class="s2">return </span><span class="s0">(module.can.transition() !== undefined); 
          } 
        }, 
 
        is: { 
          animating: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.animating); 
          }, 
          inward: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.inward); 
          }, 
          outward: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.outward); 
          }, 
          looping: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.hasClass(className.looping); 
          }, 
          occuring: </span><span class="s2">function</span><span class="s0">(animation) { 
            animation = animation || settings.animation; 
            animation = animation.replace(</span><span class="s3">' '</span><span class="s0">, </span><span class="s3">'.'</span><span class="s0">); 
            </span><span class="s2">return </span><span class="s0">( $module.filter(animation).size() &gt; </span><span class="s4">0 </span><span class="s0">); 
          }, 
          visible: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.is(</span><span class="s3">':visible'</span><span class="s0">); 
          }, 
          hidden: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">$module.css(</span><span class="s3">'visibility'</span><span class="s0">) === </span><span class="s3">'hidden'</span><span class="s0">; 
          }, 
          supported: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return</span><span class="s0">(animationName !== </span><span class="s2">false </span><span class="s0">&amp;&amp; animationEnd !== </span><span class="s2">false</span><span class="s0">); 
          } 
        }, 
 
        hide: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Hiding element'</span><span class="s0">); 
          </span><span class="s2">if</span><span class="s0">( module.is.animating() ) { 
            module.reset(); 
          } 
          module.remove.display(); 
          module.remove.visible(); 
          module.set.hidden(); 
          module.repaint(); 
        }, 
 
        show: </span><span class="s2">function</span><span class="s0">(display) { 
          module.verbose(</span><span class="s3">'Showing element'</span><span class="s0">, display); 
          module.remove.hidden(); 
          module.set.visible(); 
          module.repaint(); 
        }, 
 
        start: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Starting animation'</span><span class="s0">); 
          $module.removeClass(className.disabled); 
        }, 
 
        stop: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Stopping animation'</span><span class="s0">); 
          $module.addClass(className.disabled); 
        }, 
 
        toggle: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Toggling play status'</span><span class="s0">); 
          $module.toggleClass(className.disabled); 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing setting'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">600</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">($allModules.size() &gt; </span><span class="s4">1</span><span class="s0">) { 
              title += </span><span class="s3">' ' </span><span class="s0">+ </span><span class="s3">'(' </span><span class="s0">+ $allModules.size() + </span><span class="s3">')'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        </span><span class="s1">// modified for transition to return invoke success</span><span class="s0"> 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">(found !== undefined) 
            ? found 
            : </span><span class="s2">false</span><span class="s0"> 
          ; 
        } 
      }; 
      module.initialize(); 
    }) 
  ; 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
</span><span class="s1">// Records if CSS transition is available</span><span class="s0"> 
$.fn.transition.exists = {}; 
 
$.fn.transition.settings = { 
 
  </span><span class="s1">// module info</span><span class="s0"> 
  name         : </span><span class="s3">'Transition'</span><span class="s0">, 
 
  </span><span class="s1">// debug content outputted to console</span><span class="s0"> 
  debug        : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// verbose debug output</span><span class="s0"> 
  verbose      : </span><span class="s2">true</span><span class="s0">, 
 
  </span><span class="s1">// performance data output</span><span class="s0"> 
  performance  : </span><span class="s2">true</span><span class="s0">, 
 
  </span><span class="s1">// event namespace</span><span class="s0"> 
  namespace    : </span><span class="s3">'transition'</span><span class="s0">, 
 
  </span><span class="s1">// animation complete event</span><span class="s0"> 
  onStart      : </span><span class="s2">function</span><span class="s0">() {}, 
  onComplete   : </span><span class="s2">function</span><span class="s0">() {}, 
  onShow       : </span><span class="s2">function</span><span class="s0">() {}, 
  onHide       : </span><span class="s2">function</span><span class="s0">() {}, 
 
  </span><span class="s1">// whether timeout should be used to ensure callback fires in cases animationend does not</span><span class="s0"> 
  useFailSafe  : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// whether EXACT animation can occur twice in a row</span><span class="s0"> 
  allowRepeats : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// Override final display type on visible</span><span class="s0"> 
  displayType  : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// animation duration</span><span class="s0"> 
  animation    : </span><span class="s3">'fade'</span><span class="s0">, 
  duration     : </span><span class="s3">'500ms'</span><span class="s0">, 
 
  </span><span class="s1">// new animations will occur after previous ones</span><span class="s0"> 
  queue       : </span><span class="s2">true</span><span class="s0">, 
 
  metadata : { 
    displayType: </span><span class="s3">'display'</span><span class="s0"> 
  }, 
 
  className   : { 
    animating  : </span><span class="s3">'animating'</span><span class="s0">, 
    disabled   : </span><span class="s3">'disabled'</span><span class="s0">, 
    hidden     : </span><span class="s3">'hidden'</span><span class="s0">, 
    inward     : </span><span class="s3">'in'</span><span class="s0">, 
    loading    : </span><span class="s3">'loading'</span><span class="s0">, 
    looping    : </span><span class="s3">'looping'</span><span class="s0">, 
    outward    : </span><span class="s3">'out'</span><span class="s0">, 
    transition : </span><span class="s3">'transition'</span><span class="s0">, 
    visible    : </span><span class="s3">'visible'</span><span class="s0"> 
  }, 
 
  </span><span class="s1">// possible errors</span><span class="s0"> 
  error: { 
    noAnimation : </span><span class="s3">'There is no css animation matching the one you specified.'</span><span class="s0">, 
    repeated    : </span><span class="s3">'That animation is already occurring, cancelling repeated animation'</span><span class="s0">, 
    method      : </span><span class="s3">'The method you called is not defined'</span><span class="s0">, 
    support     : </span><span class="s3">'This browser does not support CSS animations'</span><span class="s0"> 
  } 
 
}; 
 
 
})( jQuery, window , document ); 
 
 </span><span class="s1">/* 
 * # Semantic - Video 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributors 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">($, window, document, undefined) { 
 
</span><span class="s3">&quot;use strict&quot;</span><span class="s0">; 
 
$.fn.video = </span><span class="s2">function</span><span class="s0">(parameters) { 
 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules     = $(</span><span class="s2">this</span><span class="s0">), 
 
    moduleSelector  = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
    time            = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance     = [], 
 
    query           = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked   = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments  = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
 
    requestAnimationFrame = window.requestAnimationFrame 
      || window.mozRequestAnimationFrame 
      || window.webkitRequestAnimationFrame 
      || window.msRequestAnimationFrame 
      || </span><span class="s2">function</span><span class="s0">(callback) { setTimeout(callback, </span><span class="s4">0</span><span class="s0">); }, 
 
    returnedValue 
  ; 
 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings        = ( $.isPlainObject(parameters) ) 
          ? $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.video.settings, parameters) 
          : $.extend({}, $.fn.video.settings), 
 
        selector        = settings.selector, 
        className       = settings.className, 
        error           = settings.error, 
        metadata        = settings.metadata, 
        namespace       = settings.namespace, 
        templates       = settings.templates, 
 
        eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace = </span><span class="s3">'module-' </span><span class="s0">+ namespace, 
 
        $window         = $(window), 
        $module         = $(</span><span class="s2">this</span><span class="s0">), 
        $placeholder    = $module.find(selector.placeholder), 
        $playButton     = $module.find(selector.playButton), 
        $embed          = $module.find(selector.embed), 
 
        element         = </span><span class="s2">this</span><span class="s0">, 
        instance        = $module.data(moduleNamespace), 
        module 
      ; 
 
      module = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Initializing video'</span><span class="s0">); 
          module.create(); 
          $placeholder 
            .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, module.play) 
          ; 
          $playButton 
            .on(</span><span class="s3">'click' </span><span class="s0">+ eventNamespace, module.play) 
          ; 
          module.instantiate(); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of module'</span><span class="s0">, module); 
          instance = module; 
          $module 
            .data(moduleNamespace, module) 
          ; 
        }, 
 
        create: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">var</span><span class="s0"> 
            image = $module.data(metadata.image), 
            html = templates.video(image) 
          ; 
          $module.html(html); 
          module.refresh(); 
          </span><span class="s2">if</span><span class="s0">(!image) { 
            module.play(); 
          } 
          module.debug(</span><span class="s3">'Creating html for video element'</span><span class="s0">, html); 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying previous instance of video'</span><span class="s0">); 
          module.reset(); 
          $module 
            .removeData(moduleNamespace) 
            .off(eventNamespace) 
          ; 
          $placeholder 
            .off(eventNamespace) 
          ; 
          $playButton 
            .off(eventNamespace) 
          ; 
        }, 
 
        refresh: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Refreshing selector cache'</span><span class="s0">); 
          $placeholder    = $module.find(selector.placeholder); 
          $playButton     = $module.find(selector.playButton); 
          $embed          = $module.find(selector.embed); 
        }, 
 
        </span><span class="s1">// sets new video</span><span class="s0"> 
        change: </span><span class="s2">function</span><span class="s0">(source, id, url) { 
          module.debug(</span><span class="s3">'Changing video to '</span><span class="s0">, source, id, url); 
          $module 
            .data(metadata.source, source) 
            .data(metadata.id, id) 
            .data(metadata.url, url) 
          ; 
          settings.onChange(); 
        }, 
 
        </span><span class="s1">// clears video embed</span><span class="s0"> 
        reset: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Clearing video embed and showing placeholder'</span><span class="s0">); 
          $module 
            .removeClass(className.active) 
          ; 
          $embed 
            .html(</span><span class="s3">' '</span><span class="s0">) 
          ; 
          $placeholder 
            .show() 
          ; 
          settings.onReset(); 
        }, 
 
        </span><span class="s1">// plays current video</span><span class="s0"> 
        play: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Playing video'</span><span class="s0">); 
          </span><span class="s2">var</span><span class="s0"> 
            source = $module.data(metadata.source) || </span><span class="s2">false</span><span class="s0">, 
            url    = $module.data(metadata.url)    || </span><span class="s2">false</span><span class="s0">, 
            id     = $module.data(metadata.id)     || </span><span class="s2">false</span><span class="s0"> 
          ; 
          $embed 
            .html( module.generate.html(source, id, url) ) 
          ; 
          $module 
            .addClass(className.active) 
          ; 
          settings.onPlay(); 
        }, 
 
        </span><span class="s2">get</span><span class="s0">: { 
          source: </span><span class="s2">function</span><span class="s0">(url) { 
            </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">url !== </span><span class="s3">'string'</span><span class="s0">) { 
              </span><span class="s2">return false</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">(url.search(</span><span class="s3">'youtube.com'</span><span class="s0">) !== -</span><span class="s4">1</span><span class="s0">) { 
              </span><span class="s2">return </span><span class="s3">'youtube'</span><span class="s0">; 
            } 
            </span><span class="s2">else if</span><span class="s0">(url.search(</span><span class="s3">'vimeo.com'</span><span class="s0">) !== -</span><span class="s4">1</span><span class="s0">) { 
              </span><span class="s2">return </span><span class="s3">'vimeo'</span><span class="s0">; 
            } 
            </span><span class="s2">return false</span><span class="s0">; 
          }, 
          id: </span><span class="s2">function</span><span class="s0">(url) { 
            </span><span class="s2">if</span><span class="s0">(settings.regExp.youtube.test(url)) { 
              </span><span class="s2">return </span><span class="s0">url.match(settings.regExp.youtube)[</span><span class="s4">1</span><span class="s0">]; 
            } 
            </span><span class="s2">else if</span><span class="s0">(settings.regExp.vimeo.test(url)) { 
              </span><span class="s2">return </span><span class="s0">url.match(settings.regExp.vimeo)[</span><span class="s4">2</span><span class="s0">]; 
            } 
            </span><span class="s2">return false</span><span class="s0">; 
          } 
        }, 
 
        generate: { 
          </span><span class="s1">// generates iframe html</span><span class="s0"> 
          html: </span><span class="s2">function</span><span class="s0">(source, id, url) { 
            module.debug(</span><span class="s3">'Generating embed html'</span><span class="s0">); 
            </span><span class="s2">var</span><span class="s0"> 
              html 
            ; 
            </span><span class="s1">// allow override of settings</span><span class="s0"> 
            source = source || settings.source; 
            id     = id     || settings.id; 
            </span><span class="s2">if</span><span class="s0">((source &amp;&amp; id) || url) { 
              </span><span class="s2">if</span><span class="s0">(!source || !id) { 
                source = module.get.source(url); 
                id     = module.get.id(url); 
              } 
              </span><span class="s2">if</span><span class="s0">(source == </span><span class="s3">'vimeo'</span><span class="s0">) { 
                html = </span><span class="s3">''</span><span class="s0"> 
                  + </span><span class="s3">'&lt;iframe src=&quot;http://player.vimeo.com/video/' </span><span class="s0">+ id + </span><span class="s3">'?=' </span><span class="s0">+ module.generate.url(source) + </span><span class="s3">'&quot;'</span><span class="s0"> 
                  + </span><span class="s3">' width=&quot;100%&quot; height=&quot;100%&quot;'</span><span class="s0"> 
                  + </span><span class="s3">' frameborder=&quot;0&quot; webkitAllowFullScreen mozallowfullscreen allowFullScreen&gt;&lt;/iframe&gt;'</span><span class="s0"> 
                ; 
              } 
              </span><span class="s2">else if</span><span class="s0">(source == </span><span class="s3">'youtube'</span><span class="s0">) { 
                html = </span><span class="s3">''</span><span class="s0"> 
                  + </span><span class="s3">'&lt;iframe src=&quot;http://www.youtube.com/embed/' </span><span class="s0">+ id + </span><span class="s3">'?=' </span><span class="s0">+ module.generate.url(source) + </span><span class="s3">'&quot;'</span><span class="s0"> 
                  + </span><span class="s3">' width=&quot;100%&quot; height=&quot;100%&quot;'</span><span class="s0"> 
                  + </span><span class="s3">' frameborder=&quot;0&quot; webkitAllowFullScreen mozallowfullscreen allowFullScreen&gt;&lt;/iframe&gt;'</span><span class="s0"> 
                ; 
              } 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.error(error.noVideo); 
            } 
            </span><span class="s2">return </span><span class="s0">html; 
          }, 
 
          </span><span class="s1">// generate url parameters</span><span class="s0"> 
          url: </span><span class="s2">function</span><span class="s0">(source) { 
            </span><span class="s2">var</span><span class="s0"> 
              api      = (settings.api) 
                ? </span><span class="s4">1</span><span class="s0"> 
                : </span><span class="s4">0</span><span class="s0">, 
              autoplay = (settings.autoplay === </span><span class="s3">'auto'</span><span class="s0">) 
                ? ($module.data(</span><span class="s3">'image'</span><span class="s0">) !== undefined) 
                : settings.autoplay, 
              hd       = (settings.hd) 
                ? </span><span class="s4">1</span><span class="s0"> 
                : </span><span class="s4">0</span><span class="s0">, 
              showUI   = (settings.showUI) 
                ? </span><span class="s4">1</span><span class="s0"> 
                : </span><span class="s4">0</span><span class="s0">, 
              </span><span class="s1">// opposite used for some params</span><span class="s0"> 
              hideUI   = !(settings.showUI) 
                ? </span><span class="s4">1</span><span class="s0"> 
                : </span><span class="s4">0</span><span class="s0">, 
              url = </span><span class="s3">''</span><span class="s0"> 
            ; 
            </span><span class="s2">if</span><span class="s0">(source == </span><span class="s3">'vimeo'</span><span class="s0">) { 
              url = </span><span class="s3">''</span><span class="s0"> 
                +      </span><span class="s3">'api='      </span><span class="s0">+ api 
                + </span><span class="s3">'&amp;amp;title='    </span><span class="s0">+ showUI 
                + </span><span class="s3">'&amp;amp;byline='   </span><span class="s0">+ showUI 
                + </span><span class="s3">'&amp;amp;portrait=' </span><span class="s0">+ showUI 
                + </span><span class="s3">'&amp;amp;autoplay=' </span><span class="s0">+ autoplay 
              ; 
              </span><span class="s2">if</span><span class="s0">(settings.color) { 
                url += </span><span class="s3">'&amp;amp;color=' </span><span class="s0">+ settings.color; 
              } 
            } 
            </span><span class="s2">if</span><span class="s0">(source == </span><span class="s3">'ustream'</span><span class="s0">) { 
              url = </span><span class="s3">''</span><span class="s0"> 
                + </span><span class="s3">'autoplay=' </span><span class="s0">+ autoplay 
              ; 
              </span><span class="s2">if</span><span class="s0">(settings.color) { 
                url += </span><span class="s3">'&amp;amp;color=' </span><span class="s0">+ settings.color; 
              } 
            } 
            </span><span class="s2">else if</span><span class="s0">(source == </span><span class="s3">'youtube'</span><span class="s0">) { 
              url = </span><span class="s3">''</span><span class="s0"> 
                + </span><span class="s3">'enablejsapi='      </span><span class="s0">+ api 
                + </span><span class="s3">'&amp;amp;autoplay='    </span><span class="s0">+ autoplay 
                + </span><span class="s3">'&amp;amp;autohide='    </span><span class="s0">+ hideUI 
                + </span><span class="s3">'&amp;amp;hq='          </span><span class="s0">+ hd 
                + </span><span class="s3">'&amp;amp;modestbranding=1'</span><span class="s0"> 
              ; 
              </span><span class="s2">if</span><span class="s0">(settings.color) { 
                url += </span><span class="s3">'&amp;amp;color=' </span><span class="s0">+ settings.color; 
              } 
            } 
            </span><span class="s2">return </span><span class="s0">url; 
          } 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing setting'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">($allModules.size() &gt; </span><span class="s4">1</span><span class="s0">) { 
              title += </span><span class="s3">' ' </span><span class="s0">+ </span><span class="s3">'(' </span><span class="s0">+ $allModules.size() + </span><span class="s3">')'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
    }) 
  ; 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.video.settings = { 
 
  name        : </span><span class="s3">'Video'</span><span class="s0">, 
  namespace   : </span><span class="s3">'video'</span><span class="s0">, 
 
  debug       : </span><span class="s2">false</span><span class="s0">, 
  verbose     : </span><span class="s2">true</span><span class="s0">, 
  performance : </span><span class="s2">true</span><span class="s0">, 
 
  metadata    : { 
    id     : </span><span class="s3">'id'</span><span class="s0">, 
    image  : </span><span class="s3">'image'</span><span class="s0">, 
    source : </span><span class="s3">'source'</span><span class="s0">, 
    url    : </span><span class="s3">'url'</span><span class="s0"> 
  }, 
 
  source      : </span><span class="s2">false</span><span class="s0">, 
  url         : </span><span class="s2">false</span><span class="s0">, 
  id          : </span><span class="s2">false</span><span class="s0">, 
 
  aspectRatio : (</span><span class="s4">16</span><span class="s0">/</span><span class="s4">9</span><span class="s0">), 
 
  onPlay   : </span><span class="s2">function</span><span class="s0">(){}, 
  onReset  : </span><span class="s2">function</span><span class="s0">(){}, 
  onChange : </span><span class="s2">function</span><span class="s0">(){}, 
 
  </span><span class="s1">// callbacks not coded yet (needs to use jsapi)</span><span class="s0"> 
  onPause  : </span><span class="s2">function</span><span class="s0">() {}, 
  onStop   : </span><span class="s2">function</span><span class="s0">() {}, 
 
  width    : </span><span class="s3">'auto'</span><span class="s0">, 
  height   : </span><span class="s3">'auto'</span><span class="s0">, 
 
  autoplay : </span><span class="s3">'auto'</span><span class="s0">, 
  color    : </span><span class="s3">'#442359'</span><span class="s0">, 
  hd       : </span><span class="s2">true</span><span class="s0">, 
  showUI   : </span><span class="s2">false</span><span class="s0">, 
  api      : </span><span class="s2">true</span><span class="s0">, 
 
  regExp : { 
    youtube : </span><span class="s4">/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&amp;v=))((\w|-){11})(?:\S+)?$/</span><span class="s0">, 
    vimeo   : </span><span class="s4">/http:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/</span><span class="s0"> 
  }, 
 
  error      : { 
    noVideo     : </span><span class="s3">'No video specified'</span><span class="s0">, 
    method      : </span><span class="s3">'The method you called is not defined'</span><span class="s0"> 
  }, 
 
  className   : { 
    active      : </span><span class="s3">'active'</span><span class="s0"> 
  }, 
 
  selector    : { 
    embed       : </span><span class="s3">'.embed'</span><span class="s0">, 
    placeholder : </span><span class="s3">'.placeholder'</span><span class="s0">, 
    playButton  : </span><span class="s3">'.play'</span><span class="s0"> 
  } 
}; 
 
$.fn.video.settings.templates = { 
  video: </span><span class="s2">function</span><span class="s0">(image) { 
    </span><span class="s2">var</span><span class="s0"> 
      html = </span><span class="s3">''</span><span class="s0"> 
    ; 
    </span><span class="s2">if</span><span class="s0">(image) { 
      html += </span><span class="s3">''</span><span class="s0"> 
        + </span><span class="s3">'&lt;i class=&quot;video play icon&quot;&gt;&lt;/i&gt;'</span><span class="s0"> 
        + </span><span class="s3">'&lt;img class=&quot;placeholder&quot; src=&quot;' </span><span class="s0">+ image + </span><span class="s3">'&quot;&gt;'</span><span class="s0"> 
      ; 
    } 
    html += </span><span class="s3">'&lt;div class=&quot;embed&quot;&gt;&lt;/div&gt;'</span><span class="s0">; 
    </span><span class="s2">return </span><span class="s0">html; 
  } 
}; 
 
 
})( jQuery, window , document ); 
 
</span><span class="s1">/* 
 * # Semantic - Visibility 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">( $, window, document, undefined ) { 
 
$.fn.visibility = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules    = $(</span><span class="s2">this</span><span class="s0">), 
    moduleSelector = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
    time           = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance    = [], 
 
    query          = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked  = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
    returnedValue 
  ; 
 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings        = $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.visibility.settings, parameters), 
 
        className       = settings.className, 
        namespace       = settings.namespace, 
        error           = settings.error, 
 
        eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace = </span><span class="s3">'module-' </span><span class="s0">+ namespace, 
 
        $window         = $(window), 
        $module         = $(</span><span class="s2">this</span><span class="s0">), 
        $context        = $(settings.context), 
        $container      = $module.offsetParent(), 
 
        selector        = $module.selector || </span><span class="s3">''</span><span class="s0">, 
        instance        = $module.data(moduleNamespace), 
 
        requestAnimationFrame = window.requestAnimationFrame 
          || window.mozRequestAnimationFrame 
          || window.webkitRequestAnimationFrame 
          || window.msRequestAnimationFrame 
          || </span><span class="s2">function</span><span class="s0">(callback) { setTimeout(callback, </span><span class="s4">0</span><span class="s0">); }, 
 
        element         = </span><span class="s2">this</span><span class="s0">, 
        module 
      ; 
 
      module      = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Initializing visibility'</span><span class="s0">, settings); 
 
          module.setup.cache(); 
          module.save.position(); 
          module.bindEvents(); 
          module.instantiate(); 
 
          </span><span class="s2">if</span><span class="s0">(settings.type == </span><span class="s3">'image'</span><span class="s0">) { 
            module.setup.image(); 
          } 
          </span><span class="s2">if</span><span class="s0">(settings.type == </span><span class="s3">'fixed'</span><span class="s0">) { 
            module.setup.fixed(); 
          } 
 
          requestAnimationFrame(module.checkVisibility); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of module'</span><span class="s0">, module); 
          instance = module; 
          $module 
            .data(moduleNamespace, module) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying previous module'</span><span class="s0">); 
          $module 
            .off(eventNamespace) 
            .removeData(moduleNamespace) 
          ; 
        }, 
 
        bindEvents: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Binding visibility events to scroll and resize'</span><span class="s0">); 
          $window 
            .on(</span><span class="s3">'resize' </span><span class="s0">+ eventNamespace, module.event.refresh) 
          ; 
          $context 
            .on(</span><span class="s3">'scroll' </span><span class="s0">+ eventNamespace, module.event.scroll) 
          ; 
        }, 
 
        event: { 
          refresh: </span><span class="s2">function</span><span class="s0">() { 
            requestAnimationFrame(module.refresh); 
          }, 
          scroll: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Scroll position changed'</span><span class="s0">); 
            </span><span class="s2">if</span><span class="s0">(settings.throttle) { 
              clearTimeout(module.timer); 
              module.timer = setTimeout(module.checkVisibility, settings.throttle); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              requestAnimationFrame(module.checkVisibility); 
            } 
          } 
        }, 
 
        precache: </span><span class="s2">function</span><span class="s0">(images, callback) { 
          </span><span class="s2">if </span><span class="s0">(!(images </span><span class="s2">instanceof </span><span class="s0">Array)) { 
            images = [images]; 
          } 
          </span><span class="s2">var</span><span class="s0"> 
            imagesLength  = images.length, 
            loadedCounter = </span><span class="s4">0</span><span class="s0">, 
            cache         = [], 
            cacheImage    = document.createElement(</span><span class="s3">'img'</span><span class="s0">), 
            handleLoad    = </span><span class="s2">function</span><span class="s0">() { 
              loadedCounter++; 
              </span><span class="s2">if </span><span class="s0">(loadedCounter &gt;= images.length) { 
                </span><span class="s2">if </span><span class="s0">($.isFunction(callback)) { 
                  callback(); 
                } 
              } 
            } 
          ; 
          </span><span class="s2">while </span><span class="s0">(imagesLength--) { 
            cacheImage         = document.createElement(</span><span class="s3">'img'</span><span class="s0">); 
            cacheImage.onload  = handleLoad; 
            cacheImage.onerror = handleLoad; 
            cacheImage.src     = images[imagesLength]; 
            cache.push(cacheImage); 
          } 
        }, 
 
        setup: { 
          cache: </span><span class="s2">function</span><span class="s0">() { 
            module.cache = { 
              occurred : {}, 
              screen   : {}, 
              element  : {}, 
            }; 
          }, 
          image: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              src = $module.data(</span><span class="s3">'src'</span><span class="s0">) 
            ; 
            </span><span class="s2">if</span><span class="s0">(src) { 
              module.verbose(</span><span class="s3">'Lazy loading image'</span><span class="s0">, src); 
              </span><span class="s1">// show when top visible</span><span class="s0"> 
              module.topVisible(</span><span class="s2">function</span><span class="s0">() { 
                module.precache(src, </span><span class="s2">function</span><span class="s0">() { 
                  module.set.image(src); 
                  settings.onTopVisible = </span><span class="s2">false</span><span class="s0">; 
                }); 
              }); 
            } 
          }, 
          fixed: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Setting up fixed on element pass'</span><span class="s0">); 
            $module 
              .visibility({ 
                once: </span><span class="s2">false</span><span class="s0">, 
                continuous: </span><span class="s2">false</span><span class="s0">, 
                onTopPassed: </span><span class="s2">function</span><span class="s0">() { 
                  $module 
                    .addClass(className.fixed) 
                    .css({ 
                      position: </span><span class="s3">'fixed'</span><span class="s0">, 
                      top: settings.offset + </span><span class="s3">'px'</span><span class="s0"> 
                    }) 
                  ; 
                  </span><span class="s2">if</span><span class="s0">(settings.animation &amp;&amp; $.fn.transition !== undefined) { 
                    $module.transition(settings.transition, settings.duration); 
                  } 
                }, 
                onTopPassedReverse: </span><span class="s2">function</span><span class="s0">() { 
                  $module 
                    .removeClass(className.fixed) 
                    .css({ 
                      position: </span><span class="s3">''</span><span class="s0">, 
                      top: </span><span class="s3">''</span><span class="s0"> 
                    }) 
                  ; 
                } 
              }) 
            ; 
          } 
        }, 
 
        </span><span class="s2">set</span><span class="s0">: { 
          image: </span><span class="s2">function</span><span class="s0">(src) { 
            </span><span class="s2">var</span><span class="s0"> 
              offScreen = (module.cache.screen.bottom &lt; module.cache.element.top) 
            ; 
            $module 
              .attr(</span><span class="s3">'src'</span><span class="s0">, src) 
            ; 
            </span><span class="s2">if</span><span class="s0">(offScreen) { 
              module.verbose(</span><span class="s3">'Image outside browser, avoiding animation'</span><span class="s0">) 
              $module.show(); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              </span><span class="s2">if</span><span class="s0">(settings.transition &amp;&amp; $.fn.transition !== undefined) { 
                $module.transition(settings.transition, settings.duration); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $module.fadeIn(settings.duration); 
              } 
            } 
          } 
        }, 
 
        refresh: </span><span class="s2">function</span><span class="s0">() { 
          module.debug(</span><span class="s3">'Refreshing constants (element width/height)'</span><span class="s0">); 
          module.reset(); 
          module.save.position(); 
          module.checkVisibility(); 
          $.proxy(settings.onRefresh, element)(); 
        }, 
 
        reset: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Reseting all cached values'</span><span class="s0">); 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(module.cache) ) { 
            module.cache.screen = {}; 
            module.cache.element = {}; 
          } 
        }, 
 
        checkVisibility: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Checking visibility of element'</span><span class="s0">, module.cache.element); 
          module.save.scroll(); 
          module.save.direction(); 
          module.save.screenCalculations(); 
          module.save.elementCalculations(); 
 
          </span><span class="s1">// percentage</span><span class="s0"> 
          module.passed(); 
 
          </span><span class="s1">// reverse (must be first)</span><span class="s0"> 
          module.passingReverse(); 
          module.topVisibleReverse(); 
          module.bottomVisibleReverse(); 
          module.topPassedReverse(); 
          module.bottomPassedReverse(); 
 
          </span><span class="s1">// one time</span><span class="s0"> 
          module.passing(); 
          module.topVisible(); 
          module.bottomVisible(); 
          module.topPassed(); 
          module.bottomPassed(); 
        }, 
 
        passed: </span><span class="s2">function</span><span class="s0">(amount, newCallback) { 
          </span><span class="s2">var</span><span class="s0"> 
            calculations   = module.get.elementCalculations(), 
            amountInPixels 
          ; 
          </span><span class="s1">// assign callback</span><span class="s0"> 
          </span><span class="s2">if</span><span class="s0">(amount !== undefined &amp;&amp; newCallback !== undefined) { 
            settings.onPassed[amount] = newCallback; 
          } 
          </span><span class="s2">else if</span><span class="s0">(amount !== undefined) { 
            </span><span class="s2">return </span><span class="s0">(module.get.pixelsPassed(amount) &gt; calculations.pixelsPassed); 
          } 
          </span><span class="s2">else if</span><span class="s0">(calculations.passing) { 
            $.each(settings.onPassed, </span><span class="s2">function</span><span class="s0">(amount, callback) { 
              </span><span class="s2">if</span><span class="s0">(calculations.bottomVisible || calculations.pixelsPassed &gt; module.get.pixelsPassed(amount)) { 
                module.execute(callback, amount); 
              } 
              </span><span class="s2">else if</span><span class="s0">(!settings.once) { 
                module.remove.occurred(callback); 
              } 
            }); 
          } 
        }, 
 
        passing: </span><span class="s2">function</span><span class="s0">(newCallback) { 
          </span><span class="s2">var</span><span class="s0"> 
            calculations = module.get.elementCalculations(), 
            callback     = newCallback || settings.onPassing, 
            callbackName = </span><span class="s3">'passing'</span><span class="s0"> 
          ; 
          </span><span class="s2">if</span><span class="s0">(newCallback) { 
            module.debug(</span><span class="s3">'Adding callback for passing'</span><span class="s0">, newCallback); 
            settings.onPassing = newCallback; 
          } 
          </span><span class="s2">if</span><span class="s0">(calculations.passing) { 
            module.execute(callback, callbackName); 
          } 
          </span><span class="s2">else if</span><span class="s0">(!settings.once) { 
            module.remove.occurred(callbackName); 
          } 
          </span><span class="s2">if</span><span class="s0">(newCallback !== undefined) { 
            </span><span class="s2">return </span><span class="s0">calculations.passing; 
          } 
        }, 
 
 
        topVisible: </span><span class="s2">function</span><span class="s0">(newCallback) { 
          </span><span class="s2">var</span><span class="s0"> 
            calculations = module.get.elementCalculations(), 
            callback     = newCallback || settings.onTopVisible, 
            callbackName = </span><span class="s3">'topVisible'</span><span class="s0"> 
          ; 
          </span><span class="s2">if</span><span class="s0">(newCallback) { 
            module.debug(</span><span class="s3">'Adding callback for top visible'</span><span class="s0">, newCallback); 
            settings.onTopVisible = newCallback; 
          } 
          </span><span class="s2">if</span><span class="s0">(calculations.topVisible) { 
            module.execute(callback, callbackName); 
          } 
          </span><span class="s2">else if</span><span class="s0">(!settings.once) { 
            module.remove.occurred(callbackName); 
          } 
          </span><span class="s2">if</span><span class="s0">(newCallback === undefined) { 
            </span><span class="s2">return </span><span class="s0">calculations.topVisible; 
          } 
        }, 
 
        bottomVisible: </span><span class="s2">function</span><span class="s0">(newCallback) { 
          </span><span class="s2">var</span><span class="s0"> 
            calculations = module.get.elementCalculations(), 
            callback     = newCallback || settings.onBottomVisible, 
            callbackName = </span><span class="s3">'bottomVisible'</span><span class="s0"> 
          ; 
          </span><span class="s2">if</span><span class="s0">(newCallback) { 
            module.debug(</span><span class="s3">'Adding callback for bottom visible'</span><span class="s0">, newCallback); 
            settings.onBottomVisible = newCallback; 
          } 
          </span><span class="s2">if</span><span class="s0">(calculations.bottomVisible) { 
            module.execute(callback, callbackName); 
          } 
          </span><span class="s2">else if</span><span class="s0">(!settings.once) { 
            module.remove.occurred(callbackName); 
          } 
          </span><span class="s2">if</span><span class="s0">(newCallback === undefined) { 
            </span><span class="s2">return </span><span class="s0">calculations.bottomVisible; 
          } 
        }, 
 
        topPassed: </span><span class="s2">function</span><span class="s0">(newCallback) { 
          </span><span class="s2">var</span><span class="s0"> 
            calculations = module.get.elementCalculations(), 
            callback     = newCallback || settings.onTopPassed, 
            callbackName = </span><span class="s3">'topPassed'</span><span class="s0"> 
          ; 
          </span><span class="s2">if</span><span class="s0">(newCallback) { 
            module.debug(</span><span class="s3">'Adding callback for top passed'</span><span class="s0">, newCallback); 
            settings.onTopPassed = newCallback; 
          } 
          </span><span class="s2">if</span><span class="s0">(calculations.topPassed) { 
            module.execute(callback, callbackName); 
          } 
          </span><span class="s2">else if</span><span class="s0">(!settings.once) { 
            module.remove.occurred(callbackName); 
          } 
          </span><span class="s2">if</span><span class="s0">(newCallback === undefined) { 
            </span><span class="s2">return </span><span class="s0">calculations.onTopPassed; 
          } 
        }, 
 
        bottomPassed: </span><span class="s2">function</span><span class="s0">(newCallback) { 
          </span><span class="s2">var</span><span class="s0"> 
            calculations = module.get.elementCalculations(), 
            callback     = newCallback || settings.onBottomPassed, 
            callbackName = </span><span class="s3">'bottomPassed'</span><span class="s0"> 
          ; 
          </span><span class="s2">if</span><span class="s0">(newCallback) { 
            module.debug(</span><span class="s3">'Adding callback for bottom passed'</span><span class="s0">, newCallback); 
            settings.onBottomPassed = newCallback; 
          } 
          </span><span class="s2">if</span><span class="s0">(calculations.bottomPassed) { 
            module.execute(callback, callbackName); 
          } 
          </span><span class="s2">else if</span><span class="s0">(!settings.once) { 
            module.remove.occurred(callbackName); 
          } 
          </span><span class="s2">if</span><span class="s0">(newCallback === undefined) { 
            </span><span class="s2">return </span><span class="s0">calculations.bottomPassed; 
          } 
        }, 
 
        passingReverse: </span><span class="s2">function</span><span class="s0">(newCallback) { 
          </span><span class="s2">var</span><span class="s0"> 
            calculations = module.get.elementCalculations(), 
            callback     = newCallback || settings.onPassingReverse, 
            callbackName = </span><span class="s3">'passingReverse'</span><span class="s0"> 
          ; 
          </span><span class="s2">if</span><span class="s0">(newCallback) { 
            module.debug(</span><span class="s3">'Adding callback for passing reverse'</span><span class="s0">, newCallback); 
            settings.onPassingReverse = newCallback; 
          } 
          </span><span class="s2">if</span><span class="s0">(!calculations.passing) { 
            </span><span class="s2">if</span><span class="s0">(module.get.occurred(</span><span class="s3">'passing'</span><span class="s0">)) { 
              module.execute(callback, callbackName); 
            } 
          } 
          </span><span class="s2">else if</span><span class="s0">(!settings.once) { 
            module.remove.occurred(callbackName); 
          } 
          </span><span class="s2">if</span><span class="s0">(newCallback !== undefined) { 
            </span><span class="s2">return </span><span class="s0">!calculations.passing; 
          } 
        }, 
 
 
        topVisibleReverse: </span><span class="s2">function</span><span class="s0">(newCallback) { 
          </span><span class="s2">var</span><span class="s0"> 
            calculations = module.get.elementCalculations(), 
            callback     = newCallback || settings.onTopVisibleReverse, 
            callbackName = </span><span class="s3">'topVisibleReverse'</span><span class="s0"> 
          ; 
          </span><span class="s2">if</span><span class="s0">(newCallback) { 
            module.debug(</span><span class="s3">'Adding callback for top visible reverse'</span><span class="s0">, newCallback); 
            settings.onTopVisibleReverse = newCallback; 
          } 
          </span><span class="s2">if</span><span class="s0">(!calculations.topVisible) { 
            </span><span class="s2">if</span><span class="s0">(module.get.occurred(</span><span class="s3">'topVisible'</span><span class="s0">)) { 
              module.execute(callback, callbackName); 
            } 
          } 
          </span><span class="s2">else if</span><span class="s0">(!settings.once) { 
            module.remove.occurred(callbackName); 
          } 
          </span><span class="s2">if</span><span class="s0">(newCallback === undefined) { 
            </span><span class="s2">return </span><span class="s0">!calculations.topVisible; 
          } 
        }, 
 
        bottomVisibleReverse: </span><span class="s2">function</span><span class="s0">(newCallback) { 
          </span><span class="s2">var</span><span class="s0"> 
            calculations = module.get.elementCalculations(), 
            callback     = newCallback || settings.onBottomVisibleReverse, 
            callbackName = </span><span class="s3">'bottomVisibleReverse'</span><span class="s0"> 
          ; 
          </span><span class="s2">if</span><span class="s0">(newCallback) { 
            module.debug(</span><span class="s3">'Adding callback for bottom visible reverse'</span><span class="s0">, newCallback); 
            settings.onBottomVisibleReverse = newCallback; 
          } 
          </span><span class="s2">if</span><span class="s0">(!calculations.bottomVisible) { 
            </span><span class="s2">if</span><span class="s0">(module.get.occurred(</span><span class="s3">'bottomVisible'</span><span class="s0">)) { 
              module.execute(callback, callbackName); 
            } 
          } 
          </span><span class="s2">else if</span><span class="s0">(!settings.once) { 
            module.remove.occurred(callbackName); 
          } 
          </span><span class="s2">if</span><span class="s0">(newCallback === undefined) { 
            </span><span class="s2">return </span><span class="s0">!calculations.bottomVisible; 
          } 
        }, 
 
        topPassedReverse: </span><span class="s2">function</span><span class="s0">(newCallback) { 
          </span><span class="s2">var</span><span class="s0"> 
            calculations = module.get.elementCalculations(), 
            callback     = newCallback || settings.onTopPassedReverse, 
            callbackName = </span><span class="s3">'topPassedReverse'</span><span class="s0"> 
          ; 
          </span><span class="s2">if</span><span class="s0">(newCallback) { 
            module.debug(</span><span class="s3">'Adding callback for top passed reverse'</span><span class="s0">, newCallback); 
            settings.onTopPassedReverse = newCallback; 
          } 
          </span><span class="s2">if</span><span class="s0">(!calculations.topPassed) { 
            </span><span class="s2">if</span><span class="s0">(module.get.occurred(</span><span class="s3">'topPassed'</span><span class="s0">)) { 
              module.execute(callback, callbackName); 
            } 
          } 
          </span><span class="s2">else if</span><span class="s0">(!settings.once) { 
            module.remove.occurred(callbackName); 
          } 
          </span><span class="s2">if</span><span class="s0">(newCallback === undefined) { 
            </span><span class="s2">return </span><span class="s0">!calculations.onTopPassed; 
          } 
        }, 
 
        bottomPassedReverse: </span><span class="s2">function</span><span class="s0">(newCallback) { 
          </span><span class="s2">var</span><span class="s0"> 
            calculations = module.get.elementCalculations(), 
            callback     = newCallback || settings.onBottomPassedReverse, 
            callbackName = </span><span class="s3">'bottomPassedReverse'</span><span class="s0"> 
          ; 
          </span><span class="s2">if</span><span class="s0">(newCallback) { 
            module.debug(</span><span class="s3">'Adding callback for bottom passed reverse'</span><span class="s0">, newCallback); 
            settings.onBottomPassedReverse = newCallback; 
          } 
          </span><span class="s2">if</span><span class="s0">(!calculations.bottomPassed) { 
            </span><span class="s2">if</span><span class="s0">(module.get.occurred(</span><span class="s3">'bottomPassed'</span><span class="s0">)) { 
              module.execute(callback, callbackName); 
            } 
          } 
          </span><span class="s2">else if</span><span class="s0">(!settings.once) { 
            module.remove.occurred(callbackName); 
          } 
          </span><span class="s2">if</span><span class="s0">(newCallback === undefined) { 
            </span><span class="s2">return </span><span class="s0">!calculations.bottomPassed; 
          } 
        }, 
 
        execute: </span><span class="s2">function</span><span class="s0">(callback, callbackName) { 
          </span><span class="s2">var</span><span class="s0"> 
            calculations = module.get.elementCalculations(), 
            screen       = module.get.screenCalculations() 
          ; 
          callback     = callback || </span><span class="s2">false</span><span class="s0">; 
          </span><span class="s2">if</span><span class="s0">(callback) { 
            </span><span class="s2">if</span><span class="s0">(settings.continuous) { 
              module.debug(</span><span class="s3">'Callback being called continuously'</span><span class="s0">, callbackName, calculations); 
              $.proxy(callback, element)(calculations, screen); 
            } 
            </span><span class="s2">else if</span><span class="s0">(!module.get.occurred(callbackName)) { 
              module.debug(</span><span class="s3">'Conditions met'</span><span class="s0">, callbackName, calculations); 
              $.proxy(callback, element)(calculations, screen); 
            } 
          } 
          module.save.occurred(callbackName); 
        }, 
 
        remove: { 
          occurred: </span><span class="s2">function</span><span class="s0">(callback) { 
            </span><span class="s2">if</span><span class="s0">(callback) { 
              </span><span class="s2">if</span><span class="s0">(module.cache.occurred[callback] !== undefined &amp;&amp; module.cache.occurred[callback] === </span><span class="s2">true</span><span class="s0">) { 
                module.debug(</span><span class="s3">'Callback can now be called again'</span><span class="s0">, callback); 
                module.cache.occurred[callback] = </span><span class="s2">false</span><span class="s0">; 
              } 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.cache.occurred = {}; 
            } 
          } 
        }, 
 
        save: { 
          occurred: </span><span class="s2">function</span><span class="s0">(callback) { 
            </span><span class="s2">if</span><span class="s0">(callback) { 
              </span><span class="s2">if</span><span class="s0">(module.cache.occurred[callback] === undefined || (module.cache.occurred[callback] !== </span><span class="s2">true</span><span class="s0">)) { 
                module.verbose(</span><span class="s3">'Saving callback occurred'</span><span class="s0">, callback); 
                module.cache.occurred[callback] = </span><span class="s2">true</span><span class="s0">; 
              } 
            } 
          }, 
          scroll: </span><span class="s2">function</span><span class="s0">() { 
            module.cache.scroll = $context.scrollTop() + settings.offset; 
          }, 
          direction: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              scroll     = module.get.scroll(), 
              lastScroll = module.get.lastScroll(), 
              direction 
            ; 
            </span><span class="s2">if</span><span class="s0">(scroll &gt; lastScroll &amp;&amp; lastScroll) { 
              direction = </span><span class="s3">'down'</span><span class="s0">; 
            } 
            </span><span class="s2">else if</span><span class="s0">(scroll &lt; lastScroll &amp;&amp; lastScroll) { 
              direction = </span><span class="s3">'up'</span><span class="s0">; 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              direction = </span><span class="s3">'static'</span><span class="s0">; 
            } 
            module.cache.direction = direction; 
            </span><span class="s2">return </span><span class="s0">module.cache.direction; 
          }, 
          elementPosition: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              screen = module.get.screenSize() 
            ; 
            module.verbose(</span><span class="s3">'Saving element position'</span><span class="s0">); 
            $.extend(module.cache.element, { 
              margin : { 
                top    : parseInt($module.css(</span><span class="s3">'margin-top'</span><span class="s0">), </span><span class="s4">10</span><span class="s0">), 
                bottom : parseInt($module.css(</span><span class="s3">'margin-bottom'</span><span class="s0">), </span><span class="s4">10</span><span class="s0">) 
              }, 
              fits   : (element.height &lt; screen.height), 
              offset : $module.offset(), 
              width  : $module.outerWidth(), 
              height : $module.outerHeight() 
            }); 
            </span><span class="s2">return </span><span class="s0">module.cache.element; 
          }, 
          elementCalculations: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              screen  = module.get.screenCalculations(), 
              element = module.get.elementPosition() 
            ; 
            </span><span class="s1">// offset</span><span class="s0"> 
            </span><span class="s2">if</span><span class="s0">(settings.includeMargin) { 
              $.extend(module.cache.element, { 
                top    : element.offset.top - element.margin.top, 
                bottom : element.offset.top + element.height + element.margin.bottom 
              }); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              $.extend(module.cache.element, { 
                top    : element.offset.top, 
                bottom : element.offset.top + element.height 
              }); 
            } 
            </span><span class="s1">// visibility</span><span class="s0"> 
            $.extend(module.cache.element, { 
              topVisible       : (screen.bottom &gt;= element.top), 
              topPassed        : (screen.top &gt;= element.top), 
              bottomVisible    : (screen.bottom &gt;= element.bottom), 
              bottomPassed     : (screen.top &gt;= element.bottom), 
              pixelsPassed     : </span><span class="s4">0</span><span class="s0">, 
              percentagePassed : </span><span class="s4">0</span><span class="s0"> 
            }); 
            </span><span class="s1">// meta calculations</span><span class="s0"> 
            $.extend(module.cache.element, { 
              visible : (module.cache.element.topVisible || module.cache.element.bottomVisible), 
              passing : (module.cache.element.topPassed &amp;&amp; !module.cache.element.bottomPassed), 
              hidden  : (!module.cache.element.topVisible &amp;&amp; !module.cache.element.bottomVisible) 
            }); 
            </span><span class="s2">if</span><span class="s0">(module.cache.element.passing) { 
              module.cache.element.pixelsPassed = (screen.top - element.top); 
              module.cache.element.percentagePassed = (screen.top - element.top) / element.height; 
            } 
            module.verbose(</span><span class="s3">'Updated element calculations'</span><span class="s0">, module.cache.element); 
          }, 
          screenCalculations: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              scroll = $context.scrollTop() + settings.offset 
            ; 
            </span><span class="s2">if</span><span class="s0">(module.cache.scroll === undefined) { 
              module.cache.scroll = $context.scrollTop() + settings.offset; 
            } 
            module.save.direction(); 
            $.extend(module.cache.screen, { 
              top    : scroll, 
              bottom : scroll + module.cache.screen.height 
            }); 
            </span><span class="s2">return </span><span class="s0">module.cache.screen; 
          }, 
          screenSize: </span><span class="s2">function</span><span class="s0">() { 
            module.verbose(</span><span class="s3">'Saving window position'</span><span class="s0">); 
            module.cache.screen = { 
              height: $context.height() 
            }; 
          }, 
          position: </span><span class="s2">function</span><span class="s0">() { 
            module.save.screenSize(); 
            module.save.elementPosition(); 
          } 
        }, 
 
        </span><span class="s2">get</span><span class="s0">: { 
          pixelsPassed: </span><span class="s2">function</span><span class="s0">(amount) { 
            </span><span class="s2">var</span><span class="s0"> 
              element = module.get.elementCalculations() 
            ; 
            </span><span class="s2">if</span><span class="s0">(amount.search(</span><span class="s3">'%'</span><span class="s0">) &gt; -</span><span class="s4">1</span><span class="s0">) { 
              </span><span class="s2">return </span><span class="s0">( element.height * (parseInt(amount, </span><span class="s4">10</span><span class="s0">) / </span><span class="s4">100</span><span class="s0">) ); 
            } 
            </span><span class="s2">return </span><span class="s0">parseInt(amount, </span><span class="s4">10</span><span class="s0">); 
          }, 
          occurred: </span><span class="s2">function</span><span class="s0">(callback) { 
            </span><span class="s2">return </span><span class="s0">(module.cache.occurred !== undefined) 
              ? module.cache.occurred[callback] || </span><span class="s2">false</span><span class="s0"> 
              : </span><span class="s2">false</span><span class="s0"> 
            ; 
          }, 
          direction: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.cache.direction === undefined) { 
              module.save.direction(); 
            } 
            </span><span class="s2">return </span><span class="s0">module.cache.direction; 
          }, 
          elementPosition: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.cache.element === undefined) { 
              module.save.elementPosition(); 
            } 
            </span><span class="s2">return </span><span class="s0">module.cache.element; 
          }, 
          elementCalculations: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.cache.element === undefined) { 
              module.save.elementCalculations(); 
            } 
            </span><span class="s2">return </span><span class="s0">module.cache.element; 
          }, 
          screenCalculations: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.cache.screen === undefined) { 
              module.save.screenCalculations(); 
            } 
            </span><span class="s2">return </span><span class="s0">module.cache.screen; 
          }, 
          screenSize: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.cache.screen === undefined) { 
              module.save.screenSize(); 
            } 
            </span><span class="s2">return </span><span class="s0">module.cache.screen; 
          }, 
          scroll: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.cache.scroll === undefined) { 
              module.save.scroll(); 
            } 
            </span><span class="s2">return </span><span class="s0">module.cache.scroll; 
          }, 
          lastScroll: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">if</span><span class="s0">(module.cache.screen === undefined) { 
              module.debug(</span><span class="s3">'First scroll event, no last scroll could be found'</span><span class="s0">); 
              </span><span class="s2">return false</span><span class="s0">; 
            } 
            </span><span class="s2">return </span><span class="s0">module.cache.screen.top; 
          } 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            module[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
    }) 
  ; 
 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.visibility.settings = { 
 
  name                   : </span><span class="s3">'Visibility'</span><span class="s0">, 
  namespace              : </span><span class="s3">'visibility'</span><span class="s0">, 
 
  className: { 
    fixed: </span><span class="s3">'fixed'</span><span class="s0"> 
  }, 
 
  debug                  : </span><span class="s2">false</span><span class="s0">, 
  verbose                : </span><span class="s2">false</span><span class="s0">, 
  performance            : </span><span class="s2">true</span><span class="s0">, 
 
  offset                 : </span><span class="s4">0</span><span class="s0">, 
  includeMargin          : </span><span class="s2">false</span><span class="s0">, 
 
  context                : window, 
 
  </span><span class="s1">// visibility check delay in ms (defaults to animationFrame)</span><span class="s0"> 
  throttle               : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// special visibility type (image, fixed)</span><span class="s0"> 
  type                   : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// image only settings</span><span class="s0"> 
  transition             : </span><span class="s2">false</span><span class="s0">, 
  duration               : </span><span class="s4">500</span><span class="s0">, 
 
  </span><span class="s1">// array of callbacks for percentage</span><span class="s0"> 
  onPassed               : {}, 
 
  </span><span class="s1">// standard callbacks</span><span class="s0"> 
  onPassing              : </span><span class="s2">false</span><span class="s0">, 
  onTopVisible           : </span><span class="s2">false</span><span class="s0">, 
  onBottomVisible        : </span><span class="s2">false</span><span class="s0">, 
  onTopPassed            : </span><span class="s2">false</span><span class="s0">, 
  onBottomPassed         : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// reverse callbacks</span><span class="s0"> 
  onPassingReverse       : </span><span class="s2">false</span><span class="s0">, 
  onTopVisibleReverse    : </span><span class="s2">false</span><span class="s0">, 
  onBottomVisibleReverse : </span><span class="s2">false</span><span class="s0">, 
  onTopPassedReverse     : </span><span class="s2">false</span><span class="s0">, 
  onBottomPassedReverse  : </span><span class="s2">false</span><span class="s0">, 
 
  once                   : </span><span class="s2">true</span><span class="s0">, 
  continuous             : </span><span class="s2">false</span><span class="s0">, 
 
  </span><span class="s1">// utility callbacks</span><span class="s0"> 
  onRefresh              : </span><span class="s2">function</span><span class="s0">(){}, 
  onScroll               : </span><span class="s2">function</span><span class="s0">(){}, 
 
  error : { 
    method   : </span><span class="s3">'The method you called is not defined.'</span><span class="s0"> 
  } 
 
}; 
 
})( jQuery, window , document ); 
 
</span><span class="s1">/* 
 * # Semantic - Visit 
 * http://github.com/semantic-org/semantic-ui/ 
 * 
 * 
 * Copyright 2014 Contributor 
 * Released under the MIT license 
 * http://opensource.org/licenses/MIT 
 * 
 */</span><span class="s0"> 
 
;(</span><span class="s2">function </span><span class="s0">($, window, document, undefined) { 
 
$.visit = $.fn.visit = </span><span class="s2">function</span><span class="s0">(parameters) { 
  </span><span class="s2">var</span><span class="s0"> 
    $allModules     = $.isFunction(</span><span class="s2">this</span><span class="s0">) 
        ? $(window) 
        : $(</span><span class="s2">this</span><span class="s0">), 
    moduleSelector  = $allModules.selector || </span><span class="s3">''</span><span class="s0">, 
 
    time            = </span><span class="s2">new </span><span class="s0">Date().getTime(), 
    performance     = [], 
 
    query           = arguments[</span><span class="s4">0</span><span class="s0">], 
    methodInvoked   = (</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string'</span><span class="s0">), 
    queryArguments  = [].slice.call(arguments, </span><span class="s4">1</span><span class="s0">), 
    returnedValue 
  ; 
  $allModules 
    .each(</span><span class="s2">function</span><span class="s0">() { 
      </span><span class="s2">var</span><span class="s0"> 
        settings        = $.extend(</span><span class="s2">true</span><span class="s0">, {}, $.fn.visit.settings, parameters), 
 
        error           = settings.error, 
        namespace       = settings.namespace, 
 
        eventNamespace  = </span><span class="s3">'.' </span><span class="s0">+ namespace, 
        moduleNamespace = namespace + </span><span class="s3">'-module'</span><span class="s0">, 
 
        $module         = $(</span><span class="s2">this</span><span class="s0">), 
        $displays       = $(), 
 
        element         = </span><span class="s2">this</span><span class="s0">, 
        instance        = $module.data(moduleNamespace), 
        module 
      ; 
      module = { 
 
        initialize: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.count) { 
            module.store(settings.key.count, settings.count); 
          } 
          </span><span class="s2">else if</span><span class="s0">(settings.id) { 
            module.add.id(settings.id); 
          } 
          </span><span class="s2">else if</span><span class="s0">(settings.increment &amp;&amp; methodInvoked !== </span><span class="s3">'increment'</span><span class="s0">) { 
            module.increment(); 
          } 
          module.add.display($module); 
          module.instantiate(); 
        }, 
 
        instantiate: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Storing instance of visit module'</span><span class="s0">, module); 
          instance = module; 
          $module 
            .data(moduleNamespace, module) 
          ; 
        }, 
 
        destroy: </span><span class="s2">function</span><span class="s0">() { 
          module.verbose(</span><span class="s3">'Destroying instance'</span><span class="s0">); 
          $module 
            .removeData(moduleNamespace) 
          ; 
        }, 
 
        increment: </span><span class="s2">function</span><span class="s0">(id) { 
          </span><span class="s2">var</span><span class="s0"> 
            currentValue = module.get.count(), 
            newValue     = +(currentValue) + </span><span class="s4">1</span><span class="s0"> 
          ; 
          </span><span class="s2">if</span><span class="s0">(id) { 
            module.add.id(id); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">if</span><span class="s0">(newValue &gt; settings.limit &amp;&amp; !settings.surpass) { 
              newValue = settings.limit; 
            } 
            module.debug(</span><span class="s3">'Incrementing visits'</span><span class="s0">, newValue); 
            module.store(settings.key.count, newValue); 
          } 
        }, 
 
        decrement: </span><span class="s2">function</span><span class="s0">(id) { 
          </span><span class="s2">var</span><span class="s0"> 
            currentValue = module.get.count(), 
            newValue     = +(currentValue) - </span><span class="s4">1</span><span class="s0"> 
          ; 
          </span><span class="s2">if</span><span class="s0">(id) { 
            module.remove.id(id); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.debug(</span><span class="s3">'Removing visit'</span><span class="s0">); 
            module.store(settings.key.count, newValue); 
          } 
        }, 
 
        </span><span class="s2">get</span><span class="s0">: { 
          count: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">return </span><span class="s0">+(module.retrieve(settings.key.count)) || </span><span class="s4">0</span><span class="s0">; 
          }, 
          idCount: </span><span class="s2">function</span><span class="s0">(ids) { 
            ids = ids || module.get.ids(); 
            </span><span class="s2">return </span><span class="s0">ids.length; 
          }, 
          ids: </span><span class="s2">function</span><span class="s0">(delimitedIDs) { 
            </span><span class="s2">var</span><span class="s0"> 
              idArray = [] 
            ; 
            delimitedIDs = delimitedIDs || module.retrieve(settings.key.ids); 
            </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">delimitedIDs === </span><span class="s3">'string'</span><span class="s0">) { 
              idArray = delimitedIDs.split(settings.delimiter); 
            } 
            module.verbose(</span><span class="s3">'Found visited ID list'</span><span class="s0">, idArray); 
            </span><span class="s2">return </span><span class="s0">idArray; 
          }, 
          storageOptions: </span><span class="s2">function</span><span class="s0">(data) { 
            </span><span class="s2">var</span><span class="s0"> 
              options = {} 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.expires) { 
              options.expires = settings.expires; 
            } 
            </span><span class="s2">if</span><span class="s0">(settings.domain) { 
              options.domain = settings.domain; 
            } 
            </span><span class="s2">if</span><span class="s0">(settings.path) { 
              options.path = settings.path; 
            } 
            </span><span class="s2">return </span><span class="s0">options; 
          } 
        }, 
 
        has: { 
          visited: </span><span class="s2">function</span><span class="s0">(id, ids) { 
            </span><span class="s2">var</span><span class="s0"> 
              visited = </span><span class="s2">false</span><span class="s0"> 
            ; 
            ids = ids || module.get.ids(); 
            </span><span class="s2">if</span><span class="s0">(id !== undefined &amp;&amp; ids) { 
              $.each(ids, </span><span class="s2">function</span><span class="s0">(index, value){ 
                </span><span class="s2">if</span><span class="s0">(value == id) { 
                  visited = </span><span class="s2">true</span><span class="s0">; 
                } 
              }); 
            } 
            </span><span class="s2">return </span><span class="s0">visited; 
          } 
        }, 
 
        </span><span class="s2">set</span><span class="s0">: { 
          count: </span><span class="s2">function</span><span class="s0">(value) { 
            module.store(settings.key.count, value); 
          }, 
          ids: </span><span class="s2">function</span><span class="s0">(value) { 
            module.store(settings.key.ids, value); 
          } 
        }, 
 
        reset: </span><span class="s2">function</span><span class="s0">() { 
          module.store(settings.key.count, </span><span class="s4">0</span><span class="s0">); 
          module.store(settings.key.ids, </span><span class="s2">null</span><span class="s0">); 
        }, 
 
        add: { 
          id: </span><span class="s2">function</span><span class="s0">(id) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentIDs = module.retrieve(settings.key.ids), 
              newIDs = (currentIDs === undefined || currentIDs === </span><span class="s3">''</span><span class="s0">) 
                ? id 
                : currentIDs + settings.delimiter + id 
            ; 
            </span><span class="s2">if</span><span class="s0">( module.has.visited(id) ) { 
              module.debug(</span><span class="s3">'Unique content already visited, not adding visit'</span><span class="s0">, id, currentIDs); 
            } 
            </span><span class="s2">else if</span><span class="s0">(id === undefined) { 
              module.debug(</span><span class="s3">'ID is not defined'</span><span class="s0">); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug(</span><span class="s3">'Adding visit to unique content'</span><span class="s0">, id); 
              module.store(settings.key.ids, newIDs); 
            } 
            module.set.count( module.get.idCount() ); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">(selector) { 
            </span><span class="s2">var</span><span class="s0"> 
              $element = $(selector) 
            ; 
            </span><span class="s2">if</span><span class="s0">($element.size() &gt; </span><span class="s4">0 </span><span class="s0">&amp;&amp; !$.isWindow($element[</span><span class="s4">0</span><span class="s0">])) { 
              module.debug(</span><span class="s3">'Updating visit count for element'</span><span class="s0">, $element); 
              $displays = ($displays.size() &gt; </span><span class="s4">0</span><span class="s0">) 
                ? $displays.add($element) 
                : $element 
              ; 
            } 
          } 
        }, 
 
        remove: { 
          id: </span><span class="s2">function</span><span class="s0">(id) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentIDs = module.get.ids(), 
              newIDs     = [] 
            ; 
            </span><span class="s2">if</span><span class="s0">(id !== undefined &amp;&amp; currentIDs !== undefined) { 
              module.debug(</span><span class="s3">'Removing visit to unique content'</span><span class="s0">, id, currentIDs); 
              $.each(currentIDs, </span><span class="s2">function</span><span class="s0">(index, value){ 
                </span><span class="s2">if</span><span class="s0">(value !== id) { 
                  newIDs.push(value); 
                } 
              }); 
              newIDs = newIDs.join(settings.delimiter); 
              module.store(settings.key.ids, newIDs ); 
            } 
            module.set.count( module.get.idCount() ); 
          } 
        }, 
 
        check: { 
          limit: </span><span class="s2">function</span><span class="s0">(value) { 
            value = value || module.get.count(); 
            </span><span class="s2">if</span><span class="s0">(settings.limit) { 
              </span><span class="s2">if</span><span class="s0">(value &gt;= settings.limit) { 
                module.debug(</span><span class="s3">'Pages viewed exceeded limit, firing callback'</span><span class="s0">, value, settings.limit); 
                $.proxy(settings.onLimit, </span><span class="s2">this</span><span class="s0">)(value); 
              } 
              module.debug(</span><span class="s3">'Limit not reached'</span><span class="s0">, value, settings.limit); 
              $.proxy(settings.onChange, </span><span class="s2">this</span><span class="s0">)(value); 
            } 
            module.update.display(value); 
          } 
        }, 
 
        update: { 
          display: </span><span class="s2">function</span><span class="s0">(value) { 
            value = value || module.get.count(); 
            </span><span class="s2">if</span><span class="s0">($displays.size() &gt; </span><span class="s4">0</span><span class="s0">) { 
              module.debug(</span><span class="s3">'Updating displayed view count'</span><span class="s0">, $displays); 
              $displays.html(value); 
            } 
          } 
        }, 
 
        store: </span><span class="s2">function</span><span class="s0">(key, value) { 
          </span><span class="s2">var</span><span class="s0"> 
            options = module.get.storageOptions(value) 
          ; 
          </span><span class="s2">if</span><span class="s0">(settings.storageMethod == </span><span class="s3">'localstorage' </span><span class="s0">&amp;&amp; window.localStorage !== undefined) { 
            window.localStorage.setItem(key, value); 
            module.debug(</span><span class="s3">'Value stored using local storage'</span><span class="s0">, key, value); 
          } 
          </span><span class="s2">else if</span><span class="s0">($.cookie !== undefined) { 
            $.cookie(key, value, options); 
            module.debug(</span><span class="s3">'Value stored using cookie'</span><span class="s0">, key, value, options); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.error(error.noCookieStorage); 
            </span><span class="s2">return</span><span class="s0">; 
          } 
          </span><span class="s2">if</span><span class="s0">(key == settings.key.count) { 
            module.check.limit(value); 
          } 
        }, 
        retrieve: </span><span class="s2">function</span><span class="s0">(key, value) { 
          </span><span class="s2">var</span><span class="s0"> 
            storedValue 
          ; 
          </span><span class="s2">if</span><span class="s0">(settings.storageMethod == </span><span class="s3">'localstorage' </span><span class="s0">&amp;&amp; window.localStorage !== undefined) { 
            storedValue = window.localStorage.getItem(key); 
          } 
          </span><span class="s1">// get by cookie</span><span class="s0"> 
          </span><span class="s2">else if</span><span class="s0">($.cookie !== undefined) { 
            storedValue = $.cookie(key); 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            module.error(error.noCookieStorage); 
          } 
          </span><span class="s2">if</span><span class="s0">(storedValue == </span><span class="s3">'undefined' </span><span class="s0">|| storedValue == </span><span class="s3">'null' </span><span class="s0">|| storedValue === undefined || storedValue === </span><span class="s2">null</span><span class="s0">) { 
            storedValue = undefined; 
          } 
          </span><span class="s2">return </span><span class="s0">storedValue; 
        }, 
 
        setting: </span><span class="s2">function</span><span class="s0">(name, value) { 
          </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
            $.extend(</span><span class="s2">true</span><span class="s0">, settings, name); 
          } 
          </span><span class="s2">else if</span><span class="s0">(value !== undefined) { 
            settings[name] = value; 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">settings[name]; 
          } 
        }, 
        internal: </span><span class="s2">function</span><span class="s0">(name, value) { 
          module.debug(</span><span class="s3">'Changing internal'</span><span class="s0">, name, value); 
          </span><span class="s2">if</span><span class="s0">(value !== undefined) { 
            </span><span class="s2">if</span><span class="s0">( $.isPlainObject(name) ) { 
              $.extend(</span><span class="s2">true</span><span class="s0">, module, name); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module[name] = value; 
            } 
          } 
          </span><span class="s2">else </span><span class="s0">{ 
            </span><span class="s2">return </span><span class="s0">module[name]; 
          } 
        }, 
        debug: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.debug = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.debug.apply(console, arguments); 
            } 
          } 
        }, 
        verbose: </span><span class="s2">function</span><span class="s0">() { 
          </span><span class="s2">if</span><span class="s0">(settings.verbose &amp;&amp; settings.debug) { 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              module.performance.log(arguments); 
            } 
            </span><span class="s2">else </span><span class="s0">{ 
              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
              module.verbose.apply(console, arguments); 
            } 
          } 
        }, 
        error: </span><span class="s2">function</span><span class="s0">() { 
          module.error = Function.prototype.bind.call(console.error, console, settings.name + </span><span class="s3">':'</span><span class="s0">); 
          module.error.apply(console, arguments); 
        }, 
        performance: { 
          log: </span><span class="s2">function</span><span class="s0">(message) { 
            </span><span class="s2">var</span><span class="s0"> 
              currentTime, 
              executionTime, 
              previousTime 
            ; 
            </span><span class="s2">if</span><span class="s0">(settings.performance) { 
              currentTime   = </span><span class="s2">new </span><span class="s0">Date().getTime(); 
              previousTime  = time || currentTime; 
              executionTime = currentTime - previousTime; 
              time          = currentTime; 
              performance.push({ 
                </span><span class="s3">'Name'           </span><span class="s0">: message[</span><span class="s4">0</span><span class="s0">], 
                </span><span class="s3">'Arguments'      </span><span class="s0">: [].slice.call(message, </span><span class="s4">1</span><span class="s0">) || </span><span class="s3">''</span><span class="s0">, 
                </span><span class="s3">'Element'        </span><span class="s0">: element, 
                </span><span class="s3">'Execution Time' </span><span class="s0">: executionTime 
              }); 
            } 
            clearTimeout(module.performance.timer); 
            module.performance.timer = setTimeout(module.performance.display, </span><span class="s4">100</span><span class="s0">); 
          }, 
          display: </span><span class="s2">function</span><span class="s0">() { 
            </span><span class="s2">var</span><span class="s0"> 
              title = settings.name + </span><span class="s3">':'</span><span class="s0">, 
              totalTime = </span><span class="s4">0</span><span class="s0"> 
            ; 
            time = </span><span class="s2">false</span><span class="s0">; 
            clearTimeout(module.performance.timer); 
            $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
              totalTime += data[</span><span class="s3">'Execution Time'</span><span class="s0">]; 
            }); 
            title += </span><span class="s3">' ' </span><span class="s0">+ totalTime + </span><span class="s3">'ms'</span><span class="s0">; 
            </span><span class="s2">if</span><span class="s0">(moduleSelector) { 
              title += </span><span class="s3">' </span><span class="s2">\'</span><span class="s3">' </span><span class="s0">+ moduleSelector + </span><span class="s3">'</span><span class="s2">\'</span><span class="s3">'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">($allModules.size() &gt; </span><span class="s4">1</span><span class="s0">) { 
              title += </span><span class="s3">' ' </span><span class="s0">+ </span><span class="s3">'(' </span><span class="s0">+ $allModules.size() + </span><span class="s3">')'</span><span class="s0">; 
            } 
            </span><span class="s2">if</span><span class="s0">( (console.group !== undefined || console.table !== undefined) &amp;&amp; performance.length &gt; </span><span class="s4">0</span><span class="s0">) { 
              console.groupCollapsed(title); 
              </span><span class="s2">if</span><span class="s0">(console.table) { 
                console.table(performance); 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                $.each(performance, </span><span class="s2">function</span><span class="s0">(index, data) { 
                  console.log(data[</span><span class="s3">'Name'</span><span class="s0">] + </span><span class="s3">': ' </span><span class="s0">+ data[</span><span class="s3">'Execution Time'</span><span class="s0">]+</span><span class="s3">'ms'</span><span class="s0">); 
                }); 
              } 
              console.groupEnd(); 
            } 
            performance = []; 
          } 
        }, 
        invoke: </span><span class="s2">function</span><span class="s0">(query, passedArguments, context) { 
          </span><span class="s2">var</span><span class="s0"> 
            object = instance, 
            maxDepth, 
            found, 
            response 
          ; 
          passedArguments = passedArguments || queryArguments; 
          context         = element         || context; 
          </span><span class="s2">if</span><span class="s0">(</span><span class="s2">typeof </span><span class="s0">query == </span><span class="s3">'string' </span><span class="s0">&amp;&amp; object !== undefined) { 
            query    = query.split(</span><span class="s4">/[\. ]/</span><span class="s0">); 
            maxDepth = query.length - </span><span class="s4">1</span><span class="s0">; 
            $.each(query, </span><span class="s2">function</span><span class="s0">(depth, value) { 
              </span><span class="s2">var </span><span class="s0">camelCaseValue = (depth != maxDepth) 
                ? value + query[depth + </span><span class="s4">1</span><span class="s0">].charAt(</span><span class="s4">0</span><span class="s0">).toUpperCase() + query[depth + </span><span class="s4">1</span><span class="s0">].slice(</span><span class="s4">1</span><span class="s0">) 
                : query 
              ; 
              </span><span class="s2">if</span><span class="s0">( $.isPlainObject( object[camelCaseValue] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[camelCaseValue]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[camelCaseValue] !== undefined ) { 
                found = object[camelCaseValue]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else if</span><span class="s0">( $.isPlainObject( object[value] ) &amp;&amp; (depth != maxDepth) ) { 
                object = object[value]; 
              } 
              </span><span class="s2">else if</span><span class="s0">( object[value] !== undefined ) { 
                found = object[value]; 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
              </span><span class="s2">else </span><span class="s0">{ 
                </span><span class="s2">return false</span><span class="s0">; 
              } 
            }); 
          } 
          </span><span class="s2">if </span><span class="s0">( $.isFunction( found ) ) { 
            response = found.apply(context, passedArguments); 
          } 
          </span><span class="s2">else if</span><span class="s0">(found !== undefined) { 
            response = found; 
          } 
          </span><span class="s2">if</span><span class="s0">($.isArray(returnedValue)) { 
            returnedValue.push(response); 
          } 
          </span><span class="s2">else if</span><span class="s0">(returnedValue !== undefined) { 
            returnedValue = [returnedValue, response]; 
          } 
          </span><span class="s2">else if</span><span class="s0">(response !== undefined) { 
            returnedValue = response; 
          } 
          </span><span class="s2">return </span><span class="s0">found; 
        } 
      }; 
      </span><span class="s2">if</span><span class="s0">(methodInvoked) { 
        </span><span class="s2">if</span><span class="s0">(instance === undefined) { 
          module.initialize(); 
        } 
        module.invoke(query); 
      } 
      </span><span class="s2">else </span><span class="s0">{ 
        </span><span class="s2">if</span><span class="s0">(instance !== undefined) { 
          module.destroy(); 
        } 
        module.initialize(); 
      } 
 
    }) 
  ; 
  </span><span class="s2">return </span><span class="s0">(returnedValue !== undefined) 
    ? returnedValue 
    : </span><span class="s2">this</span><span class="s0"> 
  ; 
}; 
 
$.fn.visit.settings = { 
 
  name          : </span><span class="s3">'Visit'</span><span class="s0">, 
 
  debug         : </span><span class="s2">false</span><span class="s0">, 
  verbose       : </span><span class="s2">true</span><span class="s0">, 
  performance   : </span><span class="s2">true</span><span class="s0">, 
 
  namespace     : </span><span class="s3">'visit'</span><span class="s0">, 
 
  increment     : </span><span class="s2">false</span><span class="s0">, 
  surpass       : </span><span class="s2">false</span><span class="s0">, 
  count         : </span><span class="s2">false</span><span class="s0">, 
  limit         : </span><span class="s2">false</span><span class="s0">, 
 
  delimiter     : </span><span class="s3">'&amp;'</span><span class="s0">, 
  storageMethod : </span><span class="s3">'localstorage'</span><span class="s0">, 
 
  key           : { 
    count : </span><span class="s3">'visit-count'</span><span class="s0">, 
    ids   : </span><span class="s3">'visit-ids'</span><span class="s0"> 
  }, 
 
  expires       : </span><span class="s4">30</span><span class="s0">, 
  domain        : </span><span class="s2">false</span><span class="s0">, 
  path          : </span><span class="s3">'/'</span><span class="s0">, 
 
  onLimit       : </span><span class="s2">function</span><span class="s0">() {}, 
  onChange      : </span><span class="s2">function</span><span class="s0">() {}, 
 
  error         : { 
    method          : </span><span class="s3">'The method you called is not defined'</span><span class="s0">, 
    missingPersist  : </span><span class="s3">'Using the persist setting requires the inclusion of PersistJS'</span><span class="s0">, 
    noCookieStorage : </span><span class="s3">'The default storage cookie requires $.cookie to be included.'</span><span class="s0"> 
  } 
 
}; 
 
})( jQuery, window , document ); 
</span></pre>
</body>
</html>